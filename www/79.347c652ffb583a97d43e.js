(window.webpackJsonp=window.webpackJsonp||[]).push([[79,109,349],{OXpz:function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return r}));var c=i("fXoL"),o=i("3Pt+");let n=(()=>{class t{constructor(t){this.control=t,this.specialKeys=["Backspace","Tab"]}ngOnChanges(t){if(-1===this.specialKeys.indexOf(t.key)&&!/^[0-9]*$/.test(this.control.value)){let t=this.control.value.replace(/[^0-9]/g,"");this.control.control.setValue(t)}}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(o.r))},t.\u0275dir=c.Tb({type:t,selectors:[["","numbersOnly",""]],hostBindings:function(t,e){1&t&&c.lc("input",(function(t){return e.ngOnChanges(t)}))},features:[c.Kb]}),t})(),s=(()=>{class t{constructor(t){this.control=t,this.specialKeys=["Backspace","Tab"]}ngOnChanges(t){if(-1===this.specialKeys.indexOf(t.key)&&this.control.value){let t=this.control.value.replace(/[^.0-9]+/g,"");this.control.control.setValue(t)}}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(o.r))},t.\u0275dir=c.Tb({type:t,selectors:[["","digitOnly",""]],hostBindings:function(t,e){1&t&&c.lc("input",(function(t){return e.ngOnChanges(t)}))},features:[c.Kb]}),t})(),a=(()=>{class t{constructor(t){this.el=t,this.regex=new RegExp(/^\d*\.?\d{0,2}$/g),this.specialKeys=["Backspace","Tab","End","Home","-","ArrowLeft","ArrowRight","Del","Delete"]}onKeyDown(t){if(console.log(this.el.nativeElement.value),-1!==this.specialKeys.indexOf(t.key))return;let e=this.el.nativeElement.value;const i=this.el.nativeElement.selectionStart,c=[e.slice(0,i),"Decimal"==t.key?".":t.key,e.slice(i)].join("");c&&!String(c).match(this.regex)&&t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(c.o))},t.\u0275dir=c.Tb({type:t,selectors:[["","amountOnly",""]],hostBindings:function(t,e){1&t&&c.lc("keydown",(function(t){return e.onKeyDown(t)}))}}),t})(),r=(()=>{class t{constructor(t){this._el=t}onInputChange(t){const e=this._el.nativeElement.value;this._el.nativeElement.value=e.replace(/[^0-9]*/g,""),e!==this._el.nativeElement.value&&t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(c.o))},t.\u0275dir=c.Tb({type:t,selectors:[["input","numericOnly",""]],hostBindings:function(t,e){1&t&&c.lc("input",(function(t){return e.onInputChange(t)}))}}),t})()},TaOT:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var c=i("fXoL"),o=i("fUdP");let n=(()=>{class t{constructor(t){this.customCurrencyPipe=t}markFormGroupTouched(t){Object.values(t.controls).forEach(t=>{t.markAsTouched(),t.controls&&t.controls.forEach(t=>this.markFormGroupTouched(t))})}markFormGroupUntouched(t){Object.values(t.controls).forEach(t=>{t.markAsUntouched(),t.controls&&t.controls.forEach(t=>this.markFormGroupUntouched(t))})}validationMessages(){return{required:"* This field is required",email:"* This email address is invalid",minlength:"* Length is too short",maxlength:"* Length is too long",invalid_characters:t=>{let e=t;return e=e.reduce((t,i,c)=>{let o=t;return o+=i,e.length!==c+1&&(o+=", "),o},""),"These characters are not allowed: "+e}}}validateForm(t,e,i){const c=t;for(const o in e)if(o){e[o]="";const t=c.get(o),n=this.validationMessages();if(t&&!t.valid&&(!i||t.dirty||t.touched))for(const i in t.errors)console.log("======>inside",i),e[o]=i&&"invalid_characters"!==i?e[o]||n[i]:e[o]||n[i](t.errors[i])}return e}formatCurrency(t,e,i){if("0"!=t)if(""!=t){let i=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==i.trim().replace(/[^.0-9]+/g,"")?e.contains("amount")&&e.get("amount").reset():"0"==i.trim().replace(/[^.0-9]+/g,"")?e.get("amount").reset():(console.log(i),e.patchValue({amount:i}))}else e.get("amount").reset("");else e.contains("amount")&&e.get("amount").reset()}formatTransLimit(t,e){if("0"!=t)if(""!=t){let i=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==i?e.contains("transactionLimit")&&e.get("transactionLimit").reset():"0"==i.trim()?e.get("transactionLimit").reset():(console.log(i),e.patchValue({transactionLimit:i}))}else e.get("transactionLimit").reset("");else e.contains("transactionLimit")&&e.get("transactionLimit").reset()}formatDynamicCurrency(t,e){$("#"+t).val()&&"\u20b9 0.00"!=$("#"+t).val()?e.patchValue({amount:$("#"+t).val()}):e.get("amount").reset("")}deFormatValue(t,e){e.patchValue({amount:t.replace(/[^0-9.]+/g,"")})}formatAmtCurrency(t,e,i){if("0"!=t)if(""!=t){let c=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==c?e.contains(i)&&e.get(i).reset():"0"==c.trim()?e.get(i).reset():e.controls[i].patchValue("\u20b9"+c)}else e.get(i).reset("");else e.contains(i)&&e.get(i).reset()}}return t.\u0275fac=function(e){return new(e||t)(c.ic(o.a))},t.\u0275prov=c.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},sh2C:function(t,e,i){"use strict";i.r(e),i.d(e,"SetMpinModule",(function(){return L}));var c=i("ofXK"),o=i("tyNb"),n=i("3Pt+"),s=i("kuSH"),a=i("fXoL"),r=i("EnSQ"),l=i("TaOT"),p=i("H9Rt"),h=i("5IsW"),d=i("L7Xq"),m=i("fHQ/"),u=i("au7T");let g=(()=>{class t{constructor(t,e,i,c,o){this.constant=t,this.encryptDecryptService=e,this.storage=i,this.dataService=c,this.commonMethods=o}getSetMPINParam(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(this.constant.val_entityId_UMOB),[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_MobileNo]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.Key_customerName]:this.dataService.regUPICustData.customerName,[this.constant.key_MPIN]:this.encryptDecryptService.createMD5Value(t),[this.constant.key_emailId]:this.dataService.regUPICustData.email_id,[this.constant.key_dateOfBirth]:"02-25-1252",[this.constant.key_gender]:"M",[this.constant.key_isBIOMETRICEnable]:this.dataService.regUPICustData.isBIOMETRICEnable,[this.constant.key_prefered_Language]:this.storage.hasKeyLocalStorage(this.constant.storage_language)?this.storage.getLocalStorage(this.constant.storage_language):"en"};return console.log("UPI SetMPIN API",JSON.stringify(e)),console.log("Mobile No",this.storage.getLocalStorage(this.constant.storage_mobileNo)),this.encryptDecryptService.encryptText(this.storage.getLocalStorage(this.constant.storage_mobileNo)+this.constant.mapEncryptKey,JSON.stringify(e))}getParamForLoginMPIN(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(this.constant.val_entityId_UMOB),[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_loginType]:this.constant.val_loginTypeMPIN,[this.constant.key_loginip]:this.constant.val_loginip,[this.constant.key_MobileNo]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_MPIN]:this.encryptDecryptService.createMD5Value(t)};return console.log(JSON.stringify(e)),this.encryptDataForMobile(e)}encryptDataForMobile(t){return console.log("storage_mobileStaticEncrypyKey",this.storage.getLocalStorage(this.constant.storage_mobileStaticEncrypyKey)),this.encryptDecryptService.encryptText(this.storage.getLocalStorage(this.constant.storage_mobileNo)+this.constant.mapEncryptKey,JSON.stringify(t))}getVPAListRequestObject(){let t={[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.commonMethods.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_subAction]:this.constant.upiserviceName_GETPAYMENTADDRESSLISTDETAILS,[this.constant.key_upi_inputParam]:{[this.constant.key_upi_appVersion]:this.constant.val_upi_app_version,[this.constant.key_upi_language]:this.dataService.getSelectedLanguageCodeUPI(),[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.commonMethods.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_device]:this.dataService.getDeviceObjectForUpi()}};console.log("getVPAListRequestObject 1 => ",JSON.stringify(t));let e={[this.constant.key_entityId]:this.constant.getEntityId(this.constant.val_entityId_UMOB),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_upiRequest]:JSON.stringify(t)};console.log("getVPAListRequestObject 2 => ",JSON.stringify(e));let i=this.encryptDecryptService.encryptText(this.storage.getLocalStorage(this.constant.storage_mobileNo)+this.constant.mapEncryptKey,JSON.stringify(e));return console.log("encryptData getOmniRequestObject => ",JSON.stringify(i)),i}}return t.\u0275fac=function(e){return new(e||t)(a.ic(h.a),a.ic(m.a),a.ic(p.a),a.ic(r.a),a.ic(u.a))},t.\u0275prov=a.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=i("oBZJ"),f=i("Eioz"),b=i("OXpz");const M=["mPINformRow"],I=["confirmMPINformRow"];function S(t,e){if(1&t){const t=a.fc();a.ec(0,"div",60),a.ec(1,"div",33),a.ec(2,"input",61,62),a.lc("keyup",(function(i){a.Hc(t);const c=e.index;return a.pc().keyUpEvent("mpin",i,c)})),a.dc(),a.dc(),a.dc()}if(2&t){const t=e.$implicit;a.Mb(2),a.vc("formControlName",t)}}function y(t,e){1&t&&(a.ec(0,"p"),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t&&(a.Mb(1),a.Uc(" ",a.rc(2,1,"ENTER_6_DIGIT_MPIN_ERROR")," "))}function _(t,e){1&t&&(a.ec(0,"p"),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t&&(a.Mb(1),a.Uc(" ",a.rc(2,1,"MPIN_SIMPLE_ERROR")," "))}function P(t,e){if(1&t){const t=a.fc();a.ec(0,"div",60),a.ec(1,"div",33),a.ec(2,"input",63,64),a.lc("keyup",(function(i){a.Hc(t);const c=e.index;return a.pc().keyUpEvent("confirmMpin",i,c)})),a.dc(),a.dc(),a.dc()}if(2&t){const t=e.$implicit;a.Mb(2),a.vc("formControlName",t)}}function E(t,e){1&t&&(a.ec(0,"p"),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t&&(a.Mb(1),a.Uc(" ",a.rc(2,1,"ENTER_6_DIGIT_CONFIRM_MPIN_ERROR")," "))}function k(t,e){1&t&&(a.ec(0,"p"),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t&&(a.Mb(1),a.Uc(" ",a.rc(2,1,"MPIN_CONFIRM_MISMATCH_ERROR")," "))}function N(t,e){1&t&&(a.ec(0,"p"),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t&&(a.Mb(1),a.Uc(" ",a.rc(2,1,"MPIN_SIMPLE_ERROR")," "))}function C(t,e){if(1&t){const t=a.fc();a.ec(0,"li"),a.ec(1,"a",65),a.lc("click",(function(){return a.Hc(t),a.pc().thumbClick()})),a.ec(2,"div",46),a.oc(),a.ec(3,"svg",66),a.ec(4,"g",67),a.Zb(5,"path",68),a.Zb(6,"path",69),a.Zb(7,"path",70),a.Zb(8,"path",71),a.Zb(9,"path",72),a.Zb(10,"path",73),a.Zb(11,"path",74),a.Zb(12,"path",75),a.dc(),a.dc(),a.dc(),a.dc(),a.dc()}}function R(t,e){if(1&t){const t=a.fc();a.ec(0,"li"),a.ec(1,"a",65),a.lc("click",(function(){return a.Hc(t),a.pc().faceClick()})),a.ec(2,"div",46),a.oc(),a.ec(3,"svg",66),a.Zb(4,"path",76),a.Zb(5,"path",77),a.Zb(6,"path",78),a.Zb(7,"path",79),a.Zb(8,"path",80),a.Zb(9,"path",81),a.Zb(10,"path",82),a.Zb(11,"path",83),a.dc(),a.dc(),a.dc(),a.dc()}}function T(t,e){1&t&&(a.ec(0,"p"),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t&&(a.Mb(1),a.Uc(" ",a.rc(2,1,"CHECK_ONE_OPTION")," "))}const O=[{path:"",component:(()=>{class t{constructor(t,e,i,c,o,n,s,a,r,l,p,h,d,m){this.fb=t,this.router=e,this.dataService=i,this.formValidation=c,this.localStorageService=o,this.constant=n,this.http=s,this.setMpinService=a,this.location=r,this.commonMethod=l,this.encryptDecryptService=p,this.plugin=h,this.translate=d,this.ngZone=m,this.oldMpinValues=[],this.validMpin=!1,this.validConfirmMpin=!1,this.mpinMatch=!0,this.isBiometricAvailable=!1,this.biometricType="",this.informationLabel="",this.information="",this.formInput=["mpinInput1","mpinInput2","mpinInput3","mpinInput4","mpinInput5","mpinInput6","confirmMpinInput1","confirmMpinInput2","confirmMpinInput3","confirmMpinInput4","confirmMpinInput5","confirmMpinInput6"],this.confMpinError="",this.mpinError="",this.headerdata={headerType:"UpiMainHeader",titleName:"",footertype:"none"}}ngOnInit(){this.ngZone.run(()=>{this.dataService.bezellessIphone&&$("#mainDiv").removeClass("pre-login")}),history.pushState({},"personalInfo",this.location.prepareExternalUrl("personalInfo")),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url)),this.mpinForm=this.toFormGroup(this.formInput),this.dataService.changeMessage(this.headerdata),this.buildForm(),this.callMpinAPI(),this.dataService.isFromMpinPage=!1}showBiometricModal(){this.commonMethod.openPopup("div.popup-bottom.confirmation")}hideBiometricModal(){this.dataService.regUPICustData.isBIOMETRICEnable="N",this.localStorageService.setLocalStorage(this.constant.key_localStorage_isBiometric,"N"),this.localStorageService.setLocalStorage(this.constant.storage_isCheckBiometric,"false"),this.commonMethod.closePopup("div.popup-bottom.confirmation"),this.callBankingService()}buildForm(){}checkRepeatedDigits(t){return console.log("checkRepeatedDigits val",t),/^([0-9])\1{5}$/.test(t)?(console.log("repeated true"),!0):(console.log("repeated false"),!1)}checkConsecutiveDigits(t){return console.log("checkConsecutiveDigits val === ",t),"012345"==t||"123456"==t||"234567"==t||"345678"==t||"456789"==t||"567890"==t||"987654"==t||"876543"==t||"765432"==t||"654321"==t||"543210"==t||"098765"==t?(console.log("consecutive true"),!0):(console.log("consecutive false"),!1)}callMpinAPI(){}validateForm(){if(this.mpinForm.invalid){this.mpinError="",this.confMpinError="",this.formValidation.markFormGroupTouched(this.mpinForm);for(const t in this.mpinForm.controls){const e=this.mpinForm.get(t);t.includes("mpin")&&e.hasError("required")?this.mpinError="* This field is required":t.includes("confirmMpin")&&e.hasError("required")&&(this.confMpinError="* This field is required")}}else this.mpinError="",this.confMpinError=""}checkMpinMatch(t,e){return t===e}submitForm(){if(this.validateForm(),this.mpinForm.valid){console.log("mpin ",this.getMPINValue()),console.log("confirm mpin ",this.getConfirmMPINValue());let t=this.checkConsecutiveDigits(this.getMPINValue());console.log("validMpin1",t);let e=this.checkRepeatedDigits(this.getMPINValue());console.log("validMpin2",e),this.validMpin=t||e,console.log("this.validMpin",this.validMpin);let i=this.checkConsecutiveDigits(this.getConfirmMPINValue()),c=this.checkRepeatedDigits(this.getConfirmMPINValue());this.validConfirmMpin=i||c,console.log("this.validConfirmMpin",this.validConfirmMpin),this.mpinMatch=this.checkMpinMatch(this.getMPINValue(),this.getConfirmMPINValue()),console.log("this.mpinMatch",this.mpinMatch),this.confMpinError||!this.mpinMatch||this.validConfirmMpin||this.mpinError||this.validMpin||(this.dataService.isCordovaAvailable?this.plugin.checkIfBiometricAvailable().then(t=>{t&&1==t.available?(this.biometricType=t.result,this.dataService.upiRegistrationFlow=!0,this.dataService.isFromMpinPage=!0,this.showBiometricModal()):this.hideBiometricModal()}):(this.commonMethod.closePopup("div.popup-bottom.confirmation"),this.callBankingService()))}}thumbClick(){this.biometriSelectedOption="biometric",this.dataService.regUPICustData.isBIOMETRICEnable="Y"}faceClick(){this.biometriSelectedOption="faceid",this.dataService.regUPICustData.isBIOMETRICEnable="Y"}goToPage(t){this.router.navigateByUrl("/"+t)}toFormGroup(t){const e={};return t.forEach(t=>{e[t]=new n.g("",n.G.required)}),new n.j(e)}getMPINValue(){var t="";for(const e in this.mpinForm.controls){const i=this.mpinForm.get(e);e.includes("mpin")&&!i.hasError("required")&&(t+=i.value)}return t}getConfirmMPINValue(){var t="";for(const e in this.mpinForm.controls){const i=this.mpinForm.get(e);e.includes("confirmMpin")&&!i.hasError("required")&&(t+=i.value)}return t}keyUpEvent(t,e,i){let c=i;8===(e.keyCode||e.which)?(c=0,"mpin"==t?(this.mpinForm.patchValue({mpinInput1:"",mpinInput2:"",mpinInput3:"",mpinInput4:"",mpinInput5:"",mpinInput6:""}),this.mPinRows._results[0].nativeElement.focus()):(this.mpinForm.patchValue({confirmMpinInput1:"",confirmMpinInput2:"",confirmMpinInput3:"",confirmMpinInput4:"",confirmMpinInput5:"",confirmMpinInput6:""}),this.confirmMPinRows._results[0].nativeElement.focus())):c=i+1,"mpin"==t?c>-1&&c<6&&this.mPinRows._results[c].nativeElement.focus():c>-1&&c<6&&this.confirmMPinRows._results[c].nativeElement.focus()}setUPIMpinAPIcall(t){this.http.callBankingAPIService(t,this.localStorageService.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_UPIREG,!0).subscribe(t=>{console.log(t);var e=t.responseParameter;"00"==e.opstatus?(console.log(t.responseParameter),this.dataService.platform.toLowerCase()==this.constant.val_android&&this.plugin.enableSmartIntent(!0),this.dataService.userUpiRegStaus=e.Result,this.dataService.mpin=this.getMPINValue(),this.getParamForSoftLogin()):this.errorCallBack(t.subActionId,e)})}errorCallBack(t,e){"02"!=e.opstatus&&"03"!=e.opstatus||showToastMessage(e.Result,"error")}checkFlow(){this.dataService.upiRegistrationFlow?(this.dataService.upiRegistrationFlow=!0,this.localStorageService.setLocalStorage(this.constant.storage_isUpiRegistrationSuccess,"true"),this.checkForExistingVPA()):this.dataService.omniRegistrationFlow=!0}biometricCheck(){this.commonMethod.closePopup("div.popup-bottom.confirmation"),this.localStorageService.setLocalStorage(this.constant.storage_isCheckBiometric,"false"),this.plugin.authenticateBiometric("Fingerprint/FaceID Authentication").then(t=>{if(console.log(t),1==t)this.information=this.translate.transform("FINGERPRINT_FACEID_AUTH_ENABLED"),this.dataService.regUPICustData.isBIOMETRICEnable="Y",this.localStorageService.setLocalStorage(this.constant.key_localStorage_isBiometric,"Y"),this.callBankingService();else switch(this.informationLabel=this.translate.transform("INFORMATION"),t.code){case s.c.BIOMETRIC_LOCKED_OUT_PERMANENT:this.information=this.translate.transform("BIOMETRIC_DISABLED"),this.showPopup("show-biometric-info-popup");break;case s.c.BIOMETRIC_LOCKED_OUT:this.information=this.translate.transform("BIOMETRIC_TOO_MANY_ATTEMPTS"),this.showPopup("show-biometric-info-popup");break;case s.c.BIOMETRIC_AUTHENTICATION_FAILED:this.information=this.translate.transform("BIOMETRIC_AUTH_FAILED"),this.showPopup("show-biometric-info-popup");break;case s.c.BIOMETRIC_PERMISSION_NOT_GRANTED:this.information=this.translate.transform("BIOMETRIC_PERMISSION_NOT_GRANTED"),this.showPopup("show-biometric-info-popup")}})}showPopup(t){this.commonMethod.openPopup("div.popup-bottom."+t)}closeBiometricInfoPopup(){this.information="",this.commonMethod.closeAllPopup()}callBankingService(){var t=this.setMpinService.getSetMPINParam(this.getMPINValue());this.setUPIMpinAPIcall(t)}backClick(){this.location.back()}getParamForSoftLogin(){let t=this.dataService.mpin;var e=this.setMpinService.getParamForLoginMPIN(t);this.sessionDecryptKey=this.encryptDecryptService.createMD5Value(t)+this.constant.sessionEncryptKey+this.localStorageService.getLocalStorage(this.constant.storage_mobileNo);let i=this.localStorageService.getLocalStorage(this.constant.storage_deviceId);this.loginMPINApiCall(e,i,"mpin")}loginMPINApiCall(t,e,i){this.http.callBankingAPIService(t,e,this.constant.upiserviceName_UPILOGIN,!0).subscribe(t=>{console.log("Implicit UpiLogin API Response => ",t);var e=t.responseParameter;if("00"==e.opstatus){console.log(t.responseParameter);var i=this.encryptDecryptService.decryptText(this.sessionDecryptKey,e.Session);if(console.log("sessionKey",i),this.commonMethod.validateEmpty(i))return void console.log("Invalid Credentials.");this.localStorageService.setSessionStorage(this.constant.val_sessionKey,i),this.localStorageService.setLocalStorage(this.constant.storage_isIBUser,e.isIBUser),this.localStorageService.setLocalStorage(this.constant.storage_isMBUser,e.isMBUser),this.localStorageService.setLocalStorage(this.constant.storage_isMPINEnable,e.isMPINEnable),this.localStorageService.setLocalStorage(this.constant.storage_isUPIUser,e.isUPIUser),this.dataService.regUPICustData.customerName=e.name,this.dataService.regUPICustData.lastLogin=e.LastLoginTime,this.dataService.mobStaticEncKey=this.localStorageService.getLocalStorage(this.constant.storage_mobileNo)+this.constant.mapEncryptKey,this.dataService.isUPILogin=!0,this.dataService.isUPILoginFlow=!0,this.dataService.vpaAddressList=[],this.checkFlow()}else this.errorCallBack(t.subActionId,e)})}checkBiometricAvailable(){this.plugin.checkIfBiometricAvailable().then(t=>{console.log(t),1==t.available&&(this.isBiometricAvailable=!0,this.biometricType=t.result)})}checkForExistingVPA(){let t=this.setMpinService.getVPAListRequestObject();this.http.callBankingAPIService(t,this.localStorageService.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_PROCESSUPISERVICE,!0).subscribe(t=>{var e;let i=t.responseParameter.upiResponse,c=(null===(e=i.responseParameter)||void 0===e?void 0:e.addresslist)?this.dataService.processVPAlist(i.responseParameter.addresslist):[];c.length>0?i.responseParameter.hasOwnProperty("migratedUser")&&"Y"==i.responseParameter.migratedUser&&"Y"==i.responseParameter.activeUser?(this.dataService.platform.toLowerCase()==this.constant.val_android&&this.plugin.enableSmartIntent(!0),this.commonMethod.openPopup("div.popup-bottom.user-verification")):i.responseParameter.hasOwnProperty("migratedUser")&&"Y"==i.responseParameter.migratedUser&&"N"==i.responseParameter.activeUser?(this.dataService.migratedVPAList=c,this.commonMethod.openPopup("div.popup-bottom.user-profile-inactive")):3==c.length?this.router.navigate(["/upiRegSuccess"]):(this.dataService.prevUrlForCreateVpaSuccess="upiRegSuccess",c.some(t=>"Y"===t.default)?(this.dataService.createDefaultVPAFlag=!1,this.router.navigate(["/createUpi"])):(this.dataService.createDefaultVPAFlag=!0,this.router.navigate(["/createUpi"]))):(this.dataService.createDefaultVPAFlag=!0,this.dataService.prevUrlForCreateVpaSuccess="upiRegSuccess",this.router.navigate(["/createUpi"]))},t=>{console.log("Omni API err => ",t)})}closePopup(t){this.commonMethod.closePopup(t),"div.popup-bottom.user-verification"==t?this.dataService.routeWithNgZone("upiDashboard"):"div.popup-bottom.user-profile-inactive"==t&&this.dataService.routeWithNgZone("migratedUserVerification")}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(n.f),a.Yb(o.c),a.Yb(r.a),a.Yb(l.a),a.Yb(p.a),a.Yb(h.a),a.Yb(d.a),a.Yb(g),a.Yb(c.n),a.Yb(u.a),a.Yb(m.a),a.Yb(v.a),a.Yb(f.a),a.Yb(a.H))},t.\u0275cmp=a.Sb({type:t,selectors:[["app-set-mpin"]],viewQuery:function(t,e){var i;1&t&&(a.Yc(M,!0),a.Yc(I,!0)),2&t&&(a.Dc(i=a.mc())&&(e.mPinRows=i),a.Dc(i=a.mc())&&(e.confirmMPinRows=i))},decls:171,vars:81,consts:[[1,"main"],[1,"right-main-column","minus-rt-col","bg1","mar-custom"],[1,"right-col-container"],[1,"body-page-container"],[1,"container-fluid"],[1,"bg-section"],[1,"col-sm-12","col-12","col-md-12"],[1,"row"],[1,"sub-header2"],[1,"in-header"],[1,"header-icons-lft"],[1,"header-actions"],[1,"ux-button-header",3,"click"],["src","assets/images/svg/left-arrow.svg","alt","left-arrow-icon",1,"img-vsmall"],[1,"brand-logo","m-auto","text-center"],[1,"header-icons-rit"],["src","assets/images/svg/close-w.svg","alt","cross-icon",1,"img-vsmall"],["id","mpin-form",3,"formGroup"],[1,"row1"],[1,"grey-bg2","mar-0","pad-custom"],[1,"col-12"],[1,"logo1"],["src","assets/images/logo/bhim-upi-logo.svg","alt","bhim-upi-logo"],[1,"col-12","mt-4"],[1,"step-list"],[1,"step-matched"],[1,"primary"],[1,"secondary"],[1,"col-12","mt-2"],[1,"col-sm-12","col-12","col-md-12","mb-2"],[1,"ux-input","pt-0"],[1,"message"],[1,"col-sm-12","col-12","col-md-12","mt-2"],[1,"ux-input","password1","p1"],["for","sapassword",1,"mb0"],[1,"row3"],["class","col-sm-2 col-2 col-md-2",4,"ngFor","ngForOf"],[1,"ux-input","input-error","password1","p1","mb-0"],[4,"ngIf"],[1,"ux-input","password1","p1","mt-0"],["for","capassword",1,"mb0"],[1,"footer-container","sticky-actions","box-shadow"],[1,"footer-inactions","minus-rt-col"],["type","button",1,"ux-button","primary","md","confirm-btn",3,"click"],[1,"sticky-actions-spacer"],[1,"popup-bottom","confirmation"],[1,"text-center"],["id","terms-form"],[1,"sim-list"],[1,"col-12","text-center"],[1,"col-6","text-center"],[1,"ux-button","secondary",3,"click"],[1,"ux-button","primary",3,"click"],[1,"popup-bottom","user-verification"],[1,"row1","mt-2"],[1,"col-12","text-center",3,"click"],["type","button",1,"ux-button","primary","submit-btn"],[1,"popup-bottom","user-profile-inactive"],[1,"popup-bottom","show-biometric-info-popup"],["src","./assets/images/svg/information.svg","alt","information-icon"],[1,"col-sm-2","col-2","col-md-2"],["type","tel","placeholder","\u25cf","autocomplete","off","numbersOnly","","maxlength","1",3,"formControlName","keyup"],["mPINformRow",""],["placeholder","\u25cf","type","tel","autocomplete","off","numbersOnly","","maxlength","1",3,"formControlName","keyup"],["confirmMPINformRow",""],[3,"click"],["xmlns","http://www.w3.org/2000/svg","width","80","height","80","viewBox","0 0 80 80"],["transform","translate(0)"],["d","M383.541,0h-11.2a2.344,2.344,0,1,0,0,4.687h11.2A3.964,3.964,0,0,1,387.5,8.647v11.2a2.344,2.344,0,0,0,4.688,0V8.647A8.657,8.657,0,0,0,383.541,0Z","transform","translate(-312.188)"],["d","M2.344,22.187a2.344,2.344,0,0,0,2.344-2.344V8.647a3.964,3.964,0,0,1,3.96-3.959h11.2a2.344,2.344,0,0,0,0-4.687H8.647A8.657,8.657,0,0,0,0,8.647v11.2a2.344,2.344,0,0,0,2.344,2.344Z"],["d","M19.844,387.5H8.647a3.964,3.964,0,0,1-3.96-3.959v-11.2a2.344,2.344,0,1,0-4.687,0v11.2a8.657,8.657,0,0,0,8.647,8.647h11.2a2.344,2.344,0,0,0,0-4.688Z","transform","translate(0 -312.188)"],["d","M389.844,370a2.344,2.344,0,0,0-2.344,2.344v11.2a3.964,3.964,0,0,1-3.959,3.959h-11.2a2.344,2.344,0,0,0,0,4.688h11.2a8.657,8.657,0,0,0,8.647-8.647v-11.2A2.344,2.344,0,0,0,389.844,370Z","transform","translate(-312.188 -312.188)"],["d","M140.512,50.309c-16.268-12.067-33.8-12.374-50.546-.214a2.344,2.344,0,1,0,2.754,3.793c15.132-10.989,30.425-10.625,45,.186a2.344,2.344,0,1,0,2.793-3.765Z","transform","translate(-75.093 -34.691)"],["d","M101.593,105c-9.957,0-22.757,6.63-28.2,14.794a2.344,2.344,0,1,0,3.9,2.6c4.512-6.769,15.867-12.706,24.3-12.706,8.257,0,19.55,4.405,24.215,12.569a2.344,2.344,0,1,0,4.07-2.325C124.5,110.527,111.887,105,101.593,105Z","transform","translate(-61.593 -88.594)"],["d","M149.688,251.594c0-7.668,5.678-13.906,12.656-13.906S175,243.926,175,251.594v2.5a2.344,2.344,0,1,0,4.687,0v-2.5c0-10.253-7.78-18.594-17.344-18.594S145,241.341,145,251.594c0,9.966,7.493,15.305,10.8,20.084a2.344,2.344,0,1,0,3.854-2.668C156.075,263.838,149.688,259.549,149.688,251.594Z","transform","translate(-122.344 -196.594)"],["d","M134.19,206.142C141.434,191.655,128.553,169,108.344,169,94.116,169,81,181.059,81,196.344c0,5.549.712,10.243,4.186,15.111A2.344,2.344,0,1,0,89,208.732c-2.447-3.429-3.314-6.671-3.314-12.389,0-12.069,10.587-22.656,22.656-22.656a22.792,22.792,0,0,1,16.463,7.353c6.21,6.615,8.441,16.5,5.191,23.006-3.384,6.767-14.31,4.849-14.31-3.952,0-17.382-17.805-12.183-14.617.568a2.344,2.344,0,1,0,4.547-1.137c-.819-3.275.683-5.838,2.726-5.838,1.835,0,2.656,3.217,2.656,6.406C111,213.818,128.58,217.362,134.19,206.142Z","transform","translate(-68.344 -142.594)"],["d","M14.333,34.333H11a2.5,2.5,0,0,1,0-5h3.333A4.172,4.172,0,0,0,18.5,25.167V8.5a2.5,2.5,0,0,1,5,0V25.167A9.174,9.174,0,0,1,14.333,34.333Z","transform","translate(19.833 14)"],["d","M21.416,27.92a16.107,16.107,0,0,1-13.82-7.9,2.5,2.5,0,0,1,4.31-2.54,11.042,11.042,0,0,0,19.027,0,2.5,2.5,0,0,1,4.31,2.54A16.126,16.126,0,0,1,21.416,27.92Z","transform","translate(16.917 37.914)"],["d","M40.979,27.827a2.5,2.5,0,0,1-2.5-2.5V9.167A4.172,4.172,0,0,0,34.312,5H18.152a2.5,2.5,0,1,1,0-5h16.16a9.176,9.176,0,0,1,9.167,9.167v16.16A2.5,2.5,0,0,1,40.979,27.827Z","transform","translate(36.521)"],["d","M2.5,27.827a2.5,2.5,0,0,1-2.5-2.5V9.167A9.176,9.176,0,0,1,9.167,0h16.16a2.5,2.5,0,0,1,0,5H9.167A4.172,4.172,0,0,0,5,9.167v16.16a2.5,2.5,0,0,1-2.5,2.5Z"],["d","M34.312,43.479H18.152a2.5,2.5,0,0,1,0-5h16.16a4.172,4.172,0,0,0,4.167-4.167V18.152a2.5,2.5,0,0,1,5,0v16.16A9.176,9.176,0,0,1,34.312,43.479Z","transform","translate(36.521 36.521)"],["d","M25.327,43.479H9.167A9.176,9.176,0,0,1,0,34.312V18.152a2.5,2.5,0,0,1,5,0v16.16a4.172,4.172,0,0,0,4.167,4.167h16.16a2.5,2.5,0,0,1,0,5Z","transform","translate(0 36.521)"],["d","M7.5,6A2.5,2.5,0,0,0,5,8.5v5a2.5,2.5,0,0,0,5,0v-5A2.5,2.5,0,0,0,7.5,6Z","transform","translate(11.667 14)"],["d","M19,6a2.5,2.5,0,0,0-2.5,2.5v5a2.5,2.5,0,0,0,5,0v-5A2.5,2.5,0,0,0,19,6Z","transform","translate(38.5 14)"]],template:function(t,e){1&t&&(a.ec(0,"div",0),a.ec(1,"div",1),a.ec(2,"div",2),a.ec(3,"div",3),a.ec(4,"div",4),a.ec(5,"div",5),a.ec(6,"div",6),a.ec(7,"div",7),a.ec(8,"div",8),a.ec(9,"div",9),a.ec(10,"div",10),a.ec(11,"div",11),a.ec(12,"button",12),a.lc("click",(function(){return e.backClick()})),a.Zb(13,"img",13),a.dc(),a.dc(),a.dc(),a.ec(14,"div",14),a.ec(15,"h4"),a.Sc(16),a.qc(17,"translate"),a.dc(),a.dc(),a.ec(18,"div",15),a.ec(19,"div",11),a.ec(20,"button",12),a.lc("click",(function(){return e.backClick()})),a.Zb(21,"img",16),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(22,"form",17),a.ec(23,"div",18),a.ec(24,"div",6),a.ec(25,"div",19),a.ec(26,"div",18),a.ec(27,"div",20),a.ec(28,"div",21),a.Zb(29,"img",22),a.dc(),a.dc(),a.ec(30,"div",23),a.ec(31,"ul",24),a.ec(32,"li",25),a.ec(33,"em"),a.ec(34,"span",26),a.Sc(35),a.qc(36,"translate"),a.dc(),a.ec(37,"span",27),a.Sc(38),a.qc(39,"translate"),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(40,"div",28),a.ec(41,"h4"),a.Sc(42),a.qc(43,"translate"),a.dc(),a.dc(),a.ec(44,"div",29),a.ec(45,"div",30),a.ec(46,"em",31),a.Sc(47),a.qc(48,"translate"),a.dc(),a.dc(),a.dc(),a.ec(49,"div",7),a.ec(50,"div",6),a.ec(51,"div",7),a.ec(52,"div",32),a.ec(53,"div",7),a.ec(54,"div",20),a.ec(55,"div",33),a.ec(56,"label",34),a.Sc(57),a.qc(58,"translate"),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(59,"div",35),a.Rc(60,S,4,1,"div",36),a.qc(61,"slice"),a.dc(),a.ec(62,"div",7),a.ec(63,"div",20),a.ec(64,"div",37),a.Rc(65,y,3,3,"p",38),a.Rc(66,_,3,3,"p",38),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(67,"div",32),a.ec(68,"div",7),a.ec(69,"div",20),a.ec(70,"div",39),a.ec(71,"label",40),a.Sc(72),a.qc(73,"translate"),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(74,"div",35),a.Rc(75,P,4,1,"div",36),a.qc(76,"slice"),a.dc(),a.ec(77,"div",7),a.ec(78,"div",20),a.ec(79,"div",37),a.Rc(80,E,3,3,"p",38),a.Rc(81,k,3,3,"p",38),a.Rc(82,N,3,3,"p",38),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(83,"div",41),a.ec(84,"div",42),a.ec(85,"div",4),a.ec(86,"div",7),a.ec(87,"div",20),a.ec(88,"button",43),a.lc("click",(function(){return e.submitForm()})),a.Sc(89),a.qc(90,"translate"),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.Zb(91,"div",44),a.dc(),a.dc(),a.dc(),a.ec(92,"div",45),a.ec(93,"div",7),a.ec(94,"div",20),a.ec(95,"h4",46),a.Sc(96),a.qc(97,"translate"),a.dc(),a.dc(),a.dc(),a.ec(98,"form",47),a.ec(99,"div",7),a.ec(100,"div",20),a.ec(101,"p"),a.Sc(102),a.qc(103,"translate"),a.dc(),a.dc(),a.ec(104,"div",20),a.ec(105,"ul",48),a.Rc(106,C,13,0,"li",38),a.Rc(107,R,12,0,"li",38),a.dc(),a.dc(),a.dc(),a.ec(108,"div",7),a.ec(109,"div",49),a.Rc(110,T,3,3,"p",38),a.dc(),a.dc(),a.ec(111,"div",7),a.ec(112,"div",50),a.ec(113,"button",51),a.lc("click",(function(){return e.hideBiometricModal()})),a.Sc(114),a.qc(115,"translate"),a.dc(),a.dc(),a.ec(116,"div",50),a.ec(117,"button",52),a.lc("click",(function(){return e.biometricCheck()})),a.Sc(118),a.qc(119,"translate"),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(120,"div",53),a.ec(121,"div",18),a.ec(122,"div",20),a.ec(123,"h4",46),a.Sc(124),a.qc(125,"translate"),a.dc(),a.dc(),a.dc(),a.ec(126,"div",18),a.ec(127,"div",20),a.ec(128,"p"),a.Sc(129),a.qc(130,"translate"),a.dc(),a.dc(),a.dc(),a.ec(131,"div",54),a.ec(132,"div",55),a.lc("click",(function(){return e.closePopup("div.popup-bottom.user-verification")})),a.ec(133,"button",56),a.Sc(134),a.qc(135,"translate"),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(136,"div",57),a.ec(137,"div",18),a.ec(138,"div",20),a.ec(139,"h4",46),a.Sc(140),a.qc(141,"translate"),a.dc(),a.dc(),a.dc(),a.ec(142,"div",18),a.ec(143,"div",20),a.ec(144,"p"),a.Sc(145),a.qc(146,"translate"),a.dc(),a.dc(),a.dc(),a.ec(147,"div",54),a.ec(148,"div",55),a.lc("click",(function(){return e.closePopup("div.popup-bottom.user-profile-inactive")})),a.ec(149,"button",56),a.Sc(150),a.qc(151,"translate"),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(152,"div",58),a.ec(153,"div",18),a.ec(154,"div",20),a.ec(155,"h4",46),a.Zb(156,"img",59),a.Sc(157),a.dc(),a.dc(),a.dc(),a.ec(158,"div",18),a.ec(159,"div",20),a.ec(160,"p"),a.Sc(161),a.dc(),a.dc(),a.dc(),a.ec(162,"div",7),a.ec(163,"div",50),a.ec(164,"button",51),a.lc("click",(function(){return e.closeBiometricInfoPopup(),e.biometricCheck()})),a.Sc(165),a.qc(166,"translate"),a.dc(),a.dc(),a.ec(167,"div",50),a.ec(168,"button",52),a.lc("click",(function(){return e.hideBiometricModal()})),a.Sc(169),a.qc(170,"translate"),a.dc(),a.dc(),a.dc(),a.dc()),2&t&&(a.Mb(16),a.Uc(" ",a.rc(17,33,"REGISTRATION")," "),a.Mb(6),a.uc("formGroup",e.mpinForm),a.Mb(13),a.Uc(" ",a.rc(36,35,"STEP_2")," "),a.Mb(3),a.Uc(" ",a.rc(39,37,"OF_STEP_2")," "),a.Mb(4),a.Uc(" ",a.rc(43,39,"SET_MPIN")," "),a.Mb(5),a.Uc(" ",a.rc(48,41,"MPIN_DESCRIPTION")," "),a.Mb(10),a.Uc(" ",a.rc(58,43,"ENTER_MPIN")," "),a.Mb(3),a.uc("ngForOf",a.tc(61,45,e.formInput,0,6)),a.Mb(5),a.uc("ngIf",e.mpinError),a.Mb(1),a.uc("ngIf",e.validMpin),a.Mb(6),a.Uc(" ",a.rc(73,49,"CONFIRM_MPIN")," "),a.Mb(3),a.uc("ngForOf",a.tc(76,51,e.formInput,6,12)),a.Mb(5),a.uc("ngIf",e.confMpinError),a.Mb(1),a.uc("ngIf",!e.mpinMatch),a.Mb(1),a.uc("ngIf",e.validConfirmMpin),a.Mb(7),a.Uc(" ",a.rc(90,55,"PROCEED")," "),a.Mb(7),a.Uc(" ",a.rc(97,57,"CONFIRMATION")," "),a.Mb(6),a.Uc(" ",a.rc(103,59,"ACTIVATE_BIOMETRIC")," "),a.Mb(4),a.uc("ngIf","finger"==e.biometricType||"biometric"==e.biometricType),a.Mb(1),a.uc("ngIf","face"==e.biometricType),a.Mb(3),a.uc("ngIf","nooption"==e.biometriSelectedOption),a.Mb(4),a.Uc(" ",a.rc(115,61,"LATER")," "),a.Mb(4),a.Uc(" ",a.rc(119,63,"YES")," "),a.Mb(6),a.Uc(" ",a.rc(125,65,"VERIFICATION")," "),a.Mb(5),a.Tc(a.rc(130,67,"WELCOME_BACK_TO_NEW_APP_MSG")),a.Mb(5),a.Tc(a.rc(135,69,"OK")),a.Mb(6),a.Uc(" ",a.rc(141,71,"VERIFICATION")," "),a.Mb(5),a.Tc(a.rc(146,73,"WELCOME_BACK_MIGRATED_USER")),a.Mb(5),a.Tc(a.rc(151,75,"OK")),a.Mb(7),a.Uc(" ",e.informationLabel," "),a.Mb(4),a.Tc(e.information),a.Mb(4),a.Uc(" ",a.rc(166,77,"RETRY")," "),a.Mb(4),a.Uc(" ",a.rc(170,79,"PROCEED")," "))},directives:[n.I,n.t,n.k,c.s,c.t,n.u,n.c,b.d,n.n,n.s,n.i],pipes:[f.a,c.E],styles:[""]}),t})()}];let A=(()=>{class t{}return t.\u0275mod=a.Wb({type:t}),t.\u0275inj=a.Vb({factory:function(e){return new(e||t)},imports:[[o.g.forChild(O)],o.g]}),t})();var U=i("PCNd"),w=i("AvjH");let L=(()=>{class t{}return t.\u0275mod=a.Wb({type:t}),t.\u0275inj=a.Vb({factory:function(e){return new(e||t)},imports:[[c.c,A,n.m,n.C,U.a,w.a]]}),t})()}}]);