(window.webpackJsonp=window.webpackJsonp||[]).push([[237],{"7CDA":function(e,t,c){"use strict";c.r(t),c.d(t,"CloseRDSuccessModule",(function(){return b}));var i=c("ofXK"),s=c("tyNb"),a=c("kuSH"),r=c("5RHE"),o=c("fXoL"),n=c("EnSQ"),d=c("5IsW"),l=c("au7T");function u(e,t){if(1&e){const e=o.fc();o.ec(0,"li"),o.ec(1,"a",37),o.lc("click",(function(){o.Hc(e);const c=t.$implicit;return o.pc().DataService.breadcrumroute(c.routeName)})),o.Sc(2),o.qc(3,"translate"),o.dc(),o.dc()}if(2&e){const e=t.$implicit;o.Mb(2),o.Tc(o.rc(3,1,e.currentRoute))}}function p(e,t){if(1&e&&(o.ec(0,"small",49),o.Sc(1),o.dc()),2&e){const e=o.pc();o.Mb(1),o.Uc("RD Account Number ",e.receiptResp.RDAccNumber,"")}}const h=function(e,t){return{success:e,error:t}},m=[{path:"",component:(()=>{class e{constructor(e,t,c,i,s){this.router=e,this.dataService=t,this.constant=c,this.commonMethod=i,this.datepipe=s,this.totalAccountList=[],this.receiptCloseRDJson=[{key:"Deposit Type",value:""},{key:"RD Account Number",value:""},{key:"Contracted Rate of Interest",value:""},{key:"Deposit Amount",value:""},{key:"Maturity Payout Account",value:""}],this.refTransJson=[{key:"Transaction ID",value:""}]}ngOnInit(){this.dataService.setShowThemeObservable(!0),this.dataService.setShowsideNavObservable(!0),this.dataService.setShowNotificationObservable(!0),this.dataService.getBreadcrumb("RECEIPT",this.router.url),this.dataService.setPageSettings("RECEIPT"),this.todayDateTime=this.datepipe.transform(new Date,"ddMMyyyyhhmmss"),this.totalAccountList=this.dataService.customerMyDepostie,this.receiptType=this.dataService.receiptType,this.receipdRefID=this.dataService.receipdRefID,this.receiptResp=this.dataService.closeRDObj,this.receiptMsg=this.dataService.receiptmsg,this.refTransJson[0].value=this.dataService.receipdRefID}goToPage(e){this.router.navigateByUrl("/"+e)}shareDetails(){this.shareViaMail()}shareViaMail(){let e=this.getValuesToSend();window.open("mailto:?subject=Receipt&body="+e)}getValuesToSend(){let e="";return e+="Deposit Type :"+this.receiptResp.depositType+", ",e+="RD Account Number :"+this.receiptResp.RDAccNumber+", ",e+="Contracted Rate of Interest :"+this.receiptResp.rateOfInterest+", ",e+="Deposit Amount :"+this.receiptResp.depositAmount+", ",e+="Maturity Payout Account :"+this.receiptResp.maturityPayoutAccount+", ",e.replace(/,\s*$/,"")}downloadPdfReceipt(e){if(console.log(this.dataService.receiptType),this.dataService.receiptType==this.constant.val_Successful)var t="success";else t="failed";var c=this.totalAccountList.filter(e=>e.accountNo==this.receiptResp.RDAccNumber);console.log("selected account details : ",c),this.receiptCloseRDJson[0].value=this.receiptResp.depositType?this.receiptResp.depositType:"-",this.receiptCloseRDJson[1].value=this.receiptResp.RDAccNumber?this.receiptResp.RDAccNumber:"-",this.receiptCloseRDJson[2].value=this.receiptResp.rateOfInterest?this.receiptResp.rateOfInterest+"%":"-",this.receiptCloseRDJson[3].value=this.receiptResp.depositAmount,this.receiptCloseRDJson[4].value=this.receiptResp.maturityPayoutAccount?this.receiptResp.maturityPayoutAccount:"-",this.generatePDF(t,this.receiptType,this.dataService.receiptmsg,this.refTransJson,this.receiptCloseRDJson,"Close_RD_Receipt",[{key:"Branch Name",value:c[0].branch_name},{key:"Branch Code",value:c[0].branchCode},{key:"Branch Address",value:c[0].BRANCHADDRESS},{key:"Branch Contact",value:c[0].phone_number},{key:"IFSC",value:c[0].ifscCode}],e,c[0].accountNo,this.todayDateTime)}generatePDF(e,t,c,i,s,o,n,d,l,u){var p=new r,h=(p.internal.pageSize.height||p.internal.pageSize.getHeight(),p.internal.pageSize.width||p.internal.pageSize.getWidth());(m=new Image).src="assets/images/psb-logo-new.png",p.addImage(m,"png",20,16,60,15),p.setLineWidth(.5),p.line(90,7,90,40),p.addFileToVFS("Sakalbharati.ttf",a.e.Sakalbharati),p.addFont("Sakalbharati.ttf","Sakalbharati","normal"),p.setFont("Sakalbharati"),p.setFontSize(7);var m,v=10;for(f=0;f<n.length;f++)p.text(n[f].key+": "+n[f].value,h-110,v,"left"),v+=5;p.setLineWidth(.1),p.line(15,45,h-15,45),p.setFontSize(20),p.text("E-Receipt",h/2,60,"center"),(m=new Image).src="success"==e?"assets/images/success-arrow.png":"assets/images/fail-arrow.png",p.addImage(m,"png",20,75,16,16),p.setFontSize(20),p.text(t,40,85,"left"),p.setFontSize(12),p.text(c,40,95,"left"),p.setFontSize(9),p.text(i[0].key+": "+i[0].value,40,105,"left"),p.setLineWidth(.1),p.line(17,110,h-17,110),p.addFileToVFS("Sakalbharati.ttf",a.e.Sakalbharati),p.addFont("Sakalbharati.ttf","Sakalbharati","normal"),p.setFont("Sakalbharati"),p.setFontSize(11);var b=120;for(f=0;f<s.length;f++)p.text(s[f].key+": "+s[f].value,25,b,"left"),b+=10;p.setLineWidth(.2),p.rect(15,70,p.internal.pageSize.width-30,115,"S"),p.setFontSize(8),p.text("This is computer generated statement and does not require any signature.",15,277,"left");const g=p.internal.getNumberOfPages();p.setFontSize(6);for(var f=1;f<=g;f++)p.setPage(f),p.setLineWidth(.1),p.line(15,282,h-15,282),p.setFontSize(8),p.text("Registered Office: Punjab & Sind Bank, 21, Rajendra Place, New Delhi- 110008",15,287,"left"),p.text("Page "+String(f)+" of "+String(g),p.internal.pageSize.width-30,287,"left");"Y"==d?(p.autoPrint(),window.open(p.output("bloburl"))):this.commonMethod.downloadPDF(p,o+"_xx"+this.maskCharacter(l,4)+"_"+u)}maskCharacter(e,t){return e.slice(-t)}onHomeClick(){this.router.navigateByUrl("/myDeposits")}}return e.\u0275fac=function(t){return new(t||e)(o.Yb(s.c),o.Yb(n.a),o.Yb(d.a),o.Yb(l.a),o.Yb(i.f))},e.\u0275cmp=o.Sb({type:e,selectors:[["app-close-rd-success"]],decls:102,vars:15,consts:[[1,"main","bg-none","frwk-changes"],[1,"nav-overlay"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container","main-dashborad","fundtransfer"],[1,"container-fluid"],[1,"row"],[1,"col-12","p-0"],[1,"breadcrumb"],[1,"lst-breadcrumb"],[4,"ngFor","ngForOf"],[1,"vspacer15","customize","d-none","d-md-block","d-lg-block","d-xl-block"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-9"],[1,"greencard2"],[1,"row1","hide-m"],[1,"col-md-8","col-12"],[1,"col-md-4","col-12"],[1,"col-sm-12","col-12","col-md-12"],[1,"white-box2","mar-t","pad-custom","custom-bor"],[1,"success"],[1,"pl-0",3,"ngClass"],["alt","success-icon",3,"src"],["class","mar-t bold",4,"ngIf"],[1,"mt-2"],[1,"bg-img"],["src","assets/images/svg/psb-receipt icon.svg","alt","success-bg"],[1,"result-container1","mar-top"],[1,"info-bottom","pad-custom"],[1,"info-details","mt-3"],[1,"info-details"],["src","assets/images/svg/rupee-bl.svg","alt","rupees-icon"],[1,"col-12","col-md-12"],[1,"col-md-12","col-lg-6","col-12"],[1,"link-list","hide-m"],[3,"click"],["src","assets/images/svg/share.svg","alt","share-icon"],["src","assets/images/svg/download.svg","alt","download-icon"],["src","assets/images/svg/print.svg","alt","print-icon"],[1,"bottom-footer1"],[1,"btn-div"],[1,"ux-button","secondary","sm-mob",3,"click"],[1,"ux-button","primary","sm-mob",3,"click"],[1,"col-12","col-md-12","col-lg-12","col-xl-3","d-none","d-xl-block"],[1,"right-ads"],["src","assets/images/banner/my-card-banner.jpg"],[1,"vspacer30"],[1,"mar-t","bold"]],template:function(e,t){1&e&&(o.ec(0,"div",0),o.Zb(1,"div",1),o.ec(2,"div",2),o.ec(3,"div",3),o.ec(4,"div",4),o.ec(5,"div",5),o.ec(6,"div",6),o.ec(7,"div",7),o.ec(8,"div",8),o.ec(9,"ul",9),o.Rc(10,u,4,3,"li",10),o.dc(),o.dc(),o.dc(),o.dc(),o.Zb(11,"div",11),o.ec(12,"div",12),o.ec(13,"div",13),o.ec(14,"div",14),o.ec(15,"div",15),o.ec(16,"div",16),o.ec(17,"div",17),o.ec(18,"div",18),o.ec(19,"h4"),o.Sc(20,"Receipt"),o.dc(),o.dc(),o.Zb(21,"div",19),o.dc(),o.ec(22,"div",14),o.ec(23,"div",20),o.ec(24,"div",21),o.ec(25,"div",6),o.ec(26,"div",22),o.ec(27,"h5",23),o.Zb(28,"img",24),o.Sc(29),o.dc(),o.ec(30,"small"),o.Sc(31),o.dc(),o.Rc(32,p,2,1,"small",25),o.ec(33,"small"),o.ec(34,"span",26),o.Sc(35),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(36,"div",27),o.Zb(37,"img",28),o.dc(),o.dc(),o.dc(),o.ec(38,"div",20),o.ec(39,"div",29),o.ec(40,"div",30),o.ec(41,"div",31),o.ec(42,"div",6),o.ec(43,"h6"),o.Sc(44,"Deposit Type"),o.dc(),o.ec(45,"h5"),o.Sc(46),o.dc(),o.dc(),o.dc(),o.ec(47,"div",32),o.ec(48,"div",6),o.ec(49,"h6"),o.Sc(50,"RD Account Number"),o.dc(),o.ec(51,"h5"),o.Sc(52),o.dc(),o.dc(),o.dc(),o.ec(53,"div",32),o.ec(54,"div",6),o.ec(55,"h6"),o.Sc(56,"Contracted Rate of interest"),o.dc(),o.ec(57,"h5"),o.Sc(58),o.dc(),o.dc(),o.dc(),o.ec(59,"div",32),o.ec(60,"div",6),o.ec(61,"h6"),o.Sc(62,"Installment Amount"),o.dc(),o.ec(63,"h5"),o.Zb(64,"img",33),o.Sc(65),o.dc(),o.dc(),o.dc(),o.ec(66,"div",32),o.ec(67,"div",6),o.ec(68,"h6"),o.Sc(69,"Maturity Payout Account"),o.dc(),o.ec(70,"h5"),o.Sc(71),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(72,"div",34),o.ec(73,"div",14),o.ec(74,"div",35),o.ec(75,"ul",36),o.ec(76,"li",37),o.lc("click",(function(){return t.shareDetails()})),o.ec(77,"a"),o.Zb(78,"img",38),o.Sc(79,"Share"),o.dc(),o.dc(),o.ec(80,"li",37),o.lc("click",(function(){return t.downloadPdfReceipt("N")})),o.ec(81,"a"),o.Zb(82,"img",39),o.Sc(83,"Download"),o.dc(),o.dc(),o.ec(84,"li",37),o.lc("click",(function(){return t.downloadPdfReceipt("Y")})),o.ec(85,"a"),o.Zb(86,"img",40),o.Sc(87,"Print"),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(88,"div",35),o.ec(89,"ul",41),o.ec(90,"li"),o.ec(91,"div",42),o.ec(92,"button",43),o.lc("click",(function(){return t.goToPage("myDeposits")})),o.Sc(93,"More Deposits"),o.dc(),o.dc(),o.ec(94,"div",42),o.ec(95,"button",44),o.lc("click",(function(){return t.onHomeClick()})),o.Sc(96,"Back to Home"),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(97,"div",45),o.ec(98,"div",46),o.ec(99,"a"),o.Zb(100,"img",47),o.dc(),o.dc(),o.Zb(101,"div",48),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc()),2&e&&(o.Mb(10),o.uc("ngForOf",t.dataService.breadcrumblist),o.Mb(17),o.uc("ngClass",o.zc(12,h,t.receiptType===t.constant.val_Successful,t.receiptType!=t.constant.val_Successful)),o.Mb(1),o.uc("src",t.receiptType==t.constant.val_Successful?"assets/images/svg/success-arrow.svg":"assets/images/svg/fail.svg",o.Jc),o.Mb(1),o.Uc(" ",t.receiptType,""),o.Mb(2),o.Tc(t.receiptMsg),o.Mb(1),o.uc("ngIf",t.receiptResp.FDAccNumber),o.Mb(3),o.Uc(" Transaction ID ",t.receipdRefID," "),o.Mb(11),o.Tc(t.receiptResp.depositType),o.Mb(6),o.Tc(t.receiptResp.RDAccNumber),o.Mb(6),o.Uc("",t.receiptResp.rateOfInterest," %"),o.Mb(7),o.Uc(" ",t.receiptResp.depositAmount,""),o.Mb(6),o.Tc(t.receiptResp.maturityPayoutAccount))},directives:[i.s,i.q,i.t],styles:[""]}),e})()}];let v=(()=>{class e{}return e.\u0275mod=o.Wb({type:e}),e.\u0275inj=o.Vb({factory:function(t){return new(t||e)},imports:[[s.g.forChild(m)],s.g]}),e})(),b=(()=>{class e{}return e.\u0275mod=o.Wb({type:e}),e.\u0275inj=o.Vb({factory:function(t){return new(t||e)},imports:[[i.c,v]]}),e})()}}]);