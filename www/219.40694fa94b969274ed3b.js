(window.webpackJsonp=window.webpackJsonp||[]).push([[219],{Zr9Y:function(e,c,t){"use strict";t.r(c),t.d(c,"LoanRepaymentScheduleModule",(function(){return S}));var a=t("ofXK"),l=t("tyNb"),d=t("fXoL"),n=t("EnSQ"),o=t("4H2G"),i=t("L7Xq"),r=t("H9Rt"),s=t("5IsW"),m=t("fUdP"),u=t("Eioz");function v(e,c){if(1&e){const e=d.fc();d.ec(0,"li"),d.ec(1,"a",34),d.lc("click",(function(){d.Hc(e);const t=c.$implicit;return d.pc().dataService.breadcrumroute(t.routeName)})),d.Sc(2),d.qc(3,"translate"),d.dc(),d.dc()}if(2&e){const e=c.$implicit;d.Mb(2),d.Tc(d.rc(3,1,e.currentRoute))}}const h=[{path:"",component:(()=>{class e{constructor(e,c,t,a,l,d){this.dataService=e,this.router=c,this.myBorrowingService=t,this.http=a,this.storage=l,this.constant=d}ngOnInit(){var e,c,t,a;this.dataService.setShowThemeObservable(!0),this.dataService.setShowsideNavObservable(!0),this.dataService.setShowNotificationObservable(!0),this.dataService.getBreadcrumb("REPAYMENT_SCHEDULE",this.router.url),this.dataService.setPageSettings("REPAYMENT_SCHEDULE"),this.accNo=this.dataService.selLoanAccDtlNo.accountNo,this.overdueAmt=parseFloat(null===(e=this.dataService.loanUserDtl)||void 0===e?void 0:e.pricipalDemandArrears)+parseFloat(null===(c=this.dataService.loanUserDtl)||void 0===c?void 0:c.interestDemandsArrears)+parseFloat(null===(t=this.dataService.loanUserDtl)||void 0===t?void 0:t.chargesDemandArrears)+parseFloat(null===(a=this.dataService.loanUserDtl)||void 0===a?void 0:a.otherChargesDemand)}ngAfterViewInit(){this.getLoanRepaymentSchedule()}goToPage(e){this.router.navigateByUrl("/"+e)}getLoanRepaymentSchedule(){var e=this.myBorrowingService.getLoanRepaymentSchedule(this.accNo);this.http.callBankingAPIService(e,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_LOANREPAYMENTSCHEDULE).subscribe(e=>{var c;console.log("loan enq resp===>",e),"00"==e.responseParameter.opstatus&&e.hasOwnProperty("set")&&(this.loanRepayemtDtl=e.set.records[0],this.loanRepayemtDtl._flowStartDate=this.setDate(this.loanRepayemtDtl.flowStartDate),this.loanRepayemtDtl._nextDemandDate=this.setDate(this.loanRepayemtDtl.nextDemandDate),this.loanRepayemtDtl.numberOfFlows=parseInt(null===(c=this.loanRepayemtDtl)||void 0===c?void 0:c.numberOfFlows),this.installmentDue=this.getInstallmentDue(this.loanRepayemtDtl))})}getInstallmentDue(e){var c,t=this.dateDiff(e.nextDemandDate,e.flowStartDate);switch(e.repaymentFrequencyType){case"Daily":c=parseFloat(e.numberOfFlows)-t/1;break;case"Weekly":c=parseFloat(e.numberOfFlows)-t/7;break;case"Monthly":c=parseFloat(e.numberOfFlows)-t/30;break;case"Fortnightly":c=parseFloat(e.numberOfFlows)-t/14;break;case"Quarterly":c=parseFloat(e.numberOfFlows)-t/90;break;case"Half-Yearly":c=parseFloat(e.numberOfFlows)-t/182;break;case"Yearly":c=parseFloat(e.numberOfFlows)-t/365}return Math.ceil(c)}dateDiff(e,c){var t=new Date(e.slice(4,6)+"-"+e.slice(6)+"-"+e.slice(0,4)),a=new Date(c.slice(4,6)+"-"+c.slice(6)+"-"+c.slice(0,4)),l=Math.abs(t.getTime()-a.getTime());return Math.ceil(l/864e5)}setDate(e){var c=e.match(/(\d{4})(\d{2})(\d{2})/);return c[3]+"/"+c[2]+"/"+c[1]}}return e.\u0275fac=function(c){return new(c||e)(d.Yb(n.a),d.Yb(l.c),d.Yb(o.a),d.Yb(i.a),d.Yb(r.a),d.Yb(s.a))},e.\u0275cmp=d.Sb({type:e,selectors:[["app-loan-repayment-schedule"]],decls:121,vars:23,consts:[[1,"main","bg-m"],[1,"nav-overlay"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container","main-dashborad","manage-payee"],[1,"container-fluid"],[1,"row"],[1,"col-12","p-0"],[1,"breadcrumb"],[1,"lst-breadcrumb"],[4,"ngFor","ngForOf"],[1,"vspacer15","customize","d-none","d-md-block","d-lg-block","d-xl-block"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-9"],[1,"greencard2"],[1,"row1","hide-m"],[1,"col-md-8","col-12"],[1,"col-md-4","col-12"],[1,"col-sm-12","col-12","col-md-12"],[1,"white-box2","mb-2","mt-0","p-0"],[1,"info-bottom","pad-custom"],[1,"info-details"],[1,"white-box2","mb-3","p-0"],[1,"info-details","mt-3","col-12","p-0"],[1,"col-12","col-md-12"],[1,"bottom-footer1"],[1,"btn-div","w100"],[1,"ux-button","secondary","sm-mob",3,"click"],[1,"col-12","col-md-12","col-lg-12","col-xl-3","d-none","d-xl-block"],[1,"right-ads"],["src","assets/images/banner/my-card-banner.jpg"],[1,"vspacer30"],[3,"click"]],template:function(e,c){1&e&&(d.ec(0,"div",0),d.Zb(1,"div",1),d.ec(2,"div",2),d.ec(3,"div",3),d.ec(4,"div",4),d.ec(5,"div",5),d.ec(6,"div",6),d.ec(7,"div",7),d.ec(8,"div",8),d.ec(9,"ul",9),d.Rc(10,v,4,3,"li",10),d.dc(),d.dc(),d.dc(),d.dc(),d.Zb(11,"div",11),d.ec(12,"div",12),d.ec(13,"div",13),d.ec(14,"div",14),d.ec(15,"div",15),d.ec(16,"div",16),d.ec(17,"div",17),d.ec(18,"div",18),d.ec(19,"h4"),d.Sc(20,"Loan Repayment Schedule"),d.dc(),d.dc(),d.Zb(21,"div",19),d.dc(),d.ec(22,"div",14),d.ec(23,"div",20),d.ec(24,"div",21),d.ec(25,"div",22),d.ec(26,"div",23),d.ec(27,"div",6),d.ec(28,"h6"),d.Sc(29,"Account Number"),d.dc(),d.ec(30,"h5"),d.Sc(31),d.dc(),d.dc(),d.dc(),d.ec(32,"div",23),d.ec(33,"div",6),d.ec(34,"h6"),d.Sc(35,"Loan Amount"),d.dc(),d.ec(36,"h5"),d.Sc(37),d.qc(38,"customcurrency"),d.dc(),d.dc(),d.dc(),d.ec(39,"div",23),d.ec(40,"div",6),d.ec(41,"h6"),d.Sc(42,"Balance Outstanding"),d.dc(),d.ec(43,"h5"),d.Sc(44),d.qc(45,"customcurrency"),d.dc(),d.dc(),d.dc(),d.ec(46,"div",23),d.ec(47,"div",6),d.ec(48,"h6"),d.Sc(49,"Overdue Amount"),d.dc(),d.ec(50,"h5"),d.Sc(51),d.qc(52,"customcurrency"),d.dc(),d.dc(),d.dc(),d.ec(53,"div",23),d.ec(54,"div",6),d.ec(55,"h6"),d.Sc(56,"EMI Amount"),d.dc(),d.ec(57,"h5"),d.Sc(58),d.qc(59,"customcurrency"),d.dc(),d.dc(),d.dc(),d.ec(60,"div",23),d.ec(61,"div",6),d.ec(62,"h6"),d.Sc(63,"EMI Start Date"),d.dc(),d.ec(64,"h5"),d.Sc(65),d.dc(),d.dc(),d.dc(),d.ec(66,"div",23),d.ec(67,"div",6),d.ec(68,"h6"),d.Sc(69,"Total Number of Installment"),d.dc(),d.ec(70,"h5"),d.Sc(71),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.ec(72,"div",20),d.ec(73,"div",24),d.ec(74,"div",22),d.ec(75,"div",25),d.ec(76,"div",6),d.ec(77,"h5"),d.Sc(78,"Loan Payment Schedule"),d.dc(),d.dc(),d.dc(),d.ec(79,"div",23),d.ec(80,"div",6),d.ec(81,"h6"),d.Sc(82,"First Installment Date"),d.dc(),d.ec(83,"h5"),d.Sc(84),d.dc(),d.dc(),d.dc(),d.ec(85,"div",23),d.ec(86,"div",6),d.ec(87,"h6"),d.Sc(88,"Installment Amount"),d.dc(),d.ec(89,"h5"),d.Sc(90),d.qc(91,"customcurrency"),d.dc(),d.dc(),d.dc(),d.ec(92,"div",23),d.ec(93,"div",6),d.ec(94,"h6"),d.Sc(95,"Number of Installment to be paid"),d.dc(),d.ec(96,"h5"),d.Sc(97),d.dc(),d.dc(),d.dc(),d.ec(98,"div",23),d.ec(99,"div",6),d.ec(100,"h6"),d.Sc(101,"Next Demand Date"),d.dc(),d.ec(102,"h5"),d.Sc(103),d.dc(),d.dc(),d.dc(),d.ec(104,"div",23),d.ec(105,"div",6),d.ec(106,"h6"),d.Sc(107,"Repayment Frequency"),d.dc(),d.ec(108,"h5"),d.Sc(109),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.ec(110,"div",26),d.ec(111,"ul",27),d.ec(112,"li"),d.ec(113,"div",28),d.ec(114,"button",29),d.lc("click",(function(){return c.goToPage("loanDetails")})),d.Sc(115,"Back"),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.ec(116,"div",30),d.ec(117,"div",31),d.ec(118,"a"),d.Zb(119,"img",32),d.dc(),d.dc(),d.Zb(120,"div",33),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc()),2&e&&(d.Mb(10),d.uc("ngForOf",c.dataService.breadcrumblist),d.Mb(21),d.Tc(c.dataService.selLoanAccDtlNo.accountNo),d.Mb(6),d.Tc(d.rc(38,13,c.dataService.loanUserDtl.loanAmount)),d.Mb(7),d.Tc(d.rc(45,15,c.dataService.loanUserDtl.accountLiability)),d.Mb(7),d.Tc(d.rc(52,17,c.overdueAmt)),d.Mb(7),d.Tc(d.rc(59,19,null==c.loanRepayemtDtl?null:c.loanRepayemtDtl.flowAmount)),d.Mb(7),d.Tc(null==c.loanRepayemtDtl?null:c.loanRepayemtDtl._flowStartDate),d.Mb(6),d.Tc(null==c.loanRepayemtDtl?null:c.loanRepayemtDtl.numberOfFlows),d.Mb(13),d.Tc(null==c.loanRepayemtDtl?null:c.loanRepayemtDtl._flowStartDate),d.Mb(6),d.Tc(d.rc(91,21,null==c.loanRepayemtDtl?null:c.loanRepayemtDtl.flowAmount)),d.Mb(7),d.Tc(c.installmentDue),d.Mb(6),d.Tc(null==c.loanRepayemtDtl?null:c.loanRepayemtDtl._nextDemandDate),d.Mb(6),d.Tc(null==c.loanRepayemtDtl?null:c.loanRepayemtDtl.repaymentFrequencyType))},directives:[a.s],pipes:[m.a,u.a],styles:[""]}),e})()}];let b=(()=>{class e{}return e.\u0275mod=d.Wb({type:e}),e.\u0275inj=d.Vb({factory:function(c){return new(c||e)},imports:[[l.g.forChild(h)],l.g]}),e})();var p=t("PCNd");let S=(()=>{class e{}return e.\u0275mod=d.Wb({type:e}),e.\u0275inj=d.Vb({factory:function(c){return new(c||e)},imports:[[a.c,b,p.a]]}),e})()}}]);