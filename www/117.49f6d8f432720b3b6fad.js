(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{"BL+C":function(t,e,c){"use strict";c.r(e),c.d(e,"LoanDetailsModule",(function(){return Z}));var i=c("ofXK"),n=c("tyNb"),a=c("3Pt+"),s=c("5RHE"),o=c("kuSH"),r=c("fXoL"),l=c("EnSQ"),d=c("L7Xq"),h=c("H9Rt"),u=c("5IsW"),g=c("fHQ/"),p=c("au7T");let m=(()=>{class t{constructor(t,e,c,i,n,a){this.constant=t,this.encryptDecryptService=e,this.storage=c,this.dataService=i,this.common=n,this.datepipe=a}getRecommendedOffersReq(){var t;return t={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_mobileNumber]:this.storage.getLocalStorage(this.constant.storage_mobileNo)},console.log("Recommended offers Req",JSON.stringify(t)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(t))}getRepaymentStatusParam(t){var e;return e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_loanAccountNumber]:t},console.log("Repayment status",JSON.stringify(e)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}getStandingInstructionService(t){var e,c=this.datepipe.transform((new Date).toISOString(),"dd-MM-yyyy"),i=t.debitAccount+"|"+t.creditAccount+"|"+t.amount+"|"+t.paymentFrequency+"|5|"+t.installmentNumber+"|"+c+"|"+t.remarks;return e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_RRN]:this.common.genRandomDigit(9),[this.constant.key_referenceNumber]:this.common.genRandomDigit(9),[this.constant.key_standingInstructionData]:i},console.log("neft requrest=====>"+JSON.stringify(e)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}getprovisionalCertificate(t,e){var c=this.datepipe.transform((new Date).toISOString(),"dd-MM-yyyy"),i=this.datepipe.transform((new Date).toISOString(),"yyyy");console.log("year",i);var n,a=e+"|01-04-"+i+"|"+c+"|"+t;return n={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_RRN]:this.common.genRandomDigit(9),[this.constant.key_referenceNumber]:this.common.genRandomDigit(9),[this.constant.key_provisionalIntrestcertData]:a},console.log("Provisional requrest=====>"+JSON.stringify(n)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(n))}modifyStandingInstructionService(t){var e;return this.datepipe.transform((new Date).toISOString(),"dd-MM-yyyy"),e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_RRN]:this.common.genRandomDigit(9),[this.constant.key_referenceNumber]:this.common.genRandomDigit(9),[this.constant.key_standingInstructionData]:"DL183016|07901000093437|06061300068176|122|Q|2|4|13-06-2022|Standing instruction Tested"},console.log("modify requrest=====>"+JSON.stringify(e)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}deleteStandingInstructionService(t){var e;return this.datepipe.transform((new Date).toISOString(),"dd-MM-yyyy"),e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_RRN]:this.common.genRandomDigit(9),[this.constant.key_referenceNumber]:this.common.genRandomDigit(9),[this.constant.key_deleteSIData]:"DL183016|06061000068235"},console.log("delete requrest=====>"+JSON.stringify(e)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}getAssessmentYearCall(){var t={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_configType]:this.constant.val_assessmentYear};return this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(t))}getInterestCertificateParamSecond(t,e){var c={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_localStorage_MobileNo]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_accountNo]:t.accNo,[this.constant.key_referenceNumber]:this.common.genRandomDigit(9),[this.constant.key_RRN]:this.common.genRandomDigit(9)};return console.log("InterestCertificateParamMoreDetails ",JSON.stringify(c)),console.log(this.storage.getSessionStorage(this.constant.val_sessionKey)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(c))}getInterestCertificateParamlatra(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_localStorage_MobileNo]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_accountNo]:t,[this.constant.key_referenceNumber]:this.common.genRandomDigit(9),[this.constant.key_RRN]:this.common.genRandomDigit(9)};return console.log("InterestCertificateParamMoreDetails ",JSON.stringify(e)),console.log(this.storage.getSessionStorage(this.constant.val_sessionKey)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}}return t.\u0275fac=function(e){return new(e||t)(r.ic(u.a),r.ic(g.a),r.ic(h.a),r.ic(l.a),r.ic(p.a),r.ic(i.f))},t.\u0275prov=r.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=c("i4u0"),v=c("dVSZ"),b=c("4H2G"),S=c("Eioz"),f=c("fUdP");const _=["statementAcc"],D=["interestCert"],k=["repaySchedule"];function A(t,e){if(1&t){const t=r.fc();r.ec(0,"li"),r.ec(1,"a",48),r.lc("click",(function(){r.Hc(t);const c=e.$implicit;return r.pc().dataService.breadcrumroute(c.routeName)})),r.Sc(2),r.qc(3,"translate"),r.dc(),r.dc()}if(2&t){const t=e.$implicit;r.Mb(2),r.Tc(r.rc(3,1,t.currentRoute))}}function C(t,e){if(1&t&&(r.ec(0,"option",153),r.Sc(1),r.dc()),2&t){const t=e.$implicit,c=r.pc();r.uc("value",t.accountNo),r.Mb(1),r.Vc("",null==c.selAccDtl?null:c.selAccDtl.SchemeCode," ",null==t?null:t.sbAccount," ")}}function N(t,e){if(1&t){const t=r.fc();r.ec(0,"li"),r.ec(1,"a",48),r.lc("click",(function(){return r.Hc(t),r.pc().goToPage("payEmi")})),r.ec(2,"div",45),r.Zb(3,"img",154),r.dc(),r.ec(4,"em"),r.Sc(5),r.qc(6,"translate"),r.dc(),r.dc(),r.dc()}2&t&&(r.Mb(5),r.Tc(r.rc(6,1,"PAY_EMI")))}function T(t,e){1&t&&(r.ec(0,"h5",158),r.Sc(1,"Dr"),r.dc())}function M(t,e){1&t&&(r.ec(0,"h5",159),r.Sc(1,"Cr"),r.dc())}function I(t,e){1&t&&(r.ec(0,"span",162),r.Sc(1,"Dr"),r.dc())}function P(t,e){1&t&&(r.ec(0,"span",163),r.Sc(1,"Cr"),r.dc())}function O(t,e){if(1&t&&(r.ec(0,"h5"),r.Sc(1),r.qc(2,"customcurrency"),r.Rc(3,I,2,0,"span",160),r.Rc(4,P,2,0,"span",161),r.dc()),2&t){const t=r.pc().$implicit,e=r.pc();r.Mb(1),r.Uc("",r.tc(2,3,t.TransactionAmount,"symbol",e.selAccDtl.currency)," "),r.Mb(2),r.uc("ngIf","D"==t.TransactionType),r.Mb(1),r.uc("ngIf","C"==t.TransactionType)}}function w(t,e){if(1&t&&(r.ec(0,"li"),r.ec(1,"div",37),r.ec(2,"div",18),r.ec(3,"h5"),r.Sc(4),r.dc(),r.ec(5,"em",155),r.Sc(6),r.dc(),r.dc(),r.dc(),r.ec(7,"div",37),r.ec(8,"div",18),r.ec(9,"h5"),r.Sc(10),r.dc(),r.dc(),r.dc(),r.ec(11,"div",37),r.ec(12,"div",18),r.Rc(13,T,2,0,"h5",156),r.Rc(14,M,2,0,"h5",157),r.dc(),r.dc(),r.ec(15,"div",37),r.ec(16,"div",18),r.Rc(17,O,5,7,"h5",47),r.dc(),r.dc(),r.dc()),2&t){const t=e.$implicit,c=r.pc();r.Mb(4),r.Tc(t.TransactionDate),r.Mb(2),r.Tc(t.transactionParticulars),r.Mb(4),r.Tc(t.transactionParticulars),r.Mb(3),r.uc("ngIf","D"==t.TransactionType),r.Mb(1),r.uc("ngIf","C"==t.TransactionType),r.Mb(3),r.uc("ngIf",""==c.recordNotFound)}}function R(t,e){1&t&&(r.ec(0,"li",164),r.ec(1,"h5",114),r.Sc(2,"No Records Found"),r.dc(),r.dc())}function x(t,e){if(1&t&&(r.ec(0,"li",164),r.ec(1,"h5",114),r.Sc(2),r.dc(),r.dc()),2&t){const t=r.pc();r.Mb(2),r.Uc("",t.recordNotFound," ")}}const L=function(){return{standalone:!0}};function F(t,e){if(1&t){const t=r.fc();r.ec(0,"div",165),r.ec(1,"div",166),r.ec(2,"label",167),r.Sc(3),r.ec(4,"input",168),r.lc("ngModelChange",(function(e){return r.Hc(t),r.pc().selectedAccountNo=e})),r.dc(),r.Zb(5,"span",97),r.dc(),r.dc(),r.dc()}if(2&t){const t=e.$implicit,c=r.pc();r.Mb(3),r.Vc(" ",t.schemeDescription,": ",t.sbAccount," "),r.Mb(1),r.uc("value",t.accountNo)("checked",c.selectedAccountNo==(null==t?null:t.accountNo))("ngModel",c.selectedAccountNo)("ngModelOptions",r.xc(6,L))}}function E(t,e){if(1&t&&(r.ec(0,"option",153),r.Sc(1),r.dc()),2&t){const t=e.$implicit;r.uc("value",t.configVal),r.Mb(1),r.Tc(t.configVal)}}const U=function(t){return{"show-links":t}},V=function(t){return{active:t}},z=function(t){return{display:t}},q=[{path:"",component:(()=>{class t{constructor(t,e,c,i,n,a,s,o,r,l,d){this.dataService=t,this.http=e,this.storage=c,this.constant=i,this.loanDetailsService=n,this.exportAsService=a,this.commonMethod=s,this.router=o,this.myAccountInfoService=r,this.myBorrowingService=l,this.datePipe=d,this.showListAccount=!0,this.totalAvailableBalance=!1,this.selectionValue="miniStatement",this.totalAccountList=[],this.savingAccountList=[],this.loanMiniStatemnt=[],this.pdfTransactionData=[],this.startDate="April 01, ",this.endDate="March 31, ",this.interestCertificateData=[],this.balanceCertificateData=[],this.interestCertificateDataanother=[],this.interestCertificatetotalrecovry=[],this.provisionlaInterestCertificateData=[],this.accountDetailsList=[],this.showShare=!1,this.todaydate=(new Date).toISOString(),this.loanAccIssueDate="",this.shareDtl={name:!1,accType:!1,accStatus:!1,accNo:!1,interest:!1,branchAdd:!1,ifsc:!1,custId:!1},this.recordNotFound="",this.offerList=[],this.AccStatementconfig={type:"pdf",elementIdOrContent:"statementAcc",options:{jsPDF:{orientation:"portrait"},pdfCallbackFn:this.pdfCallbackFn}},this.InterestCertconfig={type:"pdf",elementIdOrContent:"interestCert",options:{jsPDF:{orientation:"portrait"},pdfCallbackFn:this.pdfCallbackFn}},this.RepaymentScheduleCertConfig={type:"pdf",elementIdOrContent:"repaymentCert",options:{jsPDF:{orientation:"portrait"},pdfCallbackFn:this.pdfCallbackFn}}}ngOnInit(){this.dataService.setShowThemeObservable(!0),this.dataService.setShowsideNavObservable(!0),this.dataService.setShowNotificationObservable(!0),console.log("profiledata",this.dataService.profiledateDetails),this.dataService.getBreadcrumb("LOAN_DETAILS",this.router.url),this.todayDateTime=this.datePipe.transform(new Date,"ddMMyyyyhhmmss"),console.log(this.datePipe.transform(new Date,"ddMMyyyy")),this.currentdate=this.datePipe.transform((new Date).toISOString(),"dd-MM-yyyy"),this.nextdate=this.datePipe.transform((new Date).toISOString(),"dd-MM-yyyy"),console.log("nextdate",this.nextdate),this.year=this.datePipe.transform((new Date).toISOString(),"yyyy"),this.nextyear=Number(this.year)+1,console.log("nextyear",this.nextyear),this.today=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()+1),this.tommordate=this.datePipe.transform(this.today.toISOString(),"dd-MM-yyyy"),console.log("nextdatessss",this.tommordate),$(window).width()<767&&(this.showListAccount=!0),this.buildForm(),this.initialization()}buildForm(){this.interestCertificateForm=new a.j({accNo:new a.g("",[a.G.required]),period:new a.g("",[a.G.required])})}initialization(){this.loanType=this.dataService.loanType,this.dataService.setPageSettings(this.loanType+" Details"),this.loanDetails=this.dataService.loanDetails,this.getAccountList("onload");let t=this.loanDetailsService.getRecommendedOffersReq();this.getRecommendedOffers(t);let e=this.loanDetailsService.getRepaymentStatusParam(this.loanDetails.accountNo);this.getRepaymentStatus(e);var c=this.loanDetailsService.getAssessmentYearCall();this.getAssessmentYear(c),this.refreshDate=this.datePipe.transform(this.dataService.onRefreshDate.toISOString(),this.dataService.timeFormat)}onRefresh(){this.dataService.onRefreshDate=new Date,this.refreshDate=this.datePipe.transform(this.dataService.onRefreshDate.toISOString(),this.dataService.timeFormat),this.getSelectedAccount(this.selAccDtl.accountNo)}getAccountList(t){this.totalAccountList=[],this.totalAccountList=this.dataService.customerBorrowingsList,"onload"==t&&(this.selectedAccountNo=this.dataService.loanDetails.accountNo,this.getSelectedAccount(this.selectedAccountNo))}openAccountList(){this.commonMethod.openPopup("div.popup-bottom.sel-account")}getSelectedAccount(t){var e;this.commonMethod.closePopup("div.popup-bottom.sel-account");var c=this.totalAccountList.filter(e=>e.accountNo==t);this.selAccDtl=c[0],console.log("selected account: ",this.selAccDtl),this.dataService.selLoanAccDtlNo=this.selAccDtl,this.currency=Object(i.I)(null===(e=this.selAccDtl)||void 0===e?void 0:e.currency,"narrow"),this.getLoanEnq(t),this.getLoanMiniStatement(t)}getLoanEnq(t){var e=this.myBorrowingService.getMyLoansInquiry(t,this.selAccDtl.branchCode);this.http.callBankingAPIService(e,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_LOANACCOUNTINQUIRY).subscribe(t=>{var e,c,i,n,a;console.log("loan enq resp===>",t),this.customerid=t.set.records[0].customerID,console.log("loanenqconstumer===>",this.customerid);var s=t.responseParameter;this.branchCode=t.set.records[0]["001"],"00"==s.opstatus&&t.hasOwnProperty("set")&&(this.loanUserDtl=t.set.records[0],this.loanUserDtl.interest_Rate=parseFloat(this.loanUserDtl.interest_Rate).toFixed(2),this.loanUserDtl.accountOpenDate=this.setDate(this.loanUserDtl.accountOpenDate),this.dataService.loanUserDtl=this.loanUserDtl,this.overDueAmt=parseFloat(null===(e=this.loanUserDtl)||void 0===e?void 0:e.pricipalDemandArrears)+parseFloat(null===(c=this.loanUserDtl)||void 0===c?void 0:c.interestDemandsArrears)+parseFloat(null===(i=this.loanUserDtl)||void 0===i?void 0:i.chargesDemandArrears)+parseFloat(null===(n=this.loanUserDtl)||void 0===n?void 0:n.otherChargesDemand),this.loanUserDtl.repaymentPeriodMonthsComponent=parseInt(null===(a=this.loanUserDtl)||void 0===a?void 0:a.repaymentPeriodMonthsComponent))})}getLoanMiniStatement(t){this.loanMiniStatemnt=[],this.recordNotFound="";var e=this.myBorrowingService.getMyLoansMiniStatement(t);this.http.callBankingAPIService(e,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_LOANMINISTATEMENT).subscribe(t=>{console.log("getMyLoansMiniStatement===>",t),t.hasOwnProperty("set")&&(this.loanMiniStatemnt=t.set.records,"119"==t.set.records[0].responseCode?this.recordNotFound=this.loanMiniStatemnt[0].CBS_RES_FAIL_MSG:(console.log("this.loanMiniStatemnt"+JSON.stringify(this.loanMiniStatemnt)),this.pdfTransactionData=[],this.loanMiniStatemnt.forEach(t=>{console.log("loanMiniStatementValues",t),t.loanMiniStatementData.forEach(t=>{console.log("foreachVal",t)});var e="D"==t.creditDebitFlag?"DR":"CR",c=[];c.push(this.formatDate(t.TransactionDate)),c.push(t.transactionDetails),c.push(e),c.push(this.convertCurrency(t.TransactionAmount)),this.pdfTransactionData.push(c),console.log("pdfTransaction",this.pdfTransactionData)})))})}formatDate(t){for(var e,c="",i="",n="",a=0;a<t.length;a++)a>=0&&a<=3?c+=t[a]:a>3&&a<=5?i+=t[a]:a>5&&(n+=t[a]);return console.log("year: ",c),console.log("month: ",i),console.log("day: ",n),e=n+"/"+i+"/"+c,console.log("formatted date: ",e),e}setDate(t){var e=t.match(/(\d{4})(\d{2})(\d{2})/);return e[3]+"/"+e[2]+"/"+e[1]}getRecommendedOffers(t){this.http.callBankingAPIService(t,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_GETRECOMMENDEDOFFERS).subscribe(t=>{console.log(t);var e=t.responseParameter;"00"==e.opstatus?this.offerList=t.set.records:this.errorCallBack(t.subActionId,e)})}getRepaymentStatus(t){this.http.callBankingAPIService(t,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_GETREPAYMENTSTATUS).subscribe(t=>{var e=t.responseParameter;"00"==e.opstatus?console.log(e):this.errorCallBack(t.subActionId,e)})}errorCallBack(t,e){"02"==e.opstatus&&showToastMessage(e.Result,"error")}SavePDF(t,e){let c=t.nativeElement,i=new s("p","pt","a4");i.fromHTML(c.innerHTML,20,20,{width:500,elementHandlers:{"#editor":function(t,e){return!0}}}),i.save(e+".pdf")}downloadCertificate(t){switch(t){case"1":this.SavePDF(this.statementAcc,"Account_of_statment");break;case"2":this.SavePDF(this.repaymentSchedule,"REPAYMENT_SCHEDULE");break;case"3":this.SavePDF(this.interestCert,"Interest_certificate")}}pdfCallbackFn(t){const e=t.internal.getNumberOfPages();for(let c=1;c<=e;c++)t.setPage(c),t.text("Page "+c+" of "+e,t.internal.pageSize.getWidth()-100,t.internal.pageSize.getHeight()-30)}exportAs(t,e){this.exportAsService.save(t,e).subscribe(()=>{console.log("save started")})}openSelectedAccountList(t){this.selectionValue=t}listExpander(t){switch(t){case"list":this.showListAccount=!this.showListAccount;break;case"balanceList":this.totalAvailableBalance=!this.totalAvailableBalance}}goToPage(t,e){"interestCertificate"!=t&&("borrowerGuarantorDetails"==t&&(this.dataService.loanAccNo=this.selectedAccountNo),"payEmi"==t&&(this.dataService.accDetails=this.selAccDtl,this.dataService.loanDetails=this.selAccDtl),this.router.navigateByUrl("/"+t))}openPopup(t){switch(this.buildForm(),t){case"lienEnquiry":this.commonMethod.openPopup("div.lien-enquiry-popup");break;case"balanceEnquiry":this.commonMethod.openPopup("div.balance-popup");break;case"interestCertificate":this.interestCertificateForm.patchValue({accNo:this.selectedAccountNo}),this.commonMethod.openPopup("div.interest-popup")}}closePopUp(t){"selectAcc"==t&&(console.log("selectAcc ====> "+this.selectedAccountNo),this.getSelectedAccount(this.selectedAccountNo)),this.commonMethod.closeAllPopup()}generatePDF(t){var e,c,i,n,a,r=new s,l=(r.internal.pageSize.height||r.internal.pageSize.getHeight(),r.internal.pageSize.width||r.internal.pageSize.getWidth()),d=new Image;d.src=this.constant.psbNewLogo,r.addImage(d,"png",20,16,60,15),r.setLineWidth(.5),r.line(90,7,90,40),r.setFontSize(7),r.text("Branch Name : "+this.selAccDtl.branch_name,l-110,10,"left"),r.text("Branch Code : "+this.loanUserDtl.branchPinCode,l-110,15,"left"),r.text("Branch Address : "+this.loanUserDtl.BRANCHADDRESS,l-110,20,"left"),r.text("Branch Contact : "+this.loanUserDtl.phone_number,l-110,25,"left"),r.text("IFSC : "+this.loanUserDtl.ifscCode,l-110,30,"left"),r.setLineWidth(.1),r.line(15,45,l-15,45),r.setFontSize(20),r.text("Mini Statement ",20,60,"left"),r.setFontSize(10),r.text("as on date : "+this.datePipe.transform(new Date,"dd/MM/yyyy"),70,60,"left"),r.setLineWidth(.2),r.rect(15,70,r.internal.pageSize.width-30,50,"S"),r.setFontSize(15),r.setFontSize(10),r.text("Customer ID : "+(null===(e=this.loanUserDtl)||void 0===e?void 0:e.customerID),20,85,"left"),r.text("Account Number : "+this.selectedAccountNo,20,90,"left"),r.text("Account Holder Name : "+(null===(c=this.loanUserDtl)||void 0===c?void 0:c.accountName),20,95,"left");var h=r.splitTextToSize("Address : "+this.dataService.profileDetails[0].add1+","+this.dataService.profileDetails[0].add2+","+this.dataService.custProfileStateCityObj.city+" "+this.dataService.custProfileStateCityObj.state+" "+this.dataService.profileDetails[0].pin,80);r.text(h,20,100,"left"),r.text("Account Category : "+(null===(i=this.selAccDtl)||void 0===i?void 0:i.accountType)+"-"+(null===(n=this.selAccDtl)||void 0===n?void 0:n.schemeDescription),l-100,85,"left"),r.text("Date : "+this.datePipe.transform(new Date,"dd/MM/yyyy"),l-100,90,"left"),r.setFontSize(5);for(var u=[],g=[],p=0;p<this.loanMiniStatemnt.length;p++){u=[];var m=this.loanMiniStatemnt[p].TransactionDate.split("-")[0]+"/"+this.loanMiniStatemnt[p].TransactionDate.split("-")[1]+"/"+this.loanMiniStatemnt[p].TransactionDate.split("-")[2],y=this.loanMiniStatemnt[p].transactionParticulars,v=this.loanMiniStatemnt[p].TransactionType,b=this.convertCurrency(this.loanMiniStatemnt[p].TransactionAmount);u.push(m,y,v,b),g.push(u)}console.log("datatatatat",g),r.setFontSize(7);var S=g;console.log(S),r.addFileToVFS("Sakalbharati.ttf",o.e.Sakalbharati),r.addFont("Sakalbharati.ttf","Sakalbharati","normal"),r.setFont("Sakalbharati"),r.autoTable(["Transaction Date","Transaction Reference","CR/DR","Amount (INR)"],S,{theme:"grid",didDrawPage:function(t){t.settings.margin.top=10},margin:{top:130},styles:{overflow:"linebreak",cellWidth:"wrap",halign:"center",horizontalPageBreak:!0,font:"Sakalbharati"},columnStyles:{1:{cellWidth:"auto"},3:{cellWidth:40,halign:"right"}}});const f=r.internal.getNumberOfPages();for(r.setFontSize(6),p=1;p<=f;p++)r.setPage(p),r.setLineWidth(.1),r.text("Please examine your receipt immediately on receipt. If no error is reported in the printed statement with in 15 days, the acount will be considered correct.",15,278,"left"),r.text("This is computer generated statement and does not require any signature. ",15,281,"left"),r.setLineWidth(.1),r.line(15,282,l-15,282),r.setFontSize(8),r.text("Registered Office: Punjab & Sind Bank, 21, Rajendra Place, New Delhi- 110008",15,287,"left"),r.text("Page "+String(p)+" of "+String(f),r.internal.pageSize.width-30,287,"left");t?(r.autoPrint(),window.open(r.output("bloburl"))):this.commonMethod.downloadPDF(r,"My-Account-Info_XX"+this.maskCharacter(null===(a=this.selAccDtl)||void 0===a?void 0:a.accountNo,4)+"_"+this.todayDateTime)}getAssessmentYear(t){this.http.callBankingAPIService(t,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_CERTIFICATECONFIGS).subscribe(t=>{console.log(t);var e=t.responseParameter;"00"==e.opstatus?(console.log(t.responseParameter),this.assessmentYearList=t.listofDataset[0].records,console.log("assessment year list: ",this.assessmentYearList)):showToastMessage(e.result)})}dnldInterestCertificatelatra(){this.interestCertificatelatrs=[];var t=this.loanDetailsService.getInterestCertificateParamlatra(this.selAccDtl.accountNo);this.http.callBankingAPIService(t,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_LAIRACCOUNTINQUIRY).subscribe(t=>{var e=t.responseParameter;"00"==e.opstatus?(this.loanAccIssueDate=e.TransactionDate,this.intCertificate=t.set.records,console.log(t),this.accountOpeningdate=t.set.records[0].accountOpenDate,console.log("Openingdate::",this.accountOpeningdate),this.Date=this.openingDate(),console.log("Date",this.openingDate()),this.interestCertficatelatradatea=t.set.records[0],this.loantypess=this.interestCertficatelatradatea.loanType,"E"==this.loantypess?this.loanTypesnew="EMI":"F"==this.loantypess&&(this.loanTypesnew="Fixed"),this.provionalrate=OSREC.CurrencyFormatter.format(this.interestCertficatelatradatea.interest_Rate,{currency:"INR",symbol:" "})+" %",t.hasOwnProperty("set")&&this.interestCertificateForm.reset()):this.commonMethod.closePopup("div.popup-bottom.interest-popup")})}provisionalCertificate(){}dwnldloanprovisional(){var t,e,c=new s,i=(c.internal.pageSize.height||c.internal.pageSize.getHeight(),c.internal.pageSize.width||c.internal.pageSize.getWidth()),n=new Image;n.src="assets/images/psb-logo-new.png",c.addImage(n,"png",15,16,60,15),c.setLineWidth(.2),c.line(150,10,150,40),c.setFontSize(10),c.addFileToVFS("Sakalbharati.ttf",o.e.Sakalbharati),c.addFont("Sakalbharati.ttf","Sakalbharati","normal"),c.setFont("Sakalbharati"),c.text("Branch Name : "+this.loanUserDtl.branch_name,i-115,20,"left");var a=c.splitTextToSize("Address : "+this.loanUserDtl.BRANCHADDRESS,50);c.text(a,i-115,25,"left"),c.setLineWidth(.2),c.line(90,10,90,40),c.setFontSize(10),c.addFileToVFS("Sakalbharati.ttf",o.e.Sakalbharati),c.addFont("Sakalbharati.ttf","Sakalbharati","normal"),c.setFont("Sakalbharati"),c.text("Branch Code : "+this.branchCode,i-55,20,"left"),c.text("IFSC Code : "+this.loanUserDtl.ifscCode,i-55,25,"left"),c.text("MICR Code : "+this.loanUserDtl.micrCode,i-55,30,"left"),c.text("Telephone: "+this.loanUserDtl.phone_number,i-55,35,"left"),c.setLineWidth(.1),c.line(15,45,i-15,45),c.setFontSize(12),c.addFileToVFS("Sakalbharati.ttf",o.e.Sakalbharati),c.addFont("Sakalbharati.ttf","Sakalbharati","bold"),c.setFont("Sakalbharati"),c.text("Provisional Loan Interest Certificate",i/2,60,"center"),c.setFontSize(10),c.addFileToVFS("Sakalbharati.ttf",o.e.Sakalbharati),c.addFont("Sakalbharati.ttf","Sakalbharati","normal"),c.setFont("Sakalbharati"),c.text(this.loanAccIssueDate,155,65,"left"),c.text("Cusomer Name: "+this.interestCertficatelatradatea.customerName,15,75,"left"),c.text(null===(t=this.loanUserDtl)||void 0===t?void 0:t.branch_name,15,80,"left"),c.text("Customer Id: "+this.interestCertficatelatradatea.customerId,15,85,"left"),c.text("PAN: "+this.dataService.profiledateDetails[0].panNumber,15,90,"left"),c.text("Dear Customer,",15,100,"left");var r=c.splitTextToSize("Please find below the provisional figure of the repayment done/to be done against Loan Account Number "+this.selAccDtl.accountNo+" in the name"+this.interestCertficatelatradatea.customerName+" "+this.interestCertficatelatradatea.JointHolderName1+" "+this.interestCertficatelatradatea.JointHolderName2+" "+this.interestCertficatelatradatea.JointHolderName3+" for the period April 01,"+this.year+"to March 31,   "+this.nextyear,180);c.text(r,15,105,"left"),c.setFontSize(10),c.addFileToVFS("Sakalbharati.ttf",o.e.Sakalbharati),c.addFont("Sakalbharati.ttf","Sakalbharati","normal"),c.setFont("Sakalbharati");var l=[],d=[];l.push("0.0"),l.push("0.0"),l.push("0.0"),l.push("0.0"),l.push("0.0"),l.push("0.0"),l.push("0.0"),d.push(l),c.autoTable({head:[["Loan Account Type","Sanction Date","Sanctioned Amount","Rate of Interest","Installment Amount","Balance as on01-04-"+this.year,"Balance as on "+this.currentdate]],body:[[this.loanTypesnew,this.Date,this.convertCurrency(this.interestCertficatelatradatea.sanctionedAmount),this.provionalrate,this.convertCurrency(this.interestCertficatelatradatea.installmentAmount),this.convertCurrency(this.interestCertficate[0].openingBalance),this.convertCurrency(this.interestCertficate[0].closingBalance)]],theme:"grid",didDrawPage:function(t){t.settings.margin.top=10},margin:{top:115},styles:{overflow:"linebreak",cellWidth:"wrap",horizontalPageBreak:!0,halign:"center",font:"Sakalbharati"},columnStyles:{0:{cellWidth:20},1:{cellWidth:30,halign:"right"},2:{cellWidth:30,halign:"right"},3:{cellWidth:20,halign:"right"},4:{cellWidth:30,halign:"right"},5:{cellWidth:30,halign:"right"},6:{cellWidth:30,halign:"right"}}}),c.setFontSize(10),c.setFontSize(10),c.text("The breakup towards the principal and interest is given below: ",15,143,"left"),c.setFontSize(10),c.addFileToVFS("Sakalbharati.ttf",o.e.Sakalbharati),c.addFont("Sakalbharati.ttf","Sakalbharati","normal"),c.setFont("Sakalbharati");var h=[];h.push("0.00"),h.push("0.00"),h.push("0.00"),h.push("0.00"),h.push("0.00"),h.push("0.00"),h.push("0.00"),d.push(h),c.autoTable({head:[["      ","From Period ","To Period ","Recovery towards Principle ","Recovery towards interest ","Penal Interest Amount ","Total Amount "]],body:[["Actual","01-04-"+this.year,this.currentdate,this.convertCurrency(this.interestCertficate[0].principalAmount),this.convertCurrency(this.interestCertficate[0].totalInterestAmount),this.convertCurrency(this.interestCertficate[0].totalRenalInterest),this.convertCurrency(this.interestCertficate[0].totalRepayment)],["Projected",this.tommordate,"31-03-"+this.nextyear,this.convertCurrency(this.interestCertficate[0].totalProjectedPrincipal),this.convertCurrency(this.interestCertficate[0].totalProjectedInterest),"-",this.convertCurrency(this.totalProjectedamount)],["Total Provisional","01-04-"+this.year,"31-03-"+this.nextyear,this.convertCurrency(this.totalProvisionalprinciple),this.convertCurrency(this.totalProvisionalinterest),this.convertCurrency(this.totalProvisionalpenale),this.convertCurrency(this.totalProvisionlaAmountLastcoulumn)]],theme:"grid",didDrawPage:function(t){t.settings.margin.top=10},margin:{top:230},styles:{overflow:"linebreak",cellWidth:"wrap",horizontalPageBreak:!0,halign:"center",font:"Sakalbharati"},columnStyles:{0:{cellWidth:20},1:{cellWidth:25},2:{cellWidth:25},3:{cellWidth:30,halign:"right"},4:{cellWidth:30,halign:"right"},5:{cellWidth:30,halign:"right"},6:{cellWidth:30,halign:"right"}}});const u=c.internal.getNumberOfPages();c.setFontSize(6);for(var g=1;g<=u;g++)c.setPage(g),c.setLineWidth(.1),c.text("Please examine your receipt immediately on receipt. If no error is reported in the printed statement with in 15 days, the acount will be considered correct.",15,278,"left"),c.text("This is computer generated statement and does not require any signature. ",15,281,"left"),c.setLineWidth(.1),c.line(15,282,i-15,282),c.setFontSize(8),c.text("Registered Office: Punjab & Sind Bank, 21, Rajendra Place, New Delhi- 110008",15,287,"left"),c.text("Page "+String(g)+" of "+String(u),c.internal.pageSize.width-30,287,"left");this.commonMethod.downloadPDF(c,"Loan_Interest-Certificate_XX"+this.maskCharacter(null===(e=this.selAccDtl)||void 0===e?void 0:e.accountNo,4)+"_"+this.todayDateTime)}dnldInterestCertificate(){this.closePopUp(),this.interestCertificateData=[],this.interestCertificatetotalrecovry=[];var t=this.totalAccountList.filter(t=>t.accountNo==this.interestCertificateForm.value.accNo),e=this.myAccountInfoService.getInterestCertificateParam(this.interestCertificateForm.value,t);this.http.callBankingAPIService(e,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_LOANINTERESTCERTIFICATE).subscribe(t=>{"00"==t.responseParameter.opstatus?(console.log(t),this.interestCertficate=t.set.records,t.hasOwnProperty("set")&&(t.set.records.forEach(t=>{var e=[];e.push(this.convertCurrency(t.openingBalance)),e.push(this.convertCurrency(t.closingBalance)),this.interestCertificateData.push(e)}),t.set.records.forEach(t=>{var e=[];e.push(this.convertCurrency(t.principalAmount)),e.push(this.convertCurrency(t.totalInterestAmount)),e.push(this.convertCurrency(t.totalRenalInterest)),e.push(this.convertCurrency(t.totalRepayment)),this.interestCertificatetotalrecovry.push(e)}),this.dnldInterestCertificateSecond(),this.interestCertificateForm.reset())):this.commonMethod.closePopup("div.popup-bottom.interest-popup")})}openingDate(){var t=this.accountOpeningdate,e=t%100,c=Math.floor(t%1e4/100),i=Math.floor(t/1e4),n=new Date(i,c-1,e);return this.datePipe.transform(n,"dd-MM-yyyy")}dnldInterestCertificateSecond(){if(this.closePopUp(),this.interestCertificateForm.valid){this.interestCertificateDataanother=[];var t=this.totalAccountList.filter(t=>t.accountNo==this.interestCertificateForm.value.accNo),e=this.loanDetailsService.getInterestCertificateParamSecond(this.interestCertificateForm.value,t);this.http.callBankingAPIService(e,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_LAIRACCOUNTINQUIRY).subscribe(t=>{var e=t.responseParameter;"00"==e.opstatus?(this.loanAccIssueDate=e.TransactionDate,this.intCertificate=t.set.records,console.log(t),this.accountOpeningdate=t.set.records[0].accountOpenDate,console.log("Openingdate::",this.accountOpeningdate),this.Date=this.openingDate(),console.log("Date",this.openingDate()),this.interestCertficate=t.set.records,t.hasOwnProperty("set")&&(t.set.records.forEach(t=>{var e=[];"E"==t.loanType?this.loanTypes="EMI":"F"==t.loanType&&(this.loanTypes="Fixed"),e.push(this.loanTypes),e.push(this.Date),e.push(this.convertCurrency(t.sanctionedAmount)),e.push(OSREC.CurrencyFormatter.format(t.interest_Rate,{currency:"INR",symbol:" "})+" %"),e.push(this.convertCurrency(t.installmentAmount)),this.interestCertificateDataanother.push(e)}),this.dwnldInterestCertificate(),this.interestCertificateForm.reset())):this.commonMethod.closePopup("div.popup-bottom.interest-popup")})}}dwnldInterestCertificate(){var t,e,c,i=new s,n=(i.internal.pageSize.height||i.internal.pageSize.getHeight(),i.internal.pageSize.width||i.internal.pageSize.getWidth()),a=new Image;a.src="assets/images/psb-logo-new.png",i.addImage(a,"png",15,16,60,15),i.setLineWidth(.2),i.line(150,10,150,40),i.setFontSize(10),i.addFileToVFS("Sakalbharati.ttf",o.e.Sakalbharati),i.addFont("Sakalbharati.ttf","Sakalbharati","normal"),i.setFont("Sakalbharati"),i.text("Branch Name : "+this.loanUserDtl.branch_name,n-115,20,"left");var r=i.splitTextToSize("Address : "+this.loanUserDtl.BRANCHADDRESS,50);i.text(r,n-115,25,"left"),i.setLineWidth(.2),i.line(90,10,90,40),i.setFontSize(10),i.text("Branch Code : "+this.branchCode,n-55,20,"left"),i.text("IFSC Code : "+this.loanUserDtl.ifscCode,n-55,25,"left"),i.text("MICR Code : "+this.loanUserDtl.micrCode,n-55,30,"left"),i.text("Telephone: "+this.loanUserDtl.phone_number,n-55,35,"left"),i.setLineWidth(.1),i.line(15,45,n-15,45),i.setFontSize(12),i.setFontType("bold"),i.setFont("Sakalbharati"),i.text("Loan Interest Certificate",n/2,60,"center"),i.setFontSize(10),i.setFontType("normal"),i.setFont("Sakalbharati"),i.text(this.loanAccIssueDate,n-60,65,"left"),i.text(null===(t=this.intCertificate[0])||void 0===t?void 0:t.customerName,15,75,"left"),i.text(null===(e=this.loanUserDtl)||void 0===e?void 0:e.branch_name,15,80,"left"),i.text("Customer Id: "+this.intCertificate[0].customerId,15,85,"left"),i.text("PAN: "+this.dataService.profiledateDetails[0].panNumber,15,90,"left"),i.text("Dear Customer,",15,100,"left");var l=i.splitTextToSize("Please find below confirmation of the Interest collected against Loan Account Number "+this.selAccDtl.accountNo+" in the name of "+this.intCertificate[0].customerName+" "+this.intCertificate[0].JointHolderName1+" "+this.intCertificate[0].JointHolderName2+" "+this.intCertificate[0].JointHolderName1+" for the period "+this.startDate+this.fromyear+" to "+this.endDate+this.toyear,180);i.text(l,15,105,"left"),i.setFontSize(10);var d=["Loan Account Type","Sanction Date","Sanctioned Amount","Rate of Interest","Installment Amount"],h=this.interestCertificateDataanother;console.log(h),i.autoTable(d,h,{theme:"grid",didDrawPage:function(t){t.settings.margin.top=10},margin:{top:115},styles:{overflow:"linebreak",cellWidth:"wrap",halign:"center",horizontalPageBreak:!0,font:"Sakalbharati"},columnStyles:{1:{cellWidth:"auto"},2:{cellWidth:"auto",halign:"right"},3:{cellWidth:"auto",halign:"right"},4:{cellWidth:"auto",halign:"right"}}}),i.setFontSize(10),l=i.splitTextToSize("The loan Statistics for period "+this.startDate+this.fromyear+" "+this.endDate+this.toyear+"  are as below:",200),i.text(l,15,135,"left"),i.setFontSize(10),i.autoTable(d=["Opening Balance as on "+this.startDate+this.fromyear,"Closing Balance as on "+this.endDate+this.toyear],h=this.interestCertificateData,{theme:"grid",margin:{top:180},styles:{overflow:"linebreak",cellWidth:"wrap",halign:"center",horizontalPageBreak:!0,font:"Sakalbharati"},columnStyles:{0:{cellWidth:"auto",halign:"right"},1:{cellWidth:"auto",halign:"right"}}}),i.setFontSize(10),i.text("The breakup towards the principal and interest is given below: ",15,157,"left"),i.setFontSize(10),d=["Recovery towards Principle ","Recovery towards interest ","Penal Interest Charged during the period ","Total Recovery "],h=this.interestCertificatetotalrecovry,console.log(h),i.autoTable(d,h,{theme:"grid",didDrawPage:function(t){t.settings.margin.top=10},margin:{top:230},styles:{overflow:"linebreak",cellWidth:"wrap",halign:"center",horizontalPageBreak:!0,font:"Sakalbharati"},columnStyles:{0:{cellWidth:"auto",halign:"right"},1:{cellWidth:40,halign:"right"},2:{cellWidth:40,halign:"right"},3:{cellWidth:40,halign:"right"}}});const u=i.internal.getNumberOfPages();i.setFontSize(6);for(var g=1;g<=u;g++)i.setPage(g),i.setLineWidth(.1),i.text("Please examine your receipt immediately on receipt. If no error is reported in the printed statement with in 15 days, the acount will be considered correct.",15,278,"left"),i.text("This is computer generated statement and does not require any signature. ",15,281,"left"),i.setLineWidth(.1),i.line(15,282,n-15,282),i.setFontSize(8),i.text("Registered Office: Punjab & Sind Bank, 21, Rajendra Place, New Delhi- 110008",15,287,"left"),i.text("Page "+String(g)+" of "+String(u),i.internal.pageSize.width-30,287,"left");this.commonMethod.downloadPDF(i,"Loan_Interest-Certificate_XX"+this.maskCharacter(null===(c=this.selAccDtl)||void 0===c?void 0:c.accountNo,4)+"_"+this.todayDateTime)}dwnldBalanceCertificate(){this.balanceCertificateData=[];var t=this.totalAccountList.filter(t=>t.accountNo==this.selectedAccountNo);console.log("selAccDtl ====>",t);var e=this.myAccountInfoService.getBalanceCertificateParam(t);this.http.callBankingAPIService(e,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_ISSUEBALANCECERTIFICATE).subscribe(e=>{var c=e.responseParameter;"00"==c.opstatus&&(this.downloadBalCertDateOfIssue=c.dateOfIssue,console.log("date of issue: ",this.downloadBalCertDateOfIssue),console.log(e),e.hasOwnProperty("set")&&(e.set.records.forEach(e=>{console.log("element currency code: ",e.currencyCode);var c=Object(i.I)(e.currencyCode,"wide");console.log("currency symbol: ",c);var n=[];n.push(t[0].accountNo),n.push(t[0].accountHoldeType),n.push(t[0].accountDescription),n.push(e.currencyCode),n.push(e.availableBalance),this.balanceCertificateData.push(n)}),console.log("balance certificate array: ",this.balanceCertificateData),this.dwnldBalanceCertificatePdf()))})}convertCurrency(t){return OSREC.CurrencyFormatter.format(t,{currency:"INR",symbol:"\u20b9"})}dwnldBalanceCertificatePdf(){var t,e,c=this.datePipe.transform(new Date,"dd.MM.yyyy"),i=this.datePipe.transform(new Date,"h:mm a"),n=this.datePipe.transform(new Date,"dd MMM yyyy hh:mm:ss a");console.log("current date: ",c),console.log("current time: ",i),console.log("current date time: ",n);var a=new s,r=(a.internal.pageSize.height||a.internal.pageSize.getHeight(),a.internal.pageSize.width||a.internal.pageSize.getWidth()),l=new Image;l.src="assets/images/psb-logo-new.png",a.addImage(l,"png",20,16,60,15),a.setLineWidth(.5),a.line(90,7,90,40),a.setFontSize(7),a.text("Branch Name : "+this.selAccDtl.branch_name,r-110,10,"left"),a.text("Branch Code : "+this.selAccDtl.branchCode,r-110,15,"left"),a.text("Branch Address : "+this.selAccDtl.BRANCHADDRESS,r-110,20,"left"),a.text("Branch Contact : "+this.selAccDtl.phone_number,r-110,25,"left"),a.text("IFSC : "+this.selAccDtl.ifscCode,r-110,30,"left"),a.setLineWidth(.1),a.line(15,45,r-15,45),a.setFontSize(20),a.text("Balance Certificate (Account wise)",20,60,"left"),a.setFontSize(10),a.text(this.downloadBalCertDateOfIssue,r-60,60,"left"),a.setLineWidth(.2),a.rect(15,70,a.internal.pageSize.width-30,45,"S"),a.setFontSize(15),a.text("Account Name :"+(null===(t=this.dataService.userDetails)||void 0===t?void 0:t.customerName),20,80,"left"),a.setFontSize(10);var d=a.splitTextToSize("Address : "+this.dataService.profileDetails[0].add1+","+this.dataService.profileDetails[0].add2+","+this.dataService.custProfileStateCityObj.city+" "+this.dataService.custProfileStateCityObj.state+" "+this.dataService.profileDetails[0].pin,150);a.text(d,20,90,"left"),a.text("Customer ID : "+this.dataService.userDetails.cifNumber,20,100,"left"),a.text("Dear Sir /Madam",20,130,"left"),a.text("This is to certify that the undernoted balance /s in the account number "+this.balanceCertificateData[0][0]+" of the",20,140,"left"),a.text("Above mentioned is available as on date "+this.downloadBalCertDateOfIssue.split(" ")[0]+" at :"+this.downloadBalCertDateOfIssue.split(" ")[1],20,145,"left"),a.setFontSize(7);var h=this.balanceCertificateData;console.log(h),a.addFileToVFS("Sakalbharati.ttf",o.e.Sakalbharati),a.addFont("Sakalbharati.ttf","Sakalbharati","normal"),a.setFont("Sakalbharati"),a.autoTable(["ACCOUNT NO","Mode Of Operation","Account Type","Currency","Available Balance"],h,{theme:"grid",didDrawPage:function(t){t.settings.margin.top=10},margin:{top:150},styles:{overflow:"linebreak",cellWidth:"wrap",halign:"center",horizontalPageBreak:!0,font:"Sakalbharati"},columnStyles:{1:{cellWidth:"auto"},4:{cellWidth:40,halign:"right"}}});const u=a.internal.getNumberOfPages();a.setFontSize(6);for(var g=1;g<=u;g++)a.setPage(g),a.setLineWidth(.1),a.text("This is computer generated statement and does not require any signature. ",15,281,"left"),a.setLineWidth(.1),a.line(15,282,r-15,282),a.setFontSize(8),a.text("Registered Office: Punjab & Sind Bank, 21, Rajendra Place, New Delhi- 110008",15,287,"left"),a.text("Page "+String(g)+" of "+String(u),a.internal.pageSize.width-30,287,"left");this.commonMethod.downloadPDF(a,"Balance-Certificate_XX"+this.maskCharacter(null===(e=this.selAccDtl)||void 0===e?void 0:e.accountNo,4)+"_"+this.todayDateTime)}shareAccount(){this.showShare=!this.showShare}submitShare(){var t,e,c,i,n,a,s,o,r,l,d;this.accountDetailsList=[],this.shareDtl.custName&&this.accountDetailsList.push({label:"Customer Name",value:null===(t=this.loanUserDtl)||void 0===t?void 0:t.accountName}),this.shareDtl.loanAccNo&&this.accountDetailsList.push({label:"Loan Account Number",value:null===(e=this.selAccDtl)||void 0===e?void 0:e.accountNo}),this.shareDtl.loanType&&this.accountDetailsList.push({label:"Loan Type",value:(null===(c=this.selAccDtl)||void 0===c?void 0:c.accountType)+"-"+(null===(i=this.selAccDtl)||void 0===i?void 0:i.schemeDescription)}),this.shareDtl.accStatus&&this.accountDetailsList.push({label:"Account Status",value:"O"==(null===(n=this.loanUserDtl)||void 0===n?void 0:n.accountStatus)?"Open":"Close"}),this.shareDtl.branchAddress&&this.accountDetailsList.push({label:"Branch Address",value:null===(a=this.selAccDtl)||void 0===a?void 0:a.BRANCHADDRESS}),this.shareDtl.ifsc&&this.accountDetailsList.push({label:"IFSC code",value:null===(s=this.selAccDtl)||void 0===s?void 0:s.ifscCode}),this.shareDtl.loanOpenDate&&this.accountDetailsList.push({label:"Loan Open Date",value:null===(o=this.loanUserDtl)||void 0===o?void 0:o.accountOpenDate}),this.shareDtl.modeOfOpp&&this.accountDetailsList.push({label:"Mode of Operation",value:null===(r=this.selAccDtl)||void 0===r?void 0:r.accountHoldeType}),this.shareDtl.interestRate&&this.accountDetailsList.push({label:"Interest Rate",value:null===(l=this.loanUserDtl)||void 0===l?void 0:l.interest_Rate}),this.shareDtl.lrp&&this.accountDetailsList.push({label:"Loan Repayment Period",value:(null===(d=this.loanUserDtl)||void 0===d?void 0:d.repaymentPeriodMonthsComponent)+" Months"}),this.shareAccountDtl()}cancelShare(){this.showShare=!1}shareAccountDtl(){this.showShare=!this.showShare;var t=this.getSelectedValues();"web"!=this.constant.getPlatform()?window.plugins.socialsharing.share(t):window.open("mailto:?subject=Account Details&body="+t)}getSelectedValues(){let t="";return this.accountDetailsList.forEach((e,c)=>{t+=e.label+" : "+e.value+", "}),t.replace(/,\s*$/,"")}maskCharacter(t,e){return t.slice(-e)}selectedrop(t){console.log("selectedvalue",t.target.value),this.selectedate=t.target.value,this.fromyear=this.selectedate.split("-")[0],this.toyear=Number(this.fromyear)+1,console.log("fromyear",this.fromyear),console.log("toyear",this.toyear)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(l.a),r.Yb(d.a),r.Yb(h.a),r.Yb(u.a),r.Yb(m),r.Yb(y.b),r.Yb(p.a),r.Yb(n.c),r.Yb(v.a),r.Yb(b.a),r.Yb(i.f))},t.\u0275cmp=r.Sb({type:t,selectors:[["app-loan-details"]],viewQuery:function(t,e){var c;1&t&&(r.Yc(_,!0),r.Yc(D,!0),r.Yc(k,!0)),2&t&&(r.Dc(c=r.mc())&&(e.statementAcc=c.first),r.Dc(c=r.mc())&&(e.interestCert=c.first),r.Dc(c=r.mc())&&(e.repaymentSchedule=c.first))},decls:567,vars:198,consts:[[1,"main","bg-m"],[1,"nav-overlay"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container"],[1,"container-fluid"],[1,"row"],[1,"col-12","p-0"],[1,"breadcrumb"],[1,"lst-breadcrumb"],[4,"ngFor","ngForOf"],[1,"vspacer15","customize","d-none","d-md-block","d-lg-block","d-xl-block"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-9"],[1,"greencard2"],[1,"flex-container","no-bg"],[1,"full-info"],[1,"col-12","col-md-10","col-lg-10","col-xl-10"],[1,"ac-info"],[1,"greenbg-input","ux-input"],["for","fromaccount",1,"largeview-enable"],["required","",1,"hide-m",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"custom-selectbox"],[1,"right-arrow",3,"click"],[1,"error-message"],[1,"ac-info","hide-m"],[1,"refresh-btn",3,"click"],["src","assets/images/svg/refresh.svg","alt","refresh-icon"],[1,"refresh-text"],[1,"inner-whitecard","custom-pad"],[1,"hide-m"],[1,"",3,"click"],[1,"accountinfo-grid"],[3,"ngClass"],[1,"grid-info"],[1,"left-info"],[1,"col-12","text-right"],[1,"bottom-card-links2"],[1,"short-links","box-shadow","mar-b"],[1,"shortlink-control","cust-p",3,"ngClass"],[1,"loan-service-list"],[1,"hide-d",3,"click"],[1,"icon1"],["src","assets/images/svg/manage-card.svg","alt","manage-card-icon"],[4,"ngIf"],[3,"click"],["src","assets/images/svg/hotlist-card.svg","alt","hotlist-card-icon"],["src","assets/images/svg/get-physical-card.svg","alt","get-physical-card-icon"],[1,"hide-d"],[1,"interest-btn",3,"click"],[1,"badge2","commingSoonMob"],["src","assets/images/svg/manage-card.svg","alt","offers-icon"],[1,"bal-btn"],[1,"shortlinks-expander",3,"ngClass"],["href","javascript:;",3,"click"],["src","assets/images/icons/arrow-down-r.png"],[1,"dt-accounts","transparent-bg","mb-0","acc-info1"],[1,"widget-box5","mar-b"],["id","mini-statement",1,"show-div",3,"ngStyle"],[1,"col-sm-12","col-12","col-md-12"],[1,"widget-box5","border-n","overflow","mb-0","br-m"],[1,"component-title6","custom-pad","d-none","d-md-block","d-lg-block","d-xl-block"],[1,"col-12","col-md-3","col-lg-3","col-xl-3","d-none","d-md-block","d-lg-block","d-xl-block"],[1,"default-grey"],[1,"col-12","col-md-9","col-lg-9","col-xl-9"],[1,"link-list2","hide-m"],[1,"badge2","commingSoon"],["src","assets/images/svg/share.svg","alt","share-icon"],["src","assets/images/svg/download.svg","alt","download-icon"],["src","assets/images/svg/print.svg","alt","print-icon"],[1,"bg-white1","bg-n","pt-0"],[1,"grid-list3","nb-m"],[1,"grey-th"],[1,"ux-linkbutton","link-text","primary","hide-d",3,"click"],["src","assets/images/svg/download.svg"],["class","ng-star-inserted d-block p-5",4,"ngIf"],[1,"col-12","col-md-12","col-lg-12","col-xl-3"],[1,"col-xl-12","col-lg-6","col-md-12","col-12"],["id","account-detail",1,"show-div","inner-right-block","account-details","d-sm-block",3,"ngStyle"],[1,"header-block","clearfix"],[1,"share-btn","right-icon",3,"click"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 16 16",0,"xml","space","preserve",2,"enable-background","new 0 0 16 16"],["d","M12.8,5c-1.4,0-2.5-1.1-2.5-2.5s1.1-2.5,2.5-2.5c1.4,0,2.5,1.1,2.5,2.5c0,0,0,0,0,0C15.3,3.9,14.2,5,12.8,5z\n                                                                        M12.8,1.1c-0.8,0-1.5,0.7-1.5,1.5C11.3,3.4,12,4,12.8,4c0.8,0,1.5-0.7,1.5-1.5c0,0,0,0,0,0C14.3,1.7,13.6,1.1,12.8,1.1L12.8,1.1z",1,"st0"],["d","M12.8,15.9c-1.4,0-2.5-1.1-2.5-2.5s1.1-2.5,2.5-2.5c1.4,0,2.5,1.1,2.5,2.5l0,0C15.3,14.8,14.2,15.9,12.8,15.9z\n                                                                        M12.8,12c-0.8,0-1.5,0.7-1.5,1.5c0,0.8,0.7,1.5,1.5,1.5c0.8,0,1.5-0.7,1.5-1.5c0,0,0,0,0,0C14.3,12.6,13.6,12,12.8,12L12.8,12z",1,"st0"],["d","M3.2,10.5c-1.4,0-2.5-1.1-2.5-2.5c0-1.4,1.1-2.5,2.5-2.5S5.7,6.6,5.7,8l0,0C5.7,9.4,4.6,10.5,3.2,10.5z\n                                                                        M3.2,6.5C2.4,6.5,1.7,7.2,1.7,8c0,0.8,0.7,1.5,1.5,1.5C4,9.5,4.7,8.8,4.7,8C4.7,7.2,4,6.5,3.2,6.5L3.2,6.5z",1,"st0"],["d","M4.9,7.5C4.7,7.5,4.4,7.3,4.4,7c0-0.2,0.1-0.3,0.3-0.4l6.1-3.5C11,3,11.4,3.1,11.5,3.3\n                                                                        c0.1,0.2,0.1,0.5-0.2,0.7L5.2,7.5C5.1,7.5,5,7.5,4.9,7.5L4.9,7.5z",1,"st0"],["d","M11.1,13c-0.1,0-0.2,0-0.2-0.1L4.7,9.4C4.5,9.3,4.4,9,4.5,8.7c0.1-0.2,0.4-0.3,0.7-0.2l6.1,3.5\n                                                                        c0.2,0.1,0.3,0.4,0.2,0.7C11.4,12.9,11.2,13,11.1,13L11.1,13z",1,"st0"],[1,"account-list"],[1,"full-container"],[1,"full-info2"],[1,"left-info","check"],[1,"ux-selection","share-info",3,"ngClass"],[1,"ux-selection1"],["type","checkbox","name","customer-name",3,"checked","change"],[1,"checkmark"],[1,"ux-input","mt-0","mb-0"],["type","checkbox","name","loan-acc-number",3,"checked","change"],["type","checkbox","name","loan-type",3,"checked","change"],["type","checkbox","name","account-type",3,"checked","change"],["type","checkbox","name","branch-address",3,"checked","change"],["type","checkbox","name","ifsc-code",3,"checked","change"],["type","checkbox","name","loan-open-date",3,"checked","change"],["type","checkbox","name","mode",3,"checked","change"],["type","checkbox","name","roi",3,"checked","change"],[1,"ux-linkbutton","link-text","sm-text","primary",3,"click"],["src","assets/images/svg/Deposit_Icon.svg","alt","deposit-con"],[1,"btn-section",2,"display","none"],[1,"col-6","col-md-6"],[1,"cancel-btn","ux-button","secondary","sm-mob",3,"click"],[1,"submit-info","ux-button","primary","sm-mob",3,"click"],[1,"popup-bottom","md-popup","confirmation1","lien-enquiry"],[1,"text-center"],[1,"lien-enquiry-list"],[1,"col-4"],[1,"col-12","text-center"],[1,"ux-button","primary","no","md","close-btn",3,"click"],[1,"popup-bottom","sel-account"],[1,"col-10"],[1,"col-2"],[1,"ux-button-icon","close-btn"],["src","assets/images/svg/close-b.svg","alt","cross-icon",1,"img-vsmall"],["class","col-12 col-md-12",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"ux-button","primary","submit-btn2",3,"click"],[1,"popup-bottom","md-popup","lien-enquiry-popup"],[1,"result-container2"],[1,"info-bottom"],[1,"info-details"],[1,"popup-bottom","sm-popup","interest-popup"],[1,"text-left"],[1,"ux-button-icon","close-btn",3,"click"],[3,"formGroup"],[1,"ux-input"],["for","accountNumber"],["type","text","formControlName","accNo","disabled",""],["for","period"],["required","","formControlName","period",3,"change"],["value",""],[1,"row1","mt-2","set-btn"],[1,"col-12","col-md-6","text-center","hide-m"],[1,"ux-button","secondary","sm-mob"],[1,"col-12","col-md-6","text-center"],[1,"ux-button","primary","sm-mob",3,"disabled","click"],[1,"popup-bottom","success-popup"],[1,"row","mt-3"],[1,"success"],["src","assets/images/svg/check.svg","alt","success-icon"],[1,"row1","mt-3"],[1,"ux-button","primary","md","ok-btn",3,"click"],[1,"toast-messages3"],[3,"value"],["src","assets/images/svg/block-reissue-card.svg","alt","block-reissue-card-icon"],[1,"d-block","d-md-none"],["class","debit-text",4,"ngIf"],["class","credit-text",4,"ngIf"],[1,"debit-text"],[1,"credit-text"],["class","debit-text show-m",4,"ngIf"],["class","credit-text show-m",4,"ngIf"],[1,"debit-text","show-m"],[1,"credit-text","show-m"],[1,"ng-star-inserted","d-block","p-5"],[1,"col-12","col-md-12"],[1,"ux-selection","mar-custom"],[1,"ux-selection2"],["type","radio","name","upi-account",3,"value","checked","ngModel","ngModelOptions","ngModelChange"]],template:function(t,e){if(1&t){r.ec(0,"div",0),r.Zb(1,"div",1),r.ec(2,"div",2),r.ec(3,"div",3),r.ec(4,"div",4),r.ec(5,"div",5),r.ec(6,"div",6),r.ec(7,"div",7),r.ec(8,"div",8),r.ec(9,"ul",9),r.Rc(10,A,4,3,"li",10),r.dc(),r.dc(),r.dc(),r.dc(),r.Zb(11,"div",11),r.ec(12,"div",12),r.ec(13,"div",13),r.ec(14,"div",14),r.ec(15,"div",15),r.ec(16,"div",16),r.ec(17,"div",17),r.ec(18,"div",18),r.ec(19,"div",14),r.ec(20,"div",19),r.ec(21,"div",20),r.ec(22,"div",21),r.ec(23,"label",22),r.Sc(24),r.qc(25,"translate"),r.dc(),r.dc(),r.dc(),r.ec(26,"div",20),r.ec(27,"div",21),r.ec(28,"select",23),r.lc("ngModelChange",(function(t){return e.selectedAccountNo=t}))("change",(function(){return e.getSelectedAccount(e.selectedAccountNo)})),r.Rc(29,C,2,3,"option",24),r.dc(),r.ec(30,"div",25),r.ec(31,"span"),r.Sc(32),r.dc(),r.ec(33,"span",26),r.lc("click",(function(){return e.openAccountList()})),r.dc(),r.dc(),r.Zb(34,"p",27),r.dc(),r.dc(),r.ec(35,"div",28),r.ec(36,"button",29),r.lc("click",(function(){return e.onRefresh()})),r.Zb(37,"img",30),r.dc(),r.ec(38,"span",31),r.Sc(39),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(40,"div",14),r.ec(41,"div",13),r.ec(42,"div",32),r.ec(43,"h4",33),r.Sc(44),r.qc(45,"translate"),r.dc(),r.ec(46,"div",34),r.lc("click",(function(){return e.listExpander("balanceList")})),r.ec(47,"ul",35),r.ec(48,"li",36),r.ec(49,"div",37),r.ec(50,"div",18),r.ec(51,"div",38),r.ec(52,"h5"),r.Sc(53),r.qc(54,"customcurrency"),r.dc(),r.dc(),r.ec(55,"div",38),r.ec(56,"h6"),r.Sc(57),r.qc(58,"translate"),r.dc(),r.dc(),r.Zb(59,"em"),r.dc(),r.dc(),r.ec(60,"div",37),r.ec(61,"div",18),r.ec(62,"div",38),r.ec(63,"h5"),r.Sc(64),r.qc(65,"customcurrency"),r.dc(),r.dc(),r.ec(66,"div",38),r.ec(67,"h6"),r.Sc(68),r.qc(69,"translate"),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(70,"div",37),r.ec(71,"div",18),r.ec(72,"div",38),r.ec(73,"h5"),r.Sc(74),r.qc(75,"customcurrency"),r.dc(),r.dc(),r.ec(76,"div",38),r.ec(77,"h6"),r.Sc(78),r.qc(79,"translate"),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(80,"div",37),r.ec(81,"div",18),r.ec(82,"div",38),r.ec(83,"h5"),r.Sc(84),r.qc(85,"customcurrency"),r.dc(),r.dc(),r.ec(86,"div",38),r.ec(87,"h6"),r.Sc(88),r.qc(89,"translate"),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(90,"div",14),r.ec(91,"div",39),r.ec(92,"div",40),r.ec(93,"div",41),r.ec(94,"div",42),r.ec(95,"div",6),r.ec(96,"ul",43),r.ec(97,"li",44),r.lc("click",(function(){return e.openSelectedAccountList("accountDetail")})),r.ec(98,"a"),r.ec(99,"div",45),r.Zb(100,"img",46),r.dc(),r.ec(101,"em"),r.Sc(102),r.qc(103,"translate"),r.dc(),r.dc(),r.dc(),r.Rc(104,N,7,3,"li",47),r.ec(105,"li"),r.ec(106,"a",48),r.lc("click",(function(){return e.goToPage("loanRepaymentSchedule")})),r.ec(107,"div",45),r.Zb(108,"img",49),r.dc(),r.ec(109,"em"),r.Sc(110),r.qc(111,"translate"),r.dc(),r.dc(),r.dc(),r.ec(112,"li"),r.ec(113,"a",48),r.lc("click",(function(){return e.goToPage("loanDetailedStatement")})),r.ec(114,"div",45),r.Zb(115,"img",50),r.dc(),r.ec(116,"em"),r.Sc(117),r.qc(118,"translate"),r.dc(),r.dc(),r.dc(),r.ec(119,"li",51),r.ec(120,"a",52),r.lc("click",(function(){return e.openPopup("interestCertificate")})),r.ec(121,"div",53),r.Sc(122,"Coming Soon"),r.dc(),r.ec(123,"div",45),r.Zb(124,"img",54),r.dc(),r.ec(125,"em"),r.Sc(126),r.qc(127,"translate"),r.dc(),r.dc(),r.dc(),r.ec(128,"li",51),r.ec(129,"a",55),r.ec(130,"div",53),r.Sc(131,"Coming Soon"),r.dc(),r.ec(132,"div",45),r.Zb(133,"img",54),r.dc(),r.ec(134,"em"),r.Sc(135,"Loan Provisional"),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(136,"div",56),r.ec(137,"a",57),r.lc("click",(function(){return e.listExpander("list")})),r.Zb(138,"img",58),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(139,"div",59),r.ec(140,"div",60),r.ec(141,"div",61),r.ec(142,"div",14),r.ec(143,"div",62),r.ec(144,"div",63),r.ec(145,"div",64),r.ec(146,"div",14),r.ec(147,"div",65),r.ec(148,"h4",66),r.Sc(149),r.qc(150,"translate"),r.dc(),r.dc(),r.ec(151,"div",67),r.ec(152,"ul",68),r.ec(153,"li"),r.ec(154,"div",69),r.Sc(155,"Coming Soon"),r.dc(),r.ec(156,"a"),r.Zb(157,"img",70),r.Sc(158),r.qc(159,"translate"),r.dc(),r.dc(),r.ec(160,"li"),r.ec(161,"div",69),r.Sc(162,"Coming Soon"),r.dc(),r.ec(163,"a",48),r.lc("click",(function(){return e.provisionalCertificate()})),r.Zb(164,"img",70),r.Sc(165),r.qc(166,"translate"),r.dc(),r.dc(),r.ec(167,"li"),r.ec(168,"a",48),r.lc("click",(function(){return e.generatePDF()})),r.Zb(169,"img",71),r.Sc(170),r.qc(171,"translate"),r.dc(),r.dc(),r.ec(172,"li"),r.ec(173,"a",48),r.lc("click",(function(){return e.generatePDF(!0)})),r.Zb(174,"img",72),r.Sc(175),r.qc(176,"translate"),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(177,"div",73),r.ec(178,"div",6),r.ec(179,"ul",74),r.ec(180,"li",75),r.ec(181,"div",37),r.ec(182,"div",18),r.ec(183,"h5",51),r.Sc(184),r.qc(185,"translate"),r.dc(),r.ec(186,"h6",33),r.Sc(187),r.qc(188,"translate"),r.dc(),r.dc(),r.dc(),r.ec(189,"div",37),r.ec(190,"div",18),r.ec(191,"h6"),r.Sc(192),r.qc(193,"translate"),r.dc(),r.dc(),r.dc(),r.ec(194,"div",37),r.ec(195,"div",18),r.ec(196,"h6"),r.Sc(197,"CR/DR"),r.dc(),r.dc(),r.dc(),r.ec(198,"div",37),r.ec(199,"div",18),r.ec(200,"button",76),r.lc("click",(function(){return e.generatePDF()})),r.Zb(201,"img",77),r.Sc(202),r.qc(203,"translate"),r.dc(),r.ec(204,"h6",33),r.Sc(205),r.qc(206,"translate"),r.dc(),r.dc(),r.dc(),r.dc(),r.Rc(207,w,18,6,"li",10),r.Rc(208,R,3,0,"li",78),r.Rc(209,x,3,1,"li",78),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(210,"div",79),r.ec(211,"div",14),r.ec(212,"div",80),r.ec(213,"div",81),r.ec(214,"div",82),r.ec(215,"h5"),r.Sc(216,"Account Details"),r.dc(),r.ec(217,"a",83),r.lc("click",(function(){return e.shareAccount()})),r.oc(),r.ec(218,"svg",84),r.ec(219,"g"),r.Zb(220,"path",85),r.Zb(221,"path",86),r.Zb(222,"path",87),r.Zb(223,"path",88),r.Zb(224,"path",89),r.dc(),r.dc(),r.Sc(225),r.qc(226,"translate"),r.dc(),r.dc(),r.nc(),r.ec(227,"ul",90),r.ec(228,"li"),r.ec(229,"div",91),r.ec(230,"div",92),r.ec(231,"div",93),r.ec(232,"div",94),r.ec(233,"label",95),r.ec(234,"input",96),r.lc("change",(function(){return e.shareDtl.custName=!e.shareDtl.custName})),r.dc(),r.Zb(235,"span",97),r.dc(),r.dc(),r.ec(236,"h6"),r.Sc(237),r.qc(238,"translate"),r.dc(),r.ec(239,"h5"),r.Sc(240),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(241,"div",91),r.ec(242,"div",98),r.Zb(243,"p",27),r.dc(),r.dc(),r.dc(),r.ec(244,"li"),r.ec(245,"div",91),r.ec(246,"div",92),r.ec(247,"div",93),r.ec(248,"div",94),r.ec(249,"label",95),r.ec(250,"input",99),r.lc("change",(function(){return e.shareDtl.loanAccNo=!e.shareDtl.loanAccNo})),r.dc(),r.Zb(251,"span",97),r.dc(),r.dc(),r.ec(252,"h6"),r.Sc(253),r.qc(254,"translate"),r.dc(),r.ec(255,"h5"),r.Sc(256),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(257,"div",91),r.ec(258,"div",98),r.Zb(259,"p",27),r.dc(),r.dc(),r.dc(),r.ec(260,"li"),r.ec(261,"div",91),r.ec(262,"div",92),r.ec(263,"div",93),r.ec(264,"div",94),r.ec(265,"label",95),r.ec(266,"input",100),r.lc("change",(function(){return e.shareDtl.loanType=!e.shareDtl.loanType})),r.dc(),r.Zb(267,"span",97),r.dc(),r.dc(),r.ec(268,"h6"),r.Sc(269),r.qc(270,"translate"),r.dc(),r.ec(271,"h5"),r.Sc(272),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(273,"div",91),r.ec(274,"div",98),r.Zb(275,"p",27),r.dc(),r.dc(),r.dc(),r.ec(276,"li"),r.ec(277,"div",91),r.ec(278,"div",92),r.ec(279,"div",93),r.ec(280,"div",94),r.ec(281,"label",95),r.ec(282,"input",101),r.lc("change",(function(){return e.shareDtl.accStatus=!e.shareDtl.accStatus})),r.dc(),r.Zb(283,"span",97),r.dc(),r.dc(),r.ec(284,"h6"),r.Sc(285),r.qc(286,"translate"),r.dc(),r.ec(287,"h5"),r.Sc(288),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(289,"div",91),r.ec(290,"div",98),r.Zb(291,"p",27),r.dc(),r.dc(),r.dc(),r.ec(292,"li"),r.ec(293,"div",91),r.ec(294,"div",92),r.ec(295,"div",93),r.ec(296,"div",94),r.ec(297,"label",95),r.ec(298,"input",102),r.lc("change",(function(){return e.shareDtl.branchAddress=!e.shareDtl.branchAddress})),r.dc(),r.Zb(299,"span",97),r.dc(),r.dc(),r.ec(300,"h6"),r.Sc(301),r.qc(302,"translate"),r.dc(),r.ec(303,"h5"),r.Sc(304),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(305,"div",91),r.ec(306,"div",98),r.Zb(307,"p",27),r.dc(),r.dc(),r.dc(),r.ec(308,"li"),r.ec(309,"div",91),r.ec(310,"div",92),r.ec(311,"div",93),r.ec(312,"div",94),r.ec(313,"label",95),r.ec(314,"input",103),r.lc("change",(function(){return e.shareDtl.ifsc=!e.shareDtl.ifsc})),r.dc(),r.Zb(315,"span",97),r.dc(),r.dc(),r.ec(316,"h6"),r.Sc(317),r.qc(318,"translate"),r.dc(),r.ec(319,"h5"),r.Sc(320),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(321,"div",91),r.ec(322,"div",98),r.Zb(323,"p",27),r.dc(),r.dc(),r.dc(),r.ec(324,"li"),r.ec(325,"div",91),r.ec(326,"div",92),r.ec(327,"div",93),r.ec(328,"div",94),r.ec(329,"label",95),r.ec(330,"input",103),r.lc("change",(function(){return e.shareDtl.custId=!e.shareDtl.custId})),r.dc(),r.Zb(331,"span",97),r.dc(),r.dc(),r.ec(332,"h6"),r.Sc(333),r.qc(334,"translate"),r.dc(),r.ec(335,"h5"),r.Sc(336),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(337,"div",91),r.ec(338,"div",98),r.Zb(339,"p",27),r.dc(),r.dc(),r.dc(),r.ec(340,"li"),r.ec(341,"div",91),r.ec(342,"div",92),r.ec(343,"div",93),r.ec(344,"div",94),r.ec(345,"label",95),r.ec(346,"input",104),r.lc("change",(function(){return e.shareDtl.loanOpenDate=!e.shareDtl.loanOpenDate})),r.dc(),r.Zb(347,"span",97),r.dc(),r.dc(),r.ec(348,"h6"),r.Sc(349),r.qc(350,"translate"),r.dc(),r.ec(351,"h5"),r.Sc(352),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(353,"div",91),r.ec(354,"div",98),r.Zb(355,"p",27),r.dc(),r.dc(),r.dc(),r.ec(356,"li"),r.ec(357,"div",91),r.ec(358,"div",92),r.ec(359,"div",93),r.ec(360,"div",94),r.ec(361,"label",95),r.ec(362,"input",105),r.lc("change",(function(){return e.shareDtl.modeOfOpp=!e.shareDtl.modeOfOpp})),r.dc(),r.Zb(363,"span",97),r.dc(),r.dc(),r.ec(364,"h6"),r.Sc(365),r.qc(366,"translate"),r.dc(),r.ec(367,"h5"),r.Sc(368),r.qc(369,"titlecase"),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(370,"div",91),r.ec(371,"div",98),r.Zb(372,"p",27),r.dc(),r.dc(),r.dc(),r.ec(373,"li"),r.ec(374,"div",91),r.ec(375,"div",92),r.ec(376,"div",93),r.ec(377,"div",94),r.ec(378,"label",95),r.ec(379,"input",106),r.lc("change",(function(){return e.shareDtl.interestRate=!e.shareDtl.interestRate})),r.dc(),r.Zb(380,"span",97),r.dc(),r.dc(),r.ec(381,"h6"),r.Sc(382),r.qc(383,"translate"),r.dc(),r.ec(384,"h5"),r.Sc(385),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(386,"div",91),r.ec(387,"div",98),r.Zb(388,"p",27),r.dc(),r.dc(),r.dc(),r.ec(389,"li"),r.ec(390,"div",91),r.ec(391,"div",92),r.ec(392,"div",93),r.ec(393,"div",94),r.ec(394,"label",95),r.ec(395,"input",106),r.lc("change",(function(){return e.shareDtl.lrp=!e.shareDtl.lrp})),r.dc(),r.Zb(396,"span",97),r.dc(),r.dc(),r.ec(397,"h6"),r.Sc(398),r.qc(399,"translate"),r.dc(),r.ec(400,"h5"),r.Sc(401),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(402,"div",91),r.ec(403,"div",98),r.Zb(404,"p",27),r.dc(),r.dc(),r.dc(),r.ec(405,"li"),r.ec(406,"div",91),r.ec(407,"div",92),r.ec(408,"div",38),r.ec(409,"a",107),r.lc("click",(function(){return e.goToPage("borrowerGuarantorDetails")})),r.Zb(410,"img",108),r.Sc(411," Joint Holders & Guarantor Details "),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(412,"li",109),r.ec(413,"div",91),r.ec(414,"div",14),r.ec(415,"div",110),r.ec(416,"button",111),r.lc("click",(function(){return e.cancelShare()})),r.Sc(417,"Cancel"),r.dc(),r.dc(),r.ec(418,"div",110),r.ec(419,"button",112),r.lc("click",(function(){return e.submitShare()})),r.Sc(420),r.qc(421,"translate"),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(422,"div",113),r.ec(423,"div",14),r.ec(424,"div",13),r.ec(425,"h4",114),r.Sc(426,"Lien Enquiry"),r.dc(),r.dc(),r.dc(),r.ec(427,"div",115),r.ec(428,"div",14),r.ec(429,"div",116),r.ec(430,"label"),r.Sc(431,"Lien Type"),r.dc(),r.ec(432,"h6"),r.Sc(433,"Lorem Ipsum"),r.dc(),r.dc(),r.ec(434,"div",116),r.ec(435,"label"),r.Sc(436,"Expiry Date"),r.dc(),r.ec(437,"h6"),r.Sc(438,"24 Oct 2021"),r.dc(),r.dc(),r.ec(439,"div",116),r.ec(440,"label"),r.Sc(441,"Lien Amount"),r.dc(),r.ec(442,"h6"),r.Sc(443,"5,000"),r.dc(),r.dc(),r.ec(444,"div",116),r.ec(445,"label"),r.Sc(446,"Remarks"),r.dc(),r.ec(447,"h6"),r.Sc(448,"Lorem Ipsum"),r.dc(),r.dc(),r.ec(449,"div",116),r.ec(450,"label"),r.Sc(451,"Reason"),r.dc(),r.ec(452,"h6"),r.Sc(453,"Lorem Ipsum"),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(454,"div",14),r.ec(455,"div",117),r.ec(456,"button",118),r.lc("click",(function(){return e.closePopUp()})),r.Sc(457,"Ok"),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(458,"div",119),r.ec(459,"div",14),r.ec(460,"div",120),r.ec(461,"h4"),r.Sc(462),r.qc(463,"translate"),r.dc(),r.dc(),r.ec(464,"div",121),r.ec(465,"button",122),r.Zb(466,"img",123),r.dc();r.dc(),r.dc(),r.ec(467,"div",14),r.ec(468,"div",13),r.ec(469,"div",14),r.Rc(470,F,6,7,"div",124),r.dc(),r.dc(),r.dc(),r.ec(471,"div",125),r.ec(472,"div",117),r.ec(473,"button",126),r.lc("click",(function(){return e.closePopUp("selectAcc")})),r.Sc(474,"Submit"),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(475,"div",127),r.ec(476,"div",14),r.ec(477,"div",13),r.ec(478,"h4",114),r.Sc(479,"Lien Enquiry"),r.dc(),r.dc(),r.dc(),r.ec(480,"div",14),r.ec(481,"div",13),r.ec(482,"div",128),r.ec(483,"div",129),r.ec(484,"div",130),r.ec(485,"div",6),r.ec(486,"h6"),r.Sc(487,"Lien Type"),r.dc(),r.ec(488,"h5"),r.Sc(489,"Lorem Ipsum"),r.dc(),r.dc(),r.dc(),r.ec(490,"div",130),r.ec(491,"div",6),r.ec(492,"h6"),r.Sc(493,"Expiry Date"),r.dc(),r.ec(494,"h5"),r.Sc(495,"24 Oct 2021"),r.dc(),r.dc(),r.dc(),r.ec(496,"div",130),r.ec(497,"div",6),r.ec(498,"h6"),r.Sc(499,"Lien Amount"),r.dc(),r.ec(500,"h5"),r.Sc(501,"\u20b9 5,000"),r.dc(),r.dc(),r.dc(),r.ec(502,"div",130),r.ec(503,"div",6),r.ec(504,"h6"),r.Sc(505,"Remarks"),r.dc(),r.ec(506,"h5"),r.Sc(507,"Lorem Ipsum"),r.dc(),r.dc(),r.dc(),r.ec(508,"div",130),r.ec(509,"div",6),r.ec(510,"h6"),r.Sc(511,"Reason"),r.dc(),r.ec(512,"h5"),r.Sc(513,"Lorem Ipsum"),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(514,"div",14),r.ec(515,"div",117),r.ec(516,"button",118),r.lc("click",(function(){return e.closePopUp()})),r.Sc(517,"Ok"),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(518,"div",131),r.ec(519,"div",14),r.ec(520,"div",120),r.ec(521,"h4",132),r.Sc(522),r.qc(523,"translate"),r.dc(),r.dc(),r.ec(524,"div",121),r.ec(525,"button",133),r.lc("click",(function(){return e.closePopUp()})),r.Zb(526,"img",123),r.dc(),r.dc(),r.dc(),r.ec(527,"form",134),r.ec(528,"div",14),r.ec(529,"div",13),r.ec(530,"div",135),r.ec(531,"label",136),r.Sc(532),r.qc(533,"translate"),r.dc(),r.Zb(534,"input",137),r.Zb(535,"p",27),r.dc(),r.dc(),r.ec(536,"div",13),r.ec(537,"div",135),r.ec(538,"label",138),r.Sc(539),r.qc(540,"translate"),r.dc(),r.ec(541,"select",139),r.lc("change",(function(t){return e.selectedrop(t)})),r.ec(542,"option",140),r.Sc(543),r.qc(544,"translate"),r.dc(),r.Rc(545,E,2,2,"option",24),r.dc(),r.Zb(546,"p",27),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(547,"div",141),r.ec(548,"div",142),r.ec(549,"button",143),r.Sc(550,"View"),r.dc(),r.dc(),r.ec(551,"div",144),r.ec(552,"button",145),r.lc("click",(function(){return e.dnldInterestCertificateSecond()})),r.Sc(553,"Download"),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(554,"div",146),r.ec(555,"div",147),r.ec(556,"div",148),r.Zb(557,"img",149),r.ec(558,"h3"),r.Sc(559,"Success"),r.dc(),r.ec(560,"h5"),r.Sc(561,"Account Details shared Successfully"),r.dc(),r.dc(),r.dc(),r.ec(562,"div",150),r.ec(563,"div",117),r.ec(564,"button",151),r.lc("click",(function(){return e.closePopUp()})),r.Sc(565,"Ok"),r.dc(),r.dc(),r.dc(),r.dc(),r.Zb(566,"div",152)}2&t&&(r.Mb(10),r.uc("ngForOf",e.dataService.breadcrumblist),r.Mb(14),r.Tc(r.rc(25,96,"ACCOUNT")),r.Mb(4),r.uc("ngModel",e.selectedAccountNo),r.Mb(1),r.uc("ngForOf",e.totalAccountList),r.Mb(3),r.Vc("",null==e.selAccDtl?null:e.selAccDtl.schemeDescription," ",null==e.selAccDtl?null:e.selAccDtl.sbAccount," "),r.Mb(7),r.Uc(" Last refreshed on ",e.refreshDate,""),r.Mb(5),r.Uc(" ",r.rc(45,98,"ACC_BAL"),""),r.Mb(4),r.uc("ngClass",e.totalAvailableBalance?"active":""),r.Mb(5),r.Tc(r.tc(54,100,null==e.loanUserDtl?null:e.loanUserDtl.loanAmount,"symbol",e.loanUserDtl.accountCurrencyCode)),r.Mb(4),r.Uc(" ",r.rc(58,104,"TOTAL_LOAN_AMOUNT"),""),r.Mb(7),r.Tc(r.tc(65,106,null==e.loanUserDtl?null:e.loanUserDtl.disbursedAmount,"symbol",e.loanUserDtl.accountCurrencyCode)),r.Mb(4),r.Uc(" ",r.rc(69,110,"TOTAL_DISBURSED_AMOUNT"),""),r.Mb(6),r.Tc(r.tc(75,112,null==e.loanUserDtl?null:e.loanUserDtl.accountLiability,"symbol",e.loanUserDtl.accountCurrencyCode)),r.Mb(4),r.Uc(" ",r.rc(79,116,"TOTAL_OUTSTANDING_AMOUNT"),""),r.Mb(6),r.Tc(r.tc(85,118,e.overDueAmt,"symbol",e.loanUserDtl.accountCurrencyCode)),r.Mb(4),r.Tc(r.rc(89,122,"TOTAL_OVERDUE_AMOUNT")),r.Mb(6),r.uc("ngClass",r.yc(190,U,e.showListAccount)),r.Mb(8),r.Uc(" ",r.rc(103,124,"ACCOUNT_DETAILS"),""),r.Mb(2),r.uc("ngIf",!e.dataService.isLoanAccount),r.Mb(6),r.Uc(" ",r.rc(111,126,"VIEW_REPAYMENT_SCHEDULE"),""),r.Mb(7),r.Uc(" ",r.rc(118,128,"DETAILED_STATEMENT"),""),r.Mb(9),r.Uc(" ",r.rc(127,130,"LOAN_INTEREST_CERTIFICATE"),""),r.Mb(10),r.uc("ngClass",r.yc(192,V,0==e.showListAccount)),r.Mb(5),r.uc("ngStyle",r.yc(194,z,"miniStatement"==e.selectionValue?"block":"none")),r.Mb(8),r.Tc(r.rc(150,132,"MINI_STATEMENT")),r.Mb(9),r.Tc(r.rc(159,134,"LOAN_INTEREST_CERTIFICATE")),r.Mb(7),r.Uc(" ",r.rc(166,136,"LOAN_PROVISIONAL_CERTIFICATE"),""),r.Mb(5),r.Tc(r.rc(171,138,"DOWNLOAD")),r.Mb(5),r.Tc(r.rc(176,140,"PRINT")),r.Mb(9),r.Tc(r.rc(185,142,"MINI_STATEMENT")),r.Mb(3),r.Uc(" ",r.rc(188,144,"TRANSACTION_DATE")," "),r.Mb(5),r.Uc(" ",r.rc(193,146,"TRANSACTION_REFERENCE"),""),r.Mb(10),r.Uc(" ",r.rc(203,148,"DOWNLOAD"),""),r.Mb(3),r.Vc(" ",r.rc(206,150,"AMOUNT")," (",e.currency,")"),r.Mb(2),r.uc("ngForOf",e.loanMiniStatemnt),r.Mb(1),r.uc("ngIf",null!=e.loanMiniStatemnt&&0==e.loanMiniStatemnt.length),r.Mb(1),r.uc("ngIf",""!=e.recordNotFound),r.Mb(4),r.uc("ngStyle",r.yc(196,z,"accountDetail"==e.selectionValue?"block":"none")),r.Mb(12),r.Uc(" ",r.rc(226,152,"SHARE")," "),r.Mb(7),r.uc("ngClass",e.showShare?"active":""),r.Mb(2),r.uc("checked",e.shareDtl.custName),r.Mb(3),r.Tc(r.rc(238,154,"CUSTOMER_NAME")),r.Mb(3),r.Tc(null==e.loanUserDtl?null:e.loanUserDtl.accountName),r.Mb(8),r.uc("ngClass",e.showShare?"active":""),r.Mb(2),r.uc("checked",e.shareDtl.loanAccNo),r.Mb(3),r.Uc(" ",r.rc(254,156,"LOAN_ACCOUNT_NUMBER"),""),r.Mb(3),r.Tc(null==e.selAccDtl?null:e.selAccDtl.accountNo),r.Mb(8),r.uc("ngClass",e.showShare?"active":""),r.Mb(2),r.uc("checked",e.shareDtl.loanType),r.Mb(3),r.Uc(" ",r.rc(270,158,"LOAN_TYPE"),""),r.Mb(3),r.Vc("",null==e.selAccDtl?null:e.selAccDtl.accountType," - ",null==e.selAccDtl?null:e.selAccDtl.schemeDescription,""),r.Mb(8),r.uc("ngClass",e.showShare?"active":""),r.Mb(2),r.uc("checked",e.shareDtl.accStatus),r.Mb(3),r.Uc(" ",r.rc(286,160,"ACCOUNT_STATUS"),""),r.Mb(3),r.Tc("O"==(null==e.loanUserDtl?null:e.loanUserDtl.accountStatus)?"Open":"Close"),r.Mb(8),r.uc("ngClass",e.showShare?"active":""),r.Mb(2),r.uc("checked",e.shareDtl.branchAddress),r.Mb(3),r.Uc(" ",r.rc(302,162,"BRANCH_ADDRESS"),""),r.Mb(3),r.Tc(null==e.loanUserDtl?null:e.loanUserDtl.BRANCHADDRESS),r.Mb(8),r.uc("ngClass",e.showShare?"active":""),r.Mb(2),r.uc("checked",e.shareDtl.ifsc),r.Mb(3),r.Uc(" ",r.rc(318,164,"IFSC_CODE"),""),r.Mb(3),r.Tc(null==e.loanUserDtl?null:e.loanUserDtl.ifscCode),r.Mb(8),r.uc("ngClass",e.showShare?"active":""),r.Mb(2),r.uc("checked",e.shareDtl.custId),r.Mb(3),r.Tc(r.rc(334,166,"CUTOMER_ID")),r.Mb(3),r.Tc(null==e.loanUserDtl?null:e.loanUserDtl.customerID),r.Mb(8),r.uc("ngClass",e.showShare?"active":""),r.Mb(2),r.uc("checked",e.shareDtl.loanOpenDate),r.Mb(3),r.Uc(" ",r.rc(350,168,"LOAN_OPEN_DATE"),""),r.Mb(3),r.Tc(null==e.loanUserDtl?null:e.loanUserDtl.accountOpenDate),r.Mb(8),r.uc("ngClass",e.showShare?"active":""),r.Mb(2),r.uc("checked",e.shareDtl.modeOfOpp),r.Mb(3),r.Uc(" ",r.rc(366,170,"MODE_OPERATION"),""),r.Mb(3),r.Tc(r.rc(369,172,null==e.selAccDtl?null:e.selAccDtl.accountHoldeType)),r.Mb(9),r.uc("ngClass",e.showShare?"active":""),r.Mb(2),r.uc("checked",e.shareDtl.interestRate),r.Mb(3),r.Tc(r.rc(383,174,"INTEREST_RATE")),r.Mb(3),r.Uc("",null==e.loanUserDtl?null:e.loanUserDtl.interest_Rate,"%"),r.Mb(8),r.uc("ngClass",e.showShare?"active":""),r.Mb(2),r.uc("checked",e.shareDtl.lrp),r.Mb(3),r.Tc(r.rc(399,176,"LOAN_REPAYMENT_PERIOD")),r.Mb(3),r.Uc("",null==e.loanUserDtl?null:e.loanUserDtl.repaymentPeriodMonthsComponent," Months"),r.Mb(19),r.Tc(r.rc(421,178,"SUBMIT")),r.Mb(42),r.Uc(" ",r.rc(463,180,"SELECT_FROM_ACCOUNT"),""),r.Mb(8),r.uc("ngForOf",e.totalAccountList),r.Mb(52),r.Uc(" ",r.rc(523,182,"LOAN_INTEREST_CERTIFICATE"),""),r.Mb(5),r.uc("formGroup",e.interestCertificateForm),r.Mb(5),r.Uc(" ",r.rc(533,184,"ACCOUNT_NUMBER"),""),r.Mb(7),r.Uc(" ",r.rc(540,186,"PERIOD"),""),r.Mb(4),r.Uc(" ",r.rc(544,188,"SELECT_PERIOD"),""),r.Mb(2),r.uc("ngForOf",e.assessmentYearList),r.Mb(7),r.uc("disabled",e.interestCertificateForm.invalid))},directives:[i.s,a.E,a.D,a.s,a.v,i.q,i.t,i.w,a.I,a.t,a.k,a.c,a.i,a.x,a.H,a.A],pipes:[S.a,f.a,i.F],styles:[".commingSoon[_ngcontent-%COMP%]{bottom:-8px;right:8px}.commingSoon[_ngcontent-%COMP%], .commingSoonMob[_ngcontent-%COMP%]{position:absolute;background:#ad1c29;color:#fff;font-size:.5rem;padding:1px 5px;border-radius:10px;text-transform:capitalize}.commingSoonMob[_ngcontent-%COMP%]{top:46%}"]}),t})()}];let B=(()=>{class t{}return t.\u0275mod=r.Wb({type:t}),t.\u0275inj=r.Vb({factory:function(e){return new(e||t)},imports:[[n.g.forChild(q)],n.g]}),t})();var W=c("PCNd");let Z=(()=>{class t{}return t.\u0275mod=r.Wb({type:t}),t.\u0275inj=r.Vb({factory:function(e){return new(e||t)},imports:[[i.c,B,a.m,a.C,W.a]]}),t})()},dVSZ:function(t,e,c){"use strict";c.d(e,"a",(function(){return l}));var i=c("fXoL"),n=c("5IsW"),a=c("fHQ/"),s=c("H9Rt"),o=c("EnSQ"),r=c("au7T");let l=(()=>{class t{constructor(t,e,c,i,n){this.constant=t,this.encryptDecryptService=e,this.storage=c,this.dataService=i,this.commonMethod=n}getMiniStatementParam(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_accountNo]:t.accountNo,[this.constant.key_RRN]:this.commonMethod.genRandomDigit(9),[this.constant.key_referenceNumber]:this.commonMethod.genRandomDigit(9),[this.constant.key_branchCode]:t.branchCode};return console.log(" getMiniStatementParam ",JSON.stringify(e)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}getCashCreditHistory(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_subCode]:"01",[this.constant.key_accountNo]:t,[this.constant.key_referenceNumber]:this.commonMethod.genRandomDigit(9),[this.constant.key_RRN]:this.commonMethod.genRandomDigit(9)};return console.log(" getBalEnqParam ",JSON.stringify(e)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}getBalEnqParam(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_accountNo]:t.accountNo,[this.constant.key_branchCode]:t.branchCode,[this.constant.key_referenceNumber]:this.commonMethod.genRandomDigit(9),[this.constant.key_RRN]:this.commonMethod.genRandomDigit(9)};return console.log(" getBalEnqParam ",JSON.stringify(e)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}getMyAccountList(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_RRN]:this.commonMethod.genRandomDigit(9),[this.constant.key_referenceNumber]:this.commonMethod.genRandomDigit(9),[this.constant.key_omniDashData]:t,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude};return console.log(" getMyAccountParam ",JSON.stringify(e)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}getAccountEnquiryParam(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_accountNo]:t.accountNo,[this.constant.key_branchCode]:t.branchCode,[this.constant.key_referenceNumber]:this.commonMethod.genRandomDigit(9),[this.constant.key_RRN]:this.commonMethod.genRandomDigit(9)};return console.log(" getAccountEnquiryParam ",JSON.stringify(e)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}getAccountEnquiryParams(t,e){var c={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_accountNo]:t,[this.constant.key_branchCode]:e,[this.constant.key_referenceNumber]:this.commonMethod.genRandomDigit(9),[this.constant.key_RRN]:this.commonMethod.genRandomDigit(9)};return console.log(" getAccountEnquiryParam ",JSON.stringify(c)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(c))}getLienAccountParam(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_accountNo]:t.accountNo,[this.constant.key_referenceNumber]:this.commonMethod.genRandomDigit(9),[this.constant.key_RRN]:this.commonMethod.genRandomDigit(9),[this.constant.key_lienInquiryData]:this.constant.val_upi_ALL};return console.log(" getAccountEnquiryParam ",JSON.stringify(e)),console.log(this.storage.getSessionStorage(this.constant.val_sessionKey)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}getInterestCertificateParam(t,e){var c={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_localStorage_MobileNo]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_accountNo]:t.accNo,[this.constant.key_referenceNumber]:this.commonMethod.genRandomDigit(9),[this.constant.key_RRN]:this.commonMethod.genRandomDigit(9),depositDetailsData:this.getInterstData(t)};return console.log(" getInterestCertificateParam ",JSON.stringify(c)),console.log(this.storage.getSessionStorage(this.constant.val_sessionKey)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(c))}getInterstData(t){var e="01-01-"+(+t.period.split("-")[0]+1),c="01-01-"+t.period.split("-")[0];return console.log(e),console.log(c),this.dataService.userDetails.cifNumber+"|"+c+"|"+e+"|"+t.accNo}getBalanceCertificateParam(t){console.log(t);var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_accountNo]:t[0].accountNo,[this.constant.key_referenceNumber]:this.commonMethod.genRandomDigit(9),[this.constant.key_RRN]:this.commonMethod.genRandomDigit(9),[this.constant.key_branchCode]:t[0].branchCode,[this.constant.key_mobileNumber]:this.storage.getLocalStorage(this.constant.storage_mobileNo)};return console.log(" getBalanceCertificateParam ",JSON.stringify(e)),console.log(this.storage.getSessionStorage(this.constant.val_sessionKey)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}getNomineeData(t,e){var c=e+"|"+t,i={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_RRN]:this.commonMethod.genRandomDigit(9),[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_referenceNumber]:this.commonMethod.genRandomDigit(9),[this.constant.key_inquiryNomineeData]:c};return console.log(" Nominee Data :: =>  ",JSON.stringify(i)),console.log(this.storage.getSessionStorage(this.constant.val_sessionKey)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(i))}delinkAccountParam(t){var e="~"+t+"|"+this.storage.getLocalStorage(this.constant.storage_mobileNo)+"|D|~";console.log("linkData"+e);var c={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_accountNo]:t,[this.constant.key_requestType]:"DELINK",[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.key_deviceId),[this.constant.key_referenceNumber]:this.commonMethod.genRandomDigit(9),[this.constant.key_RRN]:this.commonMethod.genRandomDigit(9),[this.constant.key_MobileNo_Org]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_linkDelinkData]:e};return console.log("linkAccountParam",JSON.stringify(c)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(c))}getGenerateMMID(t,e,c){var i={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_ifsc_code]:e,[this.constant.key_accountNo]:t,[this.constant.key_payerName]:c,[this.constant.key_payerAccount]:t,[this.constant.key_payerMobile]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.key_deviceId)};return console.log("generateMMID",JSON.stringify(i)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(i))}getCancelMMID(t,e,c){var i={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_ifsc_code]:e,[this.constant.key_accountNo]:t,[this.constant.key_txn_amount]:0,[this.constant.key_payerName]:c,[this.constant.key_payerAccount]:t,[this.constant.key_payerMobile]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.key_deviceId)};return console.log("cancelMMID",JSON.stringify(i)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(i))}}return t.\u0275fac=function(e){return new(e||t)(i.ic(n.a),i.ic(a.a),i.ic(s.a),i.ic(o.a),i.ic(r.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);