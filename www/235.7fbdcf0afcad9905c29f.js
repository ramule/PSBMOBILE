(window.webpackJsonp=window.webpackJsonp||[]).push([[235],{Dyov:function(e,c,t){"use strict";t.r(c),t.d(c,"CloseFDSuccessModule",(function(){return b}));var i=t("ofXK"),s=t("kuSH"),a=t("5RHE"),r=t("fXoL"),o=t("tyNb"),n=t("EnSQ"),d=t("5IsW"),l=t("au7T");function p(e,c){if(1&e){const e=r.fc();r.ec(0,"li"),r.ec(1,"a",37),r.lc("click",(function(){r.Hc(e);const t=c.$implicit;return r.pc().DataService.breadcrumroute(t.routeName)})),r.Sc(2),r.qc(3,"translate"),r.dc(),r.dc()}if(2&e){const e=c.$implicit;r.Mb(2),r.Tc(r.rc(3,1,e.currentRoute))}}function u(e,c){if(1&e&&(r.ec(0,"small",49),r.Sc(1),r.dc()),2&e){const e=r.pc();r.Mb(1),r.Uc("FD Account Number ",e.receiptResp.FDAccNumber,"")}}const h=function(e,c){return{success:e,error:c}},m=[{path:"",component:(()=>{class e{constructor(e,c,t,i,s){this.router=e,this.dataService=c,this.constant=t,this.commonMethod=i,this.datepipe=s,this.totalAccountList=[],this.receiptCloseFDJson=[{key:"Deposit Type",value:""},{key:"Deposit Scheme",value:""},{key:"FD Account Number",value:""},{key:"Contracted Rate of Interest",value:""},{key:"Maturity Payout Account",value:""}],this.refTransJson=[{key:"Transaction ID",value:""}]}ngOnInit(){this.dataService.setShowThemeObservable(!0),this.dataService.setShowsideNavObservable(!0),this.dataService.setShowNotificationObservable(!0),this.dataService.getBreadcrumb("RECEIPT",this.router.url),this.dataService.setPageSettings("Receipt"),this.todayDateTime=this.datepipe.transform(new Date,"ddMMyyyyhhmmss"),this.totalAccountList=this.dataService.customerMyDepostie,this.receiptType=this.dataService.receiptType,this.receipdRefID=this.dataService.receipdRefID,this.receiptResp=this.dataService.closeFDObj,this.receiptMsg=this.dataService.receiptmsg,this.refTransJson[0].value=this.dataService.receipdRefID}goToPage(e){this.router.navigateByUrl("/"+e)}shareDetails(){this.shareViaMail()}shareViaMail(){let e=this.getValuesToSend();window.open("mailto:?subject=Receipt&body="+e)}getValuesToSend(){let e="";return e+="Deposit Type :"+this.receiptResp.depositType+", ",e+="Deposit Scheme :"+this.receiptResp.depositScheme+", ",e+="FD Account Number :"+this.receiptResp.FDAccNumber+", ",e+="Contracted Rate of Interest :"+this.receiptResp.rateOfInterest+", ",e+="Maturity Payout Account :"+this.receiptResp.maturityPayoutAccount+", ",e.replace(/,\s*$/,"")}downloadPdfReceipt(e){if(console.log(this.dataService.receiptType),this.dataService.receiptType==this.constant.val_Successful)var c="success";else c="failed";var t=this.totalAccountList.filter(e=>e.accountNo==this.receiptResp.FDAccNumber);console.log("selected account details : ",t),this.receiptCloseFDJson[0].value=this.receiptResp.depositType?this.receiptResp.depositType:"-",this.receiptCloseFDJson[1].value=this.receiptResp.depositScheme?this.receiptResp.depositScheme:"-",this.receiptCloseFDJson[2].value=this.receiptResp.FDAccNumber?this.receiptResp.FDAccNumber:"-",this.receiptCloseFDJson[3].value=this.receiptResp.rateOfInterest?this.receiptResp.rateOfInterest+"%":"-",this.receiptCloseFDJson[4].value=this.receiptResp.maturityPayoutAccount?this.receiptResp.maturityPayoutAccount:"-",this.commonMethod.generatePDF(c,this.receiptType,this.dataService.receiptmsg,this.refTransJson,this.receiptCloseFDJson,"Close_FD_Receipt",[{key:"Branch Name",value:t[0].branch_name},{key:"Branch Code",value:t[0].branchCode},{key:"Branch Address",value:t[0].BRANCHADDRESS},{key:"Branch Contact",value:t[0].phone_number},{key:"IFSC",value:t[0].ifscCode}],e,t[0].accountNo,this.todayDateTime)}generatePDF(e,c,t,i,r,o,n,d,l,p){var u=new a,h=(u.internal.pageSize.height||u.internal.pageSize.getHeight(),u.internal.pageSize.width||u.internal.pageSize.getWidth());(m=new Image).src="assets/images/psb-logo-new.png",u.addImage(m,"png",20,16,60,15),u.setLineWidth(.5),u.line(90,7,90,40),u.addFileToVFS("Sakalbharati.ttf",s.e.Sakalbharati),u.addFont("Sakalbharati.ttf","Sakalbharati","normal"),u.setFont("Sakalbharati"),u.setFontSize(7);var m,v=10;for(S=0;S<n.length;S++)u.text(n[S].key+": "+n[S].value,h-110,v,"left"),v+=5;u.setLineWidth(.1),u.line(15,45,h-15,45),u.setFontSize(20),u.text("E-Receipt",h/2,60,"center"),(m=new Image).src="success"==e?"assets/images/success-arrow.png":"assets/images/fail-arrow.png",u.addImage(m,"png",20,75,16,16),u.setFontSize(20),u.text(c,40,85,"left"),u.setFontSize(12),u.text(t,40,95,"left"),u.setFontSize(9),u.text(i[0].key+": "+i[0].value,40,105,"left"),u.setLineWidth(.1),u.line(17,110,h-17,110),u.addFileToVFS("Sakalbharati.ttf",s.e.Sakalbharati),u.addFont("Sakalbharati.ttf","Sakalbharati","normal"),u.setFont("Sakalbharati"),u.setFontSize(11);var b=120;for(S=0;S<r.length;S++)u.text(r[S].key+": "+r[S].value,25,b,"left"),b+=10;u.setLineWidth(.2),u.rect(15,70,u.internal.pageSize.width-30,170,"S"),u.setFontSize(8),u.text("This is computer generated statement and does not require any signature.",15,277,"left");const g=u.internal.getNumberOfPages();u.setFontSize(6);for(var S=1;S<=g;S++)u.setPage(S),u.setLineWidth(.1),u.line(15,282,h-15,282),u.setFontSize(8),u.text("Registered Office: Punjab & Sind Bank, 21, Rajendra Place, New Delhi- 110008",15,287,"left"),u.text("Page "+String(S)+" of "+String(g),u.internal.pageSize.width-30,287,"left");"Y"==d?(u.autoPrint(),window.open(u.output("bloburl"))):this.commonMethod.downloadPDF(u,o+"_xx"+this.maskCharacter(l,4)+"_"+p)}maskCharacter(e,c){return e.slice(-c)}onHomeClick(){this.router.navigateByUrl("/myDeposits")}}return e.\u0275fac=function(c){return new(c||e)(r.Yb(o.c),r.Yb(n.a),r.Yb(d.a),r.Yb(l.a),r.Yb(i.f))},e.\u0275cmp=r.Sb({type:e,selectors:[["app-close-fd-success"]],decls:108,vars:16,consts:[[1,"main","bg-none","frwk-changes"],[1,"nav-overlay"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container","main-dashborad","fundtransfer"],[1,"container-fluid"],[1,"row"],[1,"col-12","p-0"],[1,"breadcrumb"],[1,"lst-breadcrumb"],[4,"ngFor","ngForOf"],[1,"vspacer15","customize","d-none","d-md-block","d-lg-block","d-xl-block"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-9"],[1,"greencard2"],[1,"row1","hide-m"],[1,"col-md-8","col-12"],[1,"col-md-4","col-12"],[1,"col-sm-12","col-12","col-md-12"],[1,"white-box2","mar-t","pad-custom","custom-bor"],[1,"success"],[1,"pl-0",3,"ngClass"],["alt","success-icon",3,"src"],["class","mar-t bold",4,"ngIf"],[1,"mt-2"],[1,"bg-img"],["src","assets/images/svg/psb-receipt icon.svg","alt","success-bg"],[1,"result-container1","mar-top"],[1,"info-bottom","pad-custom"],[1,"info-details","mt-3"],[1,"info-details"],["src","assets/images/svg/rupee-bl.svg","alt","rupees-icon"],[1,"col-12","col-md-12"],[1,"col-md-12","col-lg-6","col-12"],[1,"link-list","hide-m"],[3,"click"],["src","assets/images/svg/share.svg","alt","share-icon"],["src","assets/images/svg/download.svg","alt","download-icon"],["src","assets/images/svg/print.svg","alt","print-icon"],[1,"bottom-footer1"],[1,"btn-div"],[1,"ux-button","secondary","sm-mob",3,"click"],[1,"ux-button","primary","sm-mob",3,"click"],[1,"col-12","col-md-12","col-lg-12","col-xl-3","d-none","d-xl-block"],[1,"right-ads"],["src","assets/images/banner/my-card-banner.jpg"],[1,"vspacer30"],[1,"mar-t","bold"]],template:function(e,c){1&e&&(r.ec(0,"div",0),r.Zb(1,"div",1),r.ec(2,"div",2),r.ec(3,"div",3),r.ec(4,"div",4),r.ec(5,"div",5),r.ec(6,"div",6),r.ec(7,"div",7),r.ec(8,"div",8),r.ec(9,"ul",9),r.Rc(10,p,4,3,"li",10),r.dc(),r.dc(),r.dc(),r.dc(),r.Zb(11,"div",11),r.ec(12,"div",12),r.ec(13,"div",13),r.ec(14,"div",14),r.ec(15,"div",15),r.ec(16,"div",16),r.ec(17,"div",17),r.ec(18,"div",18),r.ec(19,"h4"),r.Sc(20,"Receipt"),r.dc(),r.dc(),r.Zb(21,"div",19),r.dc(),r.ec(22,"div",14),r.ec(23,"div",20),r.ec(24,"div",21),r.ec(25,"div",6),r.ec(26,"div",22),r.ec(27,"h5",23),r.Zb(28,"img",24),r.Sc(29),r.dc(),r.ec(30,"small"),r.Sc(31),r.dc(),r.Rc(32,u,2,1,"small",25),r.ec(33,"small"),r.ec(34,"span",26),r.Sc(35),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(36,"div",27),r.Zb(37,"img",28),r.dc(),r.dc(),r.dc(),r.ec(38,"div",20),r.ec(39,"div",29),r.ec(40,"div",30),r.ec(41,"div",31),r.ec(42,"div",6),r.ec(43,"h6"),r.Sc(44,"Deposit Type"),r.dc(),r.ec(45,"h5"),r.Sc(46),r.dc(),r.dc(),r.dc(),r.ec(47,"div",32),r.ec(48,"div",6),r.ec(49,"h6"),r.Sc(50,"Deposit Scheme"),r.dc(),r.ec(51,"h5"),r.Sc(52),r.dc(),r.dc(),r.dc(),r.ec(53,"div",32),r.ec(54,"div",6),r.ec(55,"h6"),r.Sc(56,"FD Account Number"),r.dc(),r.ec(57,"h5"),r.Sc(58),r.dc(),r.dc(),r.dc(),r.ec(59,"div",32),r.ec(60,"div",6),r.ec(61,"h6"),r.Sc(62,"Contracted Rate of interest"),r.dc(),r.ec(63,"h5"),r.Sc(64),r.dc(),r.dc(),r.dc(),r.ec(65,"div",32),r.ec(66,"div",6),r.ec(67,"h6"),r.Sc(68,"Deposit Amount"),r.dc(),r.ec(69,"h5"),r.Zb(70,"img",33),r.Sc(71),r.dc(),r.dc(),r.dc(),r.ec(72,"div",32),r.ec(73,"div",6),r.ec(74,"h6"),r.Sc(75,"Maturity Payout Account"),r.dc(),r.ec(76,"h5"),r.Sc(77),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(78,"div",34),r.ec(79,"div",14),r.ec(80,"div",35),r.ec(81,"ul",36),r.ec(82,"li",37),r.lc("click",(function(){return c.shareDetails()})),r.ec(83,"a"),r.Zb(84,"img",38),r.Sc(85,"Share"),r.dc(),r.dc(),r.ec(86,"li",37),r.lc("click",(function(){return c.downloadPdfReceipt("N")})),r.ec(87,"a"),r.Zb(88,"img",39),r.Sc(89,"Download"),r.dc(),r.dc(),r.ec(90,"li",37),r.lc("click",(function(){return c.downloadPdfReceipt("Y")})),r.ec(91,"a"),r.Zb(92,"img",40),r.Sc(93,"Print"),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(94,"div",35),r.ec(95,"ul",41),r.ec(96,"li"),r.ec(97,"div",42),r.ec(98,"button",43),r.lc("click",(function(){return c.goToPage("myDeposits")})),r.Sc(99,"More Deposits"),r.dc(),r.dc(),r.ec(100,"div",42),r.ec(101,"button",44),r.lc("click",(function(){return c.onHomeClick()})),r.Sc(102,"Back to Home"),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(103,"div",45),r.ec(104,"div",46),r.ec(105,"a"),r.Zb(106,"img",47),r.dc(),r.dc(),r.Zb(107,"div",48),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc()),2&e&&(r.Mb(10),r.uc("ngForOf",c.dataService.breadcrumblist),r.Mb(17),r.uc("ngClass",r.zc(13,h,c.receiptType===c.constant.val_Successful,c.receiptType!=c.constant.val_Successful)),r.Mb(1),r.uc("src",c.receiptType==c.constant.val_Successful?"assets/images/svg/success-arrow.svg":"assets/images/svg/fail.svg",r.Jc),r.Mb(1),r.Uc(" ",c.receiptType,""),r.Mb(2),r.Tc(c.receiptMsg),r.Mb(1),r.uc("ngIf",c.receiptResp.FDAccNumber),r.Mb(3),r.Uc(" Transaction ID ",c.receipdRefID," "),r.Mb(11),r.Tc(c.receiptResp.depositType),r.Mb(6),r.Tc(c.receiptResp.depositScheme),r.Mb(6),r.Tc(c.receiptResp.FDAccNumber),r.Mb(6),r.Uc("",c.receiptResp.rateOfInterest," %"),r.Mb(7),r.Uc(" ",c.receiptResp.depositAmount,""),r.Mb(6),r.Tc(c.receiptResp.maturityPayoutAccount))},directives:[i.s,i.q,i.t],styles:[""]}),e})()}];let v=(()=>{class e{}return e.\u0275mod=r.Wb({type:e}),e.\u0275inj=r.Vb({factory:function(c){return new(c||e)},imports:[[o.g.forChild(m)],o.g]}),e})(),b=(()=>{class e{}return e.\u0275mod=r.Wb({type:e}),e.\u0275inj=r.Vb({factory:function(c){return new(c||e)},imports:[[i.c,v]]}),e})()}}]);