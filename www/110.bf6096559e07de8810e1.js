(window.webpackJsonp=window.webpackJsonp||[]).push([[110,349],{Eniq:function(t,e,i){"use strict";i.r(e),i.d(e,"LocateUsModule",(function(){return O}));var s=i("ofXK"),a=i("3Pt+"),n=i("fXoL"),c=i("TaOT"),o=i("EnSQ"),r=i("5IsW"),l=i("fHQ/"),h=i("H9Rt");let d=(()=>{class t{constructor(t,e,i,s){this.constant=t,this.encryptDecryptService=e,this.storage=i,this.dataService=s}getDefaultBankList(){var t={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_deviceId]:this.constant.val_DeviceID,[this.constant.key_dataType]:this.constant.val_upi_ALL,[this.constant.key_requestType]:this.constant.val_NEARBY};return console.log("state list Params ",JSON.stringify(t)),this.getEncryptedData(t)}getListBySearch(t,e,i){var s={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_deviceId]:this.constant.val_DeviceID,[this.constant.key_dataType]:t,[this.constant.key_subtype]:e,[this.constant.key_displayName]:i};return console.log("list by search params ",JSON.stringify(s)),this.getEncryptedData(s)}getNearByParam(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_deviceId]:this.constant.val_DeviceID,[this.constant.key_dataType]:t,[this.constant.key_requestType]:this.constant.val_NEARBY};return console.log("state list Params ",JSON.stringify(e)),this.getEncryptedData(e)}getNearByAtmParam(){var t={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_deviceId]:this.constant.val_DeviceID,[this.constant.key_dataType]:this.constant.val_upi_BRANCH,[this.constant.key_requestType]:this.constant.val_NEARBY};return console.log("state list Params ",JSON.stringify(t)),this.getEncryptedData(t)}getAllBranchWithoutCityCodeParam(){var t={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_deviceId]:this.constant.val_DeviceID,[this.constant.key_dataType]:this.constant.val_upi_BRANCH};return console.log("state list Params ",JSON.stringify(t)),this.getEncryptedData(t)}getAllBranchWithCityCodeParam(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_deviceId]:this.constant.val_DeviceID,[this.constant.key_dataType]:this.constant.val_upi_BRANCH,[this.constant.key_city]:t};return console.log("state list Params ",JSON.stringify(e)),this.getEncryptedData(e)}getStateListReqByCountryID(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_CountryCode]:t};return console.log("state list Params ",JSON.stringify(e)),this.getEncryptedData(e)}getCityListReqByStateID(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_StateId]:t};return console.log("state list Params ",JSON.stringify(e)),this.getEncryptedData(e)}getBranchListReqByCityID(t,e,i){var s={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsType,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_city]:t,[this.constant.key_latitude]:e,[this.constant.key_longitude]:i};return console.log("getBranchListReqByCityID ",JSON.stringify(s)),this.getEncryptedData(s)}getLocationParamsByBranchOrATM(t,e,i){var s={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_city]:t,[this.constant.key_latitude]:e,[this.constant.key_longitude]:i};return console.log("state list Params ",JSON.stringify(s)),this.getEncryptedData(s)}getLocateUsParam(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsType,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_deviceId]:this.constant.val_DeviceID,[this.constant.key_dataType]:t,[this.constant.key_latitude]:19.076,[this.constant.key_longitude]:72.8777};return console.log("getLocateUsParams ",JSON.stringify(e)),this.getEncryptedData(e)}getBranchCodeReqParams(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsType,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_deviceId]:this.constant.val_DeviceID,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_branchCode]:t.branchCode};return console.log("getBranchCodeReqParams ",JSON.stringify(e)),this.getEncryptedData(e)}getStateCityBranchReqParams(t){var e={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsType,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_deviceId]:this.constant.val_DeviceID,[this.constant.key_latitude]:this.dataService.latitude,[this.constant.key_longitude]:this.dataService.longitude,[this.constant.key_branchID]:t.branch};return console.log("getBranchCodeReqParams ",JSON.stringify(e)),this.getEncryptedData(e)}getEncryptedData(t){return this.encryptDecryptService.encryptText(this.constant.staticKey,JSON.stringify(t))}}return t.\u0275fac=function(e){return new(e||t)(n.ic(r.a),n.ic(l.a),n.ic(h.a),n.ic(o.a))},t.\u0275prov=n.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=i("L7Xq"),m=i("Eioz"),u=i("au7T"),g=i("oBZJ"),v=i("tyNb"),b=i("4bKs");const y=["location"],f=["map"];function k(t,e){if(1&t){const t=n.fc();n.ec(0,"li"),n.ec(1,"div",88),n.ec(2,"label",89),n.Sc(3),n.ec(4,"input",90),n.lc("change",(function(){n.Hc(t);const i=e.$implicit;return n.pc().searchDataTypeChange(i.value)})),n.dc(),n.Zb(5,"span",91),n.dc(),n.dc(),n.dc()}if(2&t){const t=e.$implicit;n.Mb(3),n.Uc("",t.displayName," "),n.Mb(1),n.uc("checked",t.selected)("value",t.name)}}function _(t,e){if(1&t){const t=n.fc();n.ec(0,"div",92),n.ec(1,"label",89),n.Sc(2),n.ec(3,"input",93),n.lc("change",(function(){n.Hc(t);const i=e.$implicit;return n.pc().searchSubTypeChange(i)})),n.dc(),n.Zb(4,"span",91),n.dc(),n.dc()}if(2&t){const t=e.$implicit;n.Mb(2),n.Uc("",t.displayName," "),n.Mb(1),n.uc("checked",t.selected)("value",t.name)}}function A(t,e){1&t&&(n.ec(0,"b"),n.Sc(1),n.qc(2,"translate"),n.qc(3,"translate"),n.dc()),2&t&&(n.Mb(1),n.Vc("",n.rc(2,2,"PUNJAB_SIND_BANK")," - ",n.rc(3,4,"ATM")," "))}function L(t,e){if(1&t&&(n.ec(0,"b"),n.Sc(1),n.qc(2,"translate"),n.dc()),2&t){const t=n.pc().$implicit;n.Mb(1),n.Vc("",n.rc(2,2,"PUNJAB_SIND_BANK")," - ",t.branchCode," ")}}function S(t,e){1&t&&(n.ec(0,"b"),n.Sc(1),n.qc(2,"translate"),n.qc(3,"translate"),n.dc()),2&t&&(n.Mb(1),n.Vc("",n.rc(2,2,"PUNJAB_SIND_BANK")," - ",n.rc(3,4,"ZONAL_OFFICE")," "))}function T(t,e){1&t&&(n.ec(0,"b"),n.Sc(1),n.qc(2,"translate"),n.qc(3,"translate"),n.dc()),2&t&&(n.Mb(1),n.Vc("",n.rc(2,2,"PUNJAB_SIND_BANK")," - ",n.rc(3,4,"HEAD_OFFICE")," "))}function M(t,e){if(1&t){const t=n.fc();n.ec(0,"li",94),n.lc("click",(function(){n.Hc(t);const i=e.$implicit;return n.pc().openFilter(i)})),n.ec(1,"span",95),n.Rc(2,A,4,6,"b",96),n.Rc(3,L,3,4,"b",96),n.Rc(4,S,4,6,"b",96),n.Rc(5,T,4,6,"b",96),n.ec(6,"p"),n.Zb(7,"img",97),n.Sc(8),n.dc(),n.ec(9,"a"),n.Zb(10,"img",98),n.Sc(11),n.dc(),n.Zb(12,"br"),n.ec(13,"a"),n.Zb(14,"img",99),n.Sc(15),n.dc(),n.Zb(16,"br"),n.dc(),n.dc()}if(2&t){const t=e.$implicit;n.Mb(2),n.uc("ngIf","3"==t.location),n.Mb(1),n.uc("ngIf","4"==t.location),n.Mb(1),n.uc("ngIf","5"==t.location),n.Mb(1),n.uc("ngIf","6"==t.location),n.Mb(3),n.Uc(" ",t.address1," "),n.Mb(3),n.Tc("Not Available"==t.phone_number?"-":t.phone_number),n.Mb(4),n.Tc(t.email_id)}}function C(t,e){if(1&t){const t=n.fc();n.ec(0,"li"),n.ec(1,"div",88),n.ec(2,"label",89),n.Sc(3),n.ec(4,"input",90),n.lc("change",(function(){n.Hc(t);const i=e.$implicit;return n.pc().searchDataTypeChange(i.value)})),n.dc(),n.Zb(5,"span",91),n.dc(),n.dc(),n.dc()}if(2&t){const t=e.$implicit;n.Mb(3),n.Uc("",t.displayName," "),n.Mb(1),n.uc("checked",t.selected)("value",t.name)}}function I(t,e){if(1&t){const t=n.fc();n.ec(0,"li"),n.ec(1,"div",92),n.ec(2,"label",89),n.Sc(3),n.ec(4,"input",93),n.lc("change",(function(){n.Hc(t);const i=e.$implicit;return n.pc().searchSubTypeChange(i)})),n.dc(),n.Zb(5,"span",91),n.dc(),n.dc(),n.dc()}if(2&t){const t=e.$implicit;n.Mb(3),n.Uc("",t.displayName," "),n.Mb(1),n.uc("checked",t.selected)("value",t.name)}}const B=[{path:"",component:(()=>{class t{constructor(t,e,i,s,a,n,c,o,r,l,h,d,p){this.formValidation=t,this.dataService=e,this.locateUsService=i,this.constant=s,this.storage=a,this.http=n,this.translate=c,this.ngZone=o,this.commonMethod=r,this.plugin=l,this._location=h,this.router=d,this.loader=p,this.showContent=!1,this.filterActive=!1,this.stateList=[],this.cityList=[],this.branchList=[],this.markers=[],this.atmBranchList=[],this.autoCompleteList=[],this.infoWindows=[],this.atmDetList=[],this.branchDetList=[],this.searchtype="State",this.isUserLocationAvail=!1,this.searchBranch=!0,this.nearMeShow=!1,this.locateToggleSection=!0,this.serachedLocation="",this.commonPageComponent={headerType:"notLoginPrelogin",sidebarNAv:!1,footer:"innerFooter",currentpageRoute:"/locateus"},this.searchList=[{name:"branch",displayName:"Branch",selected:!0,value:"BRANCH"},{name:"atm",displayName:"ATM",selected:!1,value:"ATM"},{name:"zonalOffices",displayName:"Zonal Offices",selected:!1,value:"ZONAL"},{name:"headOffices",displayName:"Head Offices",selected:!1,value:"HO"}],this.searchType=[{name:"state",displayName:"State",selected:!0,idName:"State/City"},{name:"city",displayName:"City",selected:!1,idName:"State/City"},{name:"branchCode",displayName:"Branch Code",selected:!1,idName:"Branch Code"},{name:"ifsc",displayName:"IFSC",selected:!1,idName:"IFSC"}],this.headerdata={headerType:"preloginHeader",titleName:"none",footertype:"none"},this.keyword="address1",this.formErrorsBranchATM={selectedType:"",location:""},this.formErrorsStateCityBranch={state:"",city:"",branch:""},this.formErrorsBranchCode={branchCode:""}}ngOnInit(){this.ngZone.run(()=>{this.dataService.bezellessIphone&&$("#mainDiv").removeClass("pre-login")}),this.dataService.changeMessage(this.commonPageComponent),this.buildForm(),"web"!=this.constant.getIsCordova()?(this.nearMeShow=!0,this.getDefaultBankData()):this.getMobileLocation()}buildForm(){this.findBranchATMForm=new a.j({searchList:new a.g(this.searchList[0].name,[a.G.required]),searchType:new a.g(this.searchType[0].name,[a.G.required]),searchText:new a.g("",[a.G.required,a.G.pattern(/(^[a-z0-9A-Z.',\- ]*$)/)])}),this.findBranchATMForm.valueChanges.subscribe(t=>{this.formErrorsBranchATM=this.formValidation.validateForm(this.findBranchATMForm,this.formErrorsBranchATM,!0)}),this.searchList.length>0&&(this.searchDatatypeName=this.searchList[0].name),this.searchType.length>0&&(this.searchIDName=this.searchType[0].idName)}showHideSearch(){this.showContent=!this.showContent}validateForm(){this.findBranchATMForm.invalid&&this.findBranchATMForm.markAllAsTouched()}submitLocForm(){if(this.validateForm(),this.findBranchATMForm.valid)switch(this.findBranchATMForm.value.searchType){case"branch":this.getNearBy(this.constant.val_upi_BRANCH);break;case"atm":this.getNearBy(this.constant.val_upi_ATM);break;case"zonalOffices":this.getNearBy(this.constant.val_upi_ZONAL);break;case"headOffices":this.getNearBy(this.constant.val_upi_HO)}}getDefaultBankData(){this.dataService.getCurrentLatLong().subscribe(t=>{if(console.log("GeoLocation Plugin => getCurrentLatLong Success => ",t),t){console.log(this.dataService.latitude),console.log(this.dataService.longitude);let t=this.locateUsService.getDefaultBankList();this.http.callBankingAPIService(t,this.constant.deviceID,this.constant.serviceName_LOCATEUS).subscribe(t=>{var e=t.responseParameter;"00"==e.opstatus?(this.nearMeShow=!0,this.bankLocationDetailList=t.set.records,this.isUserLocationAvail=!0,this.setGoogleMap()):this.errorCallBack(t.subActionId,e)})}else{var e=this;navigator.permissions.query({name:"geolocation"}).then((function(t){"granted"==t.state?console.log("granted"):"prompt"==t.state?console.log("prompt"):"denied"==t.state&&(console.log("denied"),e.openPopup("permission-denied")),t.onchange=function(){console.log(t.state)}}))}},t=>{this.openPopup("enable-location-permission"),console.log("GeoLocation Plugin => getCurrentLatLong Error => ",t)})}getMobileLocation(){this.loader.showLoader(),this.dataService.getCurrentLatLong().subscribe(t=>{if(t){let t=this.locateUsService.getDefaultBankList();this.http.callBankingAPIService(t,this.constant.deviceID,this.constant.serviceName_LOCATEUS).subscribe(t=>{var e=t.responseParameter;"00"==e.opstatus?(this.nearMeShow=!0,this.bankLocationDetailList=t.set.records,this.isUserLocationAvail=!0,this.setGoogleMap()):this.errorCallBack(t.subActionId,e)})}else this.openPopup("enable-location-permission")},t=>{this.openPopup("enable-location-permission"),console.log("GeoLocation Plugin => getCurrentLatLong Error => ",t)})}getNearBy(t){let e=this.locateUsService.getNearByParam(t);this.http.callBankingAPIService(e,this.constant.deviceID,this.constant.serviceName_LOCATEUS).subscribe(t=>{var e=t.responseParameter;"00"==e.opstatus?(this.bankLocationDetailList=t.set.records,this.isUserLocationAvail=!0,this.setGoogleMap()):this.errorCallBack(t.subActionId,e)})}getNearByAtm(t){let e=this.locateUsService.getNearByParam(t);this.http.callBankingAPIService(e,this.constant.deviceID,this.constant.serviceName_LOCATEUS).subscribe(t=>{var e=t.responseParameter;"00"==e.opstatus?(this.bankLocationDetailList=t.set.records,this.isUserLocationAvail=!0,this.setGoogleMap()):this.errorCallBack(t.subActionId,e)})}clear(t){"mobile"==t&&this.commonMethod.closeAllPopup(),this.findBranchATMForm.reset(),this.getDefaultBankData(),this.nearMeShow=!0}setGoogleMap(){let t,e;this.getCurrentLocation(),this.directionService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer,this.dataService.latitude&&this.dataService.longitude?(t=this.dataService.latitude,e=this.dataService.longitude):(t=22,e=78);const i={lat:parseFloat(t),lng:parseFloat(e)};(new google.maps.Geocoder).geocode({location:i}).then(t=>{t.results[0]&&console.log("response.results[0]"+t.results[0])}).catch();var s={center:new google.maps.LatLng(t,e),zoom:this.isUserLocationAvail?12:5,mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(document.getElementById("map"),s),this.directionsDisplay.setMap(this.map),this.isUserLocationAvail&&this.displayMarker()}displayMarker(){this.bounds=new google.maps.LatLngBounds,this.clearMarkers();var t=new google.maps.LatLng(this.dataService.currentLat,this.dataService.currentLng),e={url:"assets/images/icons/current-location-icon.svg",scaledSize:new google.maps.Size(27,27),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0)},i=new google.maps.Marker({map:this.map,position:t,icon:e,title:s});this.markers.push(i),this.map.setZoom(12),this.bounds.extend(t);for(let a=0;a<this.bankLocationDetailList.length;a++){let e=this.bankLocationDetailList[a];t=new google.maps.LatLng(e.latitude,e.longitute);var s="";i=new google.maps.Marker({map:this.map,position:t,title:s}),this.markers.push(i),this.map.setZoom(13),this.createInfoWindow(i,e),this.bounds.extend(t)}this.bankLocationDetailList.length>0&&this.map.setCenter(new google.maps.LatLng(this.bankLocationDetailList[0].latitude,this.bankLocationDetailList[0].longitute))}initialize(){this.hidePopup(),this.getStateListForLocation(),this.getLocationListForAtmAndBranch(this.constant.val_ATM)}detectLocation(){this.openFilter({latitude:this.dataService.latitude,longitude:this.dataService.longitude}),this.getDefaultBankData()}getCurrentLocation(){this.dataService.getCurrentLatLong().subscribe(t=>{this.isUserLocationAvail=t})}createInfoWindow(t,e){google.maps.event.addListener(t,"click",()=>{this.setInfoWindow(t,e)})}selectedLocationWithMarker(t,e){let i=this.markers[e];this.map.setCenter(new google.maps.LatLng(this.markers[e].position.lat(),this.markers[e].position.lng())),this.setInfoWindow(i,t)}setInfoWindow(t,e){this.infoWindow&&this.infoWindow.close();for(var i=0;i<this.infoWindows.length;i++)this.infoWindows[i].close();this.infoWindow=new google.maps.InfoWindow({content:'<div id="iw_container"><div class="iw_title">'+e.displayName+'</div><div class="iw_content">'+e.address1+"<br />"+e.phone_number+"<br /><br />"+e.email_id+"</div></div>"}),this.infoWindows.push(this.infoWindow),this.infoWindow.open(this.map,t)}getDirection(){if(this.selectedAtmBranchObj&&this.atmBranchList.length>0){this.clearRoutes();let t=new google.maps.LatLng(this.selectedAtmBranchObj.latitude,this.selectedAtmBranchObj.longitute);this.driverDirection(t),this.hidePopup()}}SearchLocation(){}searchDataTypeChange(t){switch(t){case"BRANCH":case"ATM":this.searchType=[{name:"state",displayName:"State",selected:!0,idName:"State/City"},{name:"city",displayName:"City",selected:!1,idName:"State/City"},{name:"branchCode",displayName:"Branch Code",selected:!1,idName:"Branch Code"},{name:"ifsc",displayName:"IFSC",selected:!1,idName:"IFSC"}];break;case"ZONAL":case"HO":this.searchType=[{name:"state",displayName:"State",selected:!0,idName:"State/City"},{name:"city",displayName:"City",selected:!1,idName:"State/City"}]}this.searchDatatypeName=t}searchSubTypeChange(t){this.findBranchATMForm.patchValue({searchText:""}),this.searchIDName=t.idName,this.searchtype=t.displayName}searchApplyClicked(t){"mobile"==t&&this.commonMethod.closeAllPopup(),this.nearMeShow=!1,this.serachedLocation=this.findBranchATMForm.value.searchText;let e=this.locateUsService.getListBySearch(this.searchDatatypeName,this.searchIDName,this.findBranchATMForm.value.searchText);this.http.callBankingAPIService(e,this.constant.deviceID,this.constant.serviceName_LOCATEUS).subscribe(t=>{var e=t.responseParameter;"00"==e.opstatus?(this.bankLocationDetailList=t.set.records,this.isUserLocationAvail=!0,this.setGoogleMap()):this.errorCallBack(t.subActionId,e)})}clearRoutes(){this.directionsDisplay.setMap(null)}cancel(){this._location.back()}resetSelect(){$("#state").val(""),$("#city").val(""),$("#branch").val(""),this.selectedState="",this.selectedCity="",this.selectedBranch=""}getStateListForLocation(){let t=this.locateUsService.getStateListReqByCountryID("1");this.http.callBankingAPIService(t,this.constant.deviceID,this.constant.serviceName_GETSTATEFORLOCATIONS).subscribe(t=>{var e=t.responseParameter;"00"==e.opstatus?t.hasOwnProperty("set")&&(this.stateList=t.set.records):this.errorCallBack(t.subActionId,e)})}setAutoCompleteByType(){}getLocationListForAtmAndBranch(t){let e=this.locateUsService.getLocateUsParam(t);this.http.callBankingAPIService(e,this.constant.deviceID,this.constant.serviceName_LOCATEUS).subscribe(e=>{var i=e.responseParameter;"00"==i.opstatus?(e.hasOwnProperty("set")&&(t==this.constant.val_ATM?this.atmDetList=e.set.records:this.branchDetList=e.set.records),this.searchBranch&&(this.getLocationListForAtmAndBranch(this.constant.val_BRANCH),this.searchBranch=!1)):this.errorCallBack(e.subActionId,i)})}getSelectedBranch(t){""!=t&&(this.selectedBranch=this.branchList.find(e=>e.branchCode==t))}errorCallBack(t,e){showToastMessage(e.Result,"error")}hidePopup(){$(".tab-main .tabcontent .embed-responsive .popup1").hide()}driverDirection(t){let e=this.map;var i=this;navigator.geolocation.getCurrentPosition((function(i){let s=i.coords.latitude,a=i.coords.longitude,n=new google.maps.DirectionsService,c=new google.maps.DirectionsRenderer({map:e}),o=new google.maps.LatLng(s,a);n.route({origin:o,destination:t,travelMode:google.maps.TravelMode.DRIVING},(function(t,e){"OK"==e&&c.setDirections(t)}))}),(function(t){t.code==t.PERMISSION_DENIED&&i.showCommonToastMsgWithKey("ENABLE_LOCATION_MSG")}))}getSelectedAtmBranch(t,e){this.selectedAtmBranchObj=t,this.showPopup(),this.selectedLocationWithMarker(t,e)}showPopup(){$(".tab-main .tabcontent .embed-responsive .popup1").show()}getLocationByType(){this.hidePopup()}setMarker(){this.atmBranchList.length>0?(this.selectedAtmBranchObj=this.atmBranchList[0],this.showPopup(),this.displayMarker()):(this.deleteMarkers(),this.clearRoutes())}showCommonToastMsgWithKey(t){showToastMessage(this.translate.transform(t))}setMapOnAll(t){for(let e=0;e<this.markers.length;e++)this.markers[e].setMap(t)}clearMarkers(){this.setMapOnAll(null),this.markers=[]}deleteMarkers(){this.clearMarkers(),this.markers=[],this.map.setZoom(5),this.map.setCenter(new google.maps.LatLng("22.0000","78.0000"))}isActiveCollapisble(t){return $("#"+t).hasClass("slide-active")}scroll(t){t.scrollIntoView()}openFilter(t){console.log(t);var e=new google.maps.LatLng(t.latitude,t.longitute),i=new google.maps.LatLngBounds(e);this.map.setZoom(20),this.map.fitBounds(i),this.filterActive=!0}filterClose(){this.filterActive=!1}openPopup(t){this.commonMethod.openPopup("div.popup-bottom."+t)}closePopup(t){this.commonMethod.openPopup("div.popup-bottom."+t)}close(){this.commonMethod.closeAllPopup()}enableLocation(){this.closePopup("div.popup-bottom.enable-location-permission"),"web"!=this.constant.getPlatform()&&this.plugin.gotoSetting().subscribe(t=>{console.log("gotoSetting=====>",t)},t=>{console.log("gotoSetting error",t)})}locateToggle(){this.locateToggleSection=!this.locateToggleSection}openFilterPopup(){this.commonMethod.openPopup("div.filter1")}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(c.a),n.Yb(o.a),n.Yb(d),n.Yb(r.a),n.Yb(h.a),n.Yb(p.a),n.Yb(m.a),n.Yb(n.H),n.Yb(u.a),n.Yb(g.a),n.Yb(s.n),n.Yb(v.c),n.Yb(b.a))},t.\u0275cmp=n.Sb({type:t,selectors:[["app-locate-us"]],viewQuery:function(t,e){var i;1&t&&(n.Yc(y,!0),n.Yc(f,!0)),2&t&&(n.Dc(i=n.mc())&&(e.location=i.first),n.Dc(i=n.mc())&&(e.mapViewChild=i.first))},decls:169,vars:54,consts:[[1,"prelogin-page"],[1,"registration-steps"],[1,"row1"],[1,"col-12","position-static"],[1,"inner-header"],[1,"registration-container"],[1,"close-registration",3,"click"],["src","assets/images/svg/close-w.svg"],[1,"registrationsteps-block","registration-container","clearfix","locate-us"],["autocomplete","off",3,"formGroup","ngSubmit"],["id","accordion1",1,"accordion-container","card-container","mt-0","mb-3","hide-m"],[1,"card2","overflow"],["data-toggle","collapse","href","#find","aria-expanded","true",1,"card-link"],[1,"card-header6"],[1,"panel-title"],[1,"comp-info"],[1,"grid-info"],[1,"full-info"],["id","find","data-parent","#accordion1",1,"collapse","show"],[1,"card-body","bg-w","pad-custom"],[1,"col-12","p-0"],[1,"custom-radio-list","bg-grey"],[4,"ngFor","ngForOf"],[1,"search-container","clearfix"],["class","ux-selection",4,"ngFor","ngForOf"],[1,"search-box","pt-0"],[1,"row"],[1,"col-12","col-md-6","col-lg-4","col-xl-4"],[1,"ux-input","mt-0"],["type","text","formControlName","searchText",3,"placeholder"],[1,"error-message"],[1,"ux-linkbutton","link-text","primary","mt-3",3,"click"],["src","assets/images/svg/add-g.svg","alt","ad-icon"],[1,"row1","border-t"],[1,"col-12","col-md-12"],[1,"bottom-footer1"],[1,"btn-div"],["type","button",1,"ux-button","secondary","sm-mob",3,"click"],["type","submit",1,"ux-button","primary","sm-mob",3,"disabled","click"],[1,"branch-searchresult"],[1,"ios-nav-overlay"],[1,"ux-nav-tabs",2,"margin","0"],[1,"responsive5"],["role","tablist",1,"nav","nav-tabs","nav-justified","bor-n"],[1,"nav-item"],["data-toggle","tab","href","#tab01",1,"nav-link","active",3,"click"],["data-toggle","tab","href","#tab02",1,"nav-link",3,"click"],[1,"tab-content"],[1,"tabHeading","clearfix"],[1,"col-8","col-sm-9"],[1,"col-4","col-sm-3"],[1,"text-right"],[1,"filter-btn","ux-linkbutton","link-text","primary",3,"click"],["src","assets/images/svg/add-g.svg","alt","filter-icon"],["id","tab01",1,"tab-pane","branch-lst","active"],[1,"result-info"],["class","bank",3,"click",4,"ngFor","ngForOf"],["id","tab02",1,"tab-pane","branch-map","fade"],[1,"mt-map-wrapper"],["id","map",1,"map-controller",2,"width","100%"],["map",""],[1,"popup-bottom","filter1"],[1,"col-10"],[1,"col-2"],[1,"ux-button-icon","close-btn",3,"click"],["src","assets/images/svg/close-b.svg","alt","cross-icon",1,"img-vsmall"],["autocomplete","off","id","filter-form",3,"formGroup","ngSubmit"],[1,"row","mt-2","mb-3"],[1,"custom-radio-list"],[1,"col-12"],[1,"radio-list6"],[1,"row1","mb-3"],["type","text","placeholder","Search Location","formControlName","searchText"],[1,"col-12","text-right"],[1,"ux-linkbutton","link-text","primary"],[1,"row1","mt-2"],[1,"col-6","text-center"],["type","button",1,"ux-button","secondary","md",3,"click"],[1,"popup-bottom","sm-mob","permission-denied"],[1,"text-center"],["src","assets/images/svg/information.svg","alt","error-icon"],[1,"col-12","mb-4"],[1,"col-12","text-center"],[1,"ux-button","primary","submit-btn",3,"click"],[1,"popup-bottom","sm-mob","enable-location-permission"],["src","assets/images/svg/information.svg","alt","information-icon"],[1,"col-12","text-center",3,"click"],["type","button",1,"ux-button","primary","submit-btn",3,"click"],[1,"ux-selection","branch"],[1,"ux-selection2"],["type","radio","formControlName","searchList","name","searchList",3,"checked","value","change"],[1,"checkmark"],[1,"ux-selection"],["type","radio","formControlName","searchType","name","searchType",3,"checked","value","change"],[1,"bank",3,"click"],[1,"branch-detail"],[4,"ngIf"],["src","assets/images/svg/location-g.svg","alt","location-icon"],["src","assets/images/icons/phone-call.svg","alt","phone-icon"],["src","assets/images/svg/email.svg","alt","email-icon"]],template:function(t,e){1&t&&(n.ec(0,"div",0),n.ec(1,"div",1),n.ec(2,"div",2),n.ec(3,"div",3),n.ec(4,"div",4),n.ec(5,"div",5),n.ec(6,"h4"),n.Sc(7),n.qc(8,"translate"),n.dc(),n.ec(9,"a",6),n.lc("click",(function(){return e.cancel()})),n.Zb(10,"img",7),n.dc(),n.dc(),n.dc(),n.ec(11,"div",8),n.ec(12,"form",9),n.lc("ngSubmit",(function(){return e.submitLocForm()})),n.ec(13,"div",10),n.ec(14,"div",11),n.ec(15,"a",12),n.ec(16,"div",13),n.ec(17,"div",14),n.ec(18,"ul",15),n.ec(19,"li"),n.ec(20,"div",16),n.ec(21,"div",17),n.ec(22,"h5"),n.Sc(23,"Find Branch/ATM"),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.Zb(24,"em"),n.dc(),n.dc(),n.ec(25,"div",18),n.ec(26,"div",19),n.ec(27,"div",2),n.ec(28,"div",20),n.ec(29,"ul",21),n.Rc(30,k,6,3,"li",22),n.dc(),n.dc(),n.ec(31,"div",20),n.ec(32,"div",23),n.ec(33,"h6"),n.Sc(34),n.qc(35,"translate"),n.dc(),n.Rc(36,_,5,3,"div",24),n.dc(),n.dc(),n.dc(),n.ec(37,"div",2),n.ec(38,"div",20),n.ec(39,"div",25),n.ec(40,"div",26),n.ec(41,"div",27),n.ec(42,"div",28),n.Zb(43,"input",29),n.Zb(44,"p",30),n.dc(),n.dc(),n.ec(45,"div",27),n.ec(46,"button",31),n.lc("click",(function(){return e.detectLocation()})),n.Zb(47,"img",32),n.Sc(48," Detect Location "),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(49,"div",33),n.ec(50,"div",34),n.ec(51,"ul",35),n.ec(52,"li"),n.ec(53,"div",36),n.ec(54,"button",37),n.lc("click",(function(){return e.clear("desktop")})),n.Sc(55),n.qc(56,"translate"),n.dc(),n.dc(),n.ec(57,"div",36),n.ec(58,"button",38),n.lc("click",(function(){return e.searchApplyClicked("desktop")})),n.Sc(59),n.qc(60,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(61,"div",39),n.Zb(62,"div",40),n.ec(63,"div",41),n.ec(64,"div",42),n.ec(65,"ul",43),n.ec(66,"li",44),n.ec(67,"a",45),n.lc("click",(function(){return e.getDefaultBankData()})),n.Sc(68),n.qc(69,"translate"),n.dc(),n.dc(),n.ec(70,"li",44),n.ec(71,"a",46),n.lc("click",(function(){return e.setGoogleMap()})),n.Sc(72),n.qc(73,"translate"),n.dc(),n.dc(),n.dc(),n.ec(74,"div",47),n.ec(75,"div",48),n.ec(76,"div",2),n.ec(77,"div",49),n.ec(78,"h4"),n.Sc(79,"Result(03)"),n.dc(),n.dc(),n.ec(80,"div",50),n.ec(81,"div",51),n.ec(82,"button",52),n.lc("click",(function(){return e.openFilterPopup()})),n.Zb(83,"img",53),n.Sc(84),n.qc(85,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(86,"div",54),n.ec(87,"ul"),n.ec(88,"li",55),n.ec(89,"h6"),n.Sc(90),n.ec(91,"span"),n.Sc(92),n.dc(),n.dc(),n.dc(),n.Rc(93,M,17,7,"li",56),n.dc(),n.dc(),n.ec(94,"div",57),n.ec(95,"div",58),n.Zb(96,"div",59,60),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(98,"div",61),n.ec(99,"div",2),n.ec(100,"div",62),n.ec(101,"h4"),n.Sc(102,"Filter by"),n.dc(),n.dc(),n.ec(103,"div",63),n.ec(104,"button",64),n.lc("click",(function(){return e.close()})),n.Zb(105,"img",65),n.dc(),n.dc(),n.dc(),n.ec(106,"form",66),n.lc("ngSubmit",(function(){return e.submitLocForm()})),n.ec(107,"div",67),n.ec(108,"div",20),n.ec(109,"ul",68),n.Rc(110,C,6,3,"li",22),n.dc(),n.dc(),n.dc(),n.ec(111,"div",2),n.ec(112,"div",69),n.ec(113,"h5"),n.Sc(114,"Search By"),n.dc(),n.dc(),n.ec(115,"div",34),n.ec(116,"ul",70),n.Rc(117,I,6,3,"li",22),n.dc(),n.dc(),n.dc(),n.ec(118,"div",71),n.ec(119,"div",69),n.ec(120,"div",28),n.Zb(121,"input",72),n.Zb(122,"p",30),n.dc(),n.dc(),n.ec(123,"div",73),n.ec(124,"button",74),n.Zb(125,"img",32),n.Sc(126," Detect Location "),n.dc(),n.dc(),n.dc(),n.ec(127,"div",75),n.ec(128,"div",76),n.ec(129,"button",77),n.lc("click",(function(){return e.clear("mobile")})),n.Sc(130),n.qc(131,"translate"),n.dc(),n.dc(),n.ec(132,"div",76),n.ec(133,"button",38),n.lc("click",(function(){return e.searchApplyClicked("mobile")})),n.Sc(134),n.qc(135,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(136,"div",78),n.ec(137,"div",2),n.ec(138,"div",69),n.ec(139,"h4",79),n.Zb(140,"img",80),n.Sc(141),n.qc(142,"translate"),n.dc(),n.dc(),n.dc(),n.ec(143,"div",2),n.ec(144,"div",81),n.ec(145,"p"),n.Sc(146,"Location permission is denied .Please change it from setting"),n.dc(),n.dc(),n.dc(),n.ec(147,"div",75),n.ec(148,"div",82),n.ec(149,"button",83),n.lc("click",(function(){return e.close()})),n.Sc(150),n.qc(151,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(152,"div",84),n.ec(153,"div",2),n.ec(154,"div",69),n.ec(155,"h4",79),n.Zb(156,"img",85),n.Sc(157),n.qc(158,"translate"),n.dc(),n.dc(),n.dc(),n.ec(159,"div",2),n.ec(160,"div",69),n.ec(161,"p"),n.Sc(162),n.qc(163,"translate"),n.dc(),n.dc(),n.dc(),n.ec(164,"div",75),n.ec(165,"div",86),n.lc("click",(function(){return e.close()})),n.ec(166,"button",87),n.lc("click",(function(){return e.enableLocation()})),n.Sc(167),n.qc(168,"translate"),n.dc(),n.dc(),n.dc(),n.dc()),2&t&&(n.Mb(7),n.Tc(n.rc(8,26,"LOCATES_US")),n.Mb(5),n.uc("formGroup",e.findBranchATMForm),n.Mb(18),n.uc("ngForOf",e.searchList),n.Mb(4),n.Tc(n.rc(35,28,"SEARCH_BY")),n.Mb(2),n.uc("ngForOf",e.searchType),n.Mb(7),n.vc("placeholder",e.searchtype),n.Mb(12),n.Tc(n.rc(56,30,"CLEAR")),n.Mb(3),n.uc("disabled",e.findBranchATMForm.invalid),n.Mb(1),n.Tc(n.rc(60,32,"APPLY")),n.Mb(9),n.Tc(n.rc(69,34,"LIST")),n.Mb(4),n.Tc(n.rc(73,36,"MAP")),n.Mb(12),n.Uc(" ",n.rc(85,38,"FILTER")," "),n.Mb(6),n.Uc("",e.bankLocationDetailList.length," Records found "),n.Mb(2),n.Tc(e.serachedLocation),n.Mb(1),n.uc("ngForOf",e.bankLocationDetailList),n.Mb(13),n.uc("formGroup",e.findBranchATMForm),n.Mb(4),n.uc("ngForOf",e.searchList),n.Mb(7),n.uc("ngForOf",e.searchType),n.Mb(13),n.Tc(n.rc(131,40,"CLEAR")),n.Mb(3),n.uc("disabled",e.findBranchATMForm.invalid),n.Mb(1),n.Tc(n.rc(135,42,"APPLY")),n.Mb(7),n.Uc(" ",n.rc(142,44,"INFORMATION")," "),n.Mb(9),n.Tc(n.rc(151,46,"OK")),n.Mb(7),n.Uc(" ",n.rc(158,48,"INFORMATION"),""),n.Mb(5),n.Tc(n.rc(163,50,"LOCATION_ENABLE_PERMISSION_INFORMATION")),n.Mb(5),n.Tc(n.rc(168,52,"OK")))},directives:[a.I,a.t,a.k,s.s,a.c,a.s,a.i,a.A,s.t],pipes:[m.a],styles:[".ng-autocomplete[_ngcontent-%COMP%]{width:100%;max-width:600px;display:table;margin:0 auto}.paddingTop300px[_ngcontent-%COMP%]{padding-top:300px}@media (max-width:767px){.paddingTop300px[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}}.locate-us[_ngcontent-%COMP%]   .findby-detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()}];let P=(()=>{class t{}return t.\u0275mod=n.Wb({type:t}),t.\u0275inj=n.Vb({factory:function(e){return new(e||t)},imports:[[v.g.forChild(B)],v.g]}),t})();var N=i("PCNd"),D=i("AvjH"),w=i("bH2/");let O=(()=>{class t{}return t.\u0275mod=n.Wb({type:t}),t.\u0275inj=n.Vb({factory:function(e){return new(e||t)},imports:[[s.c,P,a.m,a.C,w.a,N.a,D.a]]}),t})()},TaOT:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i("fXoL"),a=i("fUdP");let n=(()=>{class t{constructor(t){this.customCurrencyPipe=t}markFormGroupTouched(t){Object.values(t.controls).forEach(t=>{t.markAsTouched(),t.controls&&t.controls.forEach(t=>this.markFormGroupTouched(t))})}markFormGroupUntouched(t){Object.values(t.controls).forEach(t=>{t.markAsUntouched(),t.controls&&t.controls.forEach(t=>this.markFormGroupUntouched(t))})}validationMessages(){return{required:"* This field is required",email:"* This email address is invalid",minlength:"* Length is too short",maxlength:"* Length is too long",invalid_characters:t=>{let e=t;return e=e.reduce((t,i,s)=>{let a=t;return a+=i,e.length!==s+1&&(a+=", "),a},""),"These characters are not allowed: "+e}}}validateForm(t,e,i){const s=t;for(const a in e)if(a){e[a]="";const t=s.get(a),n=this.validationMessages();if(t&&!t.valid&&(!i||t.dirty||t.touched))for(const i in t.errors)console.log("======>inside",i),e[a]=i&&"invalid_characters"!==i?e[a]||n[i]:e[a]||n[i](t.errors[i])}return e}formatCurrency(t,e,i){if("0"!=t)if(""!=t){let i=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==i.trim().replace(/[^.0-9]+/g,"")?e.contains("amount")&&e.get("amount").reset():"0"==i.trim().replace(/[^.0-9]+/g,"")?e.get("amount").reset():(console.log(i),e.patchValue({amount:i}))}else e.get("amount").reset("");else e.contains("amount")&&e.get("amount").reset()}formatTransLimit(t,e){if("0"!=t)if(""!=t){let i=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==i?e.contains("transactionLimit")&&e.get("transactionLimit").reset():"0"==i.trim()?e.get("transactionLimit").reset():(console.log(i),e.patchValue({transactionLimit:i}))}else e.get("transactionLimit").reset("");else e.contains("transactionLimit")&&e.get("transactionLimit").reset()}formatDynamicCurrency(t,e){$("#"+t).val()&&"\u20b9 0.00"!=$("#"+t).val()?e.patchValue({amount:$("#"+t).val()}):e.get("amount").reset("")}deFormatValue(t,e){e.patchValue({amount:t.replace(/[^0-9.]+/g,"")})}formatAmtCurrency(t,e,i){if("0"!=t)if(""!=t){let s=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==s?e.contains(i)&&e.get(i).reset():"0"==s.trim()?e.get(i).reset():e.controls[i].patchValue("\u20b9"+s)}else e.get(i).reset("");else e.contains(i)&&e.get(i).reset()}}return t.\u0275fac=function(e){return new(e||t)(s.ic(a.a))},t.\u0275prov=s.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);