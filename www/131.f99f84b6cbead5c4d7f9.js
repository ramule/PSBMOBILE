(window.webpackJsonp=window.webpackJsonp||[]).push([[131,349],{TaOT:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));var s=o("fXoL"),c=o("fUdP");let i=(()=>{class t{constructor(t){this.customCurrencyPipe=t}markFormGroupTouched(t){Object.values(t.controls).forEach(t=>{t.markAsTouched(),t.controls&&t.controls.forEach(t=>this.markFormGroupTouched(t))})}markFormGroupUntouched(t){Object.values(t.controls).forEach(t=>{t.markAsUntouched(),t.controls&&t.controls.forEach(t=>this.markFormGroupUntouched(t))})}validationMessages(){return{required:"* This field is required",email:"* This email address is invalid",minlength:"* Length is too short",maxlength:"* Length is too long",invalid_characters:t=>{let e=t;return e=e.reduce((t,o,s)=>{let c=t;return c+=o,e.length!==s+1&&(c+=", "),c},""),"These characters are not allowed: "+e}}}validateForm(t,e,o){const s=t;for(const c in e)if(c){e[c]="";const t=s.get(c),i=this.validationMessages();if(t&&!t.valid&&(!o||t.dirty||t.touched))for(const o in t.errors)console.log("======>inside",o),e[c]=o&&"invalid_characters"!==o?e[c]||i[o]:e[c]||i[o](t.errors[o])}return e}formatCurrency(t,e,o){if("0"!=t)if(""!=t){let o=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==o.trim().replace(/[^.0-9]+/g,"")?e.contains("amount")&&e.get("amount").reset():"0"==o.trim().replace(/[^.0-9]+/g,"")?e.get("amount").reset():(console.log(o),e.patchValue({amount:o}))}else e.get("amount").reset("");else e.contains("amount")&&e.get("amount").reset()}formatTransLimit(t,e){if("0"!=t)if(""!=t){let o=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==o?e.contains("transactionLimit")&&e.get("transactionLimit").reset():"0"==o.trim()?e.get("transactionLimit").reset():(console.log(o),e.patchValue({transactionLimit:o}))}else e.get("transactionLimit").reset("");else e.contains("transactionLimit")&&e.get("transactionLimit").reset()}formatDynamicCurrency(t,e){$("#"+t).val()&&"\u20b9 0.00"!=$("#"+t).val()?e.patchValue({amount:$("#"+t).val()}):e.get("amount").reset("")}deFormatValue(t,e){e.patchValue({amount:t.replace(/[^0-9.]+/g,"")})}formatAmtCurrency(t,e,o){if("0"!=t)if(""!=t){let s=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==s?e.contains(o)&&e.get(o).reset():"0"==s.trim()?e.get(o).reset():e.controls[o].patchValue("\u20b9"+s)}else e.get(o).reset("");else e.contains(o)&&e.get(o).reset()}}return t.\u0275fac=function(e){return new(e||t)(s.ic(c.a))},t.\u0275prov=s.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},lavT:function(t,e,o){"use strict";o.r(e),o.d(e,"HotlistCardAuthorizationModule",(function(){return T}));var s=o("ofXK"),c=o("tyNb"),i=o("3Pt+"),n=o("PqYM"),r=o("fXoL"),a=o("EnSQ"),d=o("TaOT"),l=o("Eioz"),h=o("5IsW"),u=o("fHQ/"),m=o("H9Rt");let p=(()=>{class t{constructor(t,e,o,s,c,i){this.constant=t,this.encryptService=e,this.constants=o,this.localStorage=s,this.dataService=c,this.encryptDecryptService=i}getSendOTPSessionReq(t){var e;return e={[this.constants.key_entityId]:this.constant.getEntityId(),[this.constants.key_cbsType]:this.constants.val_cbsTypeTcs,[this.constants.key_mobPlatform]:this.constants.val_mobPlatform,[this.constants.key_mobileAppVersion]:this.constants.val_mobileAppVersion,[this.constant.key_deviceId]:this.localStorage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_clientAppVersion]:this.constants.val_clientAppVersion,[this.constant.key_MobileNo]:this.localStorage.getLocalStorage("mobileNo"),[this.constant.key_OTP]:t,[this.constant.key_latitude]:this.constant.val_latitude,[this.constant.key_longitude]:this.constant.val_longitude},console.log(e),this.encryptService.encryptText(this.localStorage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(e))}getResendOTPSessionReq(){var t;return t={[this.constants.key_entityId]:this.constant.getEntityId(),[this.constants.key_cbsType]:this.constants.val_cbsTypeTcs,[this.constants.key_mobPlatform]:this.constants.val_mobPlatform,[this.constants.key_mobileAppVersion]:this.constants.val_mobileAppVersion,[this.constant.key_deviceId]:this.localStorage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_clientAppVersion]:this.constants.val_clientAppVersion,[this.constant.key_MobileNo]:this.localStorage.getLocalStorage("mobileNo"),[this.constant.key_latitude]:this.constant.val_latitude,[this.constant.key_longitude]:this.constant.val_longitude},console.log("resend OTP",JSON.stringify(t)),this.encryptDecryptService.encryptText(this.localStorage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(t))}}return t.\u0275fac=function(e){return new(e||t)(r.ic(h.a),r.ic(u.a),r.ic(h.a),r.ic(m.a),r.ic(a.a),r.ic(u.a))},t.\u0275prov=r.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=o("L7Xq"),v=o("au7T"),b=o("goA9");function S(t,e){if(1&t){const t=r.fc();r.ec(0,"li"),r.ec(1,"a",60),r.lc("click",(function(){r.Hc(t);const o=e.$implicit;return r.pc().DataService.breadcrumroute(o.routeName)})),r.Sc(2),r.qc(3,"translate"),r.dc(),r.dc()}if(2&t){const t=e.$implicit;r.Mb(2),r.Tc(r.rc(3,1,t.currentRoute))}}function f(t,e){if(1&t&&(r.ec(0,"span",61),r.Sc(1),r.qc(2,"formatTimer"),r.dc()),2&t){const t=r.pc();r.Mb(1),r.Tc(r.rc(2,1,t.counter))}}const y=[{path:"",component:(()=>{class t{constructor(t,e,o,s,c,i,n,r,a,d){this.router=t,this.DataService=e,this.formValidation=o,this.translate=s,this.hotlistCardAuthorizationService=c,this.encryptDecryptService=i,this.storage=n,this.constant=r,this.http=a,this.commonMethod=d,this.formErrors={otp:""},this.mobNumber="",this.counter=120,this.tick=1e3}ngOnInit(){this.DataService.setPageSettings("OTP"),this.DataService.setShowThemeObservable(!0),this.DataService.setShowsideNavObservable(!0),this.DataService.setShowNotificationObservable(!0),this.DataService.getBreadcrumb("AUTHORIZATION",this.router.url),this.buildForm(),this.resendOTP(),this.mobNumber=this.commonMethod.maskMobileNumber(this.storage.getLocalStorage(this.constant.storage_mobileNo)),this.countDown=Object(n.a)(0,this.tick).subscribe(()=>--this.counter)}buildForm(){this.otpSessionForm=new i.j(4==this.DataService.otplength?{otp1:new i.g("",[i.G.required,i.G.minLength(1),i.G.maxLength(1)]),otp2:new i.g("",[i.G.required,i.G.minLength(1),i.G.maxLength(1)]),otp3:new i.g("",[i.G.required,i.G.minLength(1),i.G.maxLength(1)]),otp4:new i.g("",[i.G.required,i.G.minLength(1),i.G.maxLength(1)])}:{otp1:new i.g("",[i.G.required,i.G.minLength(1),i.G.maxLength(1)]),otp2:new i.g("",[i.G.required,i.G.minLength(1),i.G.maxLength(1)]),otp3:new i.g("",[i.G.required,i.G.minLength(1),i.G.maxLength(1)]),otp4:new i.g("",[i.G.required,i.G.minLength(1),i.G.maxLength(1)]),otp5:new i.g("",[i.G.required,i.G.minLength(1),i.G.maxLength(1)]),otp6:new i.g("",[i.G.required,i.G.minLength(1),i.G.maxLength(1)])})}goToPage(t){this.router.navigateByUrl("/"+t)}validateForm(){if(this.otpSessionForm.invalid)return this.otpSessionForm.get("otp1").markAsTouched(),this.otpSessionForm.get("otp2").markAsTouched(),this.otpSessionForm.get("otp3").markAsTouched(),this.otpSessionForm.get("otp4").markAsTouched(),6==this.DataService.otplength&&(this.otpSessionForm.get("otp5").markAsTouched(),this.otpSessionForm.get("otp6").markAsTouched()),void(this.formErrors=this.formValidation.validateForm(this.otpSessionForm,this.formErrors,!0))}confirmOtpClick(){if(this.validateForm(),console.log(this.otpSessionForm.value),this.otpSessionForm.valid){var t=this.hotlistCardAuthorizationService.getSendOTPSessionReq(4==this.DataService.otplength?this.otpSessionForm.value.otp1+this.otpSessionForm.value.otp2+this.otpSessionForm.value.otp3+this.otpSessionForm.value.otp4:this.otpSessionForm.value.otp1+this.otpSessionForm.value.otp2+this.otpSessionForm.value.otp3+this.otpSessionForm.value.otp4+this.otpSessionForm.value.otp5+this.otpSessionForm.value.otp6);this.submitOtpSession(t)}}submitOtpSession(t){console.log("this.dataService.request"+this.DataService.request),this.tempDecryptedReq=JSON.parse(this.encryptDecryptService.decryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),this.DataService.request)),console.log(this.tempDecryptedReq),this.tempDecryptedReq.methodName=this.DataService.endPoint.split("/")[1],this.tempDecryptedReq.value=this.otpSessionForm.value.otp1+this.otpSessionForm.value.otp2+this.otpSessionForm.value.otp3+this.otpSessionForm.value.otp4+this.otpSessionForm.value.otp5+this.otpSessionForm.value.otp6,this.tempDecryptedReq.customerID=this.DataService.userDetails.customerId,console.log(this.tempDecryptedReq);let e=this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(this.tempDecryptedReq));this.DataService.request=e,console.log(this.DataService.request),this.submitReq()}submitReq(){this.http.callBankingAPIService(this.DataService.request,this.storage.getLocalStorage(this.constant.storage_deviceId),this.DataService.endPoint).subscribe(t=>{"00"==t.responseParameter.opstatus?(console.log(t),this.DataService.transactionReceiptObj.response="Successful"):this.DataService.transactionReceiptObj.response="Failed",this.DataService.transactionReceiptObj.msg=t.responseParameter.Result,this.DataService.transactionReceiptObj.rrn=""==t.responseParameter.RRN?"-":t.responseParameter.RRN,this.router.navigate(["/hotlistSuccess"])})}resendOTP(){this.otpSessionForm.reset();var t=this.hotlistCardAuthorizationService.getResendOTPSessionReq();this.http.callBankingAPIService(t,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_RESENDOTPSESSION).subscribe(t=>{"00"==t.responseParameter.opstatus&&(this.startCounter(),showToastMessage(t.responseParameter.Result,"success"))})}onSearchChange(t,e){console.log(t),1==e?1==t.length&&document.getElementById("otppassword2").focus():2==e?1==t.length?document.getElementById("otppassword3").focus():document.getElementById("otppassword1").focus():3==e?1==t.length?document.getElementById("otppassword4").focus():document.getElementById("otppassword2").focus():4==e?1==t.length?document.getElementById("otppassword5").focus():document.getElementById("otppassword3").focus():5==e?1==t.length?document.getElementById("otppassword6").focus():document.getElementById("otppassword4").focus():6==e&&0==t.length&&document.getElementById("otppassword5").focus()}startCounter(){this.tick=1e3,this.counter=120,this.countDown&&!this.countDown.closed&&this.countDown.unsubscribe(),this.countDown=Object(n.a)(0,this.tick).subscribe(()=>{1==this.counter&&this.countDown.unsubscribe(),--this.counter})}cancel(){"web"==this.constant.getIsCordova()?this.router.navigateByUrl("/dashboard"):this.router.navigateByUrl("/dashboardMobile")}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(c.c),r.Yb(a.a),r.Yb(d.a),r.Yb(l.a),r.Yb(p),r.Yb(u.a),r.Yb(m.a),r.Yb(h.a),r.Yb(g.a),r.Yb(v.a))},t.\u0275cmp=r.Sb({type:t,selectors:[["app-hotlist-card-authorization"]],decls:106,vars:8,consts:[[1,"main","bg-m"],[1,"nav-overlay"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container","main-dashborad","manage-payee"],[1,"container-fluid"],[1,"row"],[1,"col-12","p-0"],[1,"breadcrumb"],[1,"lst-breadcrumb"],[4,"ngFor","ngForOf"],[1,"vspacer15","customize","d-none","d-md-block","d-lg-block","d-xl-block"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-9"],[1,"greencard2"],[1,"row1","hide-m"],[1,"col-md-8","col-12"],[1,"col-md-4","col-12"],[1,"col-sm-12","col-12","col-md-12"],[1,"white-box2","mar-t","pad-custom","custom-bor"],[1,"col-12","col-md-8","col-lg-9","col-xl-9"],[1,"col-12","col-md-12"],[1,"ux-input"],[1,"info-message2"],[1,"col-12","col-md-8","col-lg-8","col-xl-7"],[3,"formGroup"],[1,"col-12","pl-2","pr-2"],[1,"row3"],[1,"col-sm-2","col-2","col-md-2"],[1,"ux-input","password1","mb-1"],["id","otppassword1","type","password","maxlength","1","placeholder","\u25cf","formControlName","otp1",3,"input"],["id","otppassword2","type","password","maxlength","1","placeholder","\u25cf","formControlName","otp2",3,"input"],["id","otppassword3","type","password","maxlength","1","placeholder","\u25cf","formControlName","otp3",3,"input"],["id","otppassword4","type","password","maxlength","1","placeholder","\u25cf","formControlName","otp4",3,"input"],["id","otppassword5","type","password","maxlength","1","placeholder","\u25cf","formControlName","otp5",3,"input"],["id","otppassword6","type","password","maxlength","1","placeholder","\u25cf","formControlName","otp6",3,"input"],[1,"ux-input","password1","mt-0","mb-0"],[1,"error-message"],[1,"col-6","col-md-6"],[1,"text-left"],["class","success-text",4,"ngIf"],[1,"text-right"],[1,"ux-linkbutton","default-underline","mt-3",3,"ngClass","click"],[1,"col-12","col-md-4","col-lg-3","col-xl-3","text-right","hide-m"],[1,"mobile-img"],["src","assets/images/icons/mobile.svg","alt","mobile-icon"],[1,"result-container1","mar-top"],[1,"info-bottom","pad-custom"],[1,"info-details","mt-3"],[1,"info-details"],[1,"bottom-footer1"],[1,"btn-div"],[1,"ux-button","secondary","sm-mob",3,"click"],[1,"ux-button","primary","sm-mob",3,"click"],[1,"col-12","col-md-12","col-lg-12","col-xl-3","d-none","d-xl-block"],[1,"right-ads"],["src","assets/images/banner/my-card-banner.jpg"],[1,"vspacer30"],[3,"click"],[1,"success-text"]],template:function(t,e){1&t&&(r.ec(0,"div",0),r.Zb(1,"div",1),r.ec(2,"div",2),r.ec(3,"div",3),r.ec(4,"div",4),r.ec(5,"div",5),r.ec(6,"div",6),r.ec(7,"div",7),r.ec(8,"div",8),r.ec(9,"ul",9),r.Rc(10,S,4,3,"li",10),r.dc(),r.dc(),r.dc(),r.dc(),r.Zb(11,"div",11),r.ec(12,"div",12),r.ec(13,"div",13),r.ec(14,"div",14),r.ec(15,"div",15),r.ec(16,"div",16),r.ec(17,"div",17),r.ec(18,"div",18),r.ec(19,"h4"),r.Sc(20,"Enter OTP"),r.dc(),r.dc(),r.Zb(21,"div",19),r.dc(),r.ec(22,"div",14),r.ec(23,"div",20),r.ec(24,"div",21),r.ec(25,"div",14),r.ec(26,"div",22),r.ec(27,"div",14),r.ec(28,"div",23),r.ec(29,"div",24),r.ec(30,"em",25),r.Sc(31),r.dc(),r.dc(),r.dc(),r.ec(32,"div",26),r.ec(33,"form",27),r.ec(34,"div",6),r.ec(35,"div",28),r.ec(36,"div",29),r.ec(37,"div",30),r.ec(38,"div",31),r.ec(39,"input",32),r.lc("input",(function(t){return e.onSearchChange(t.target.value,1)})),r.dc(),r.dc(),r.dc(),r.ec(40,"div",30),r.ec(41,"div",31),r.ec(42,"input",33),r.lc("input",(function(t){return e.onSearchChange(t.target.value,2)})),r.dc(),r.dc(),r.dc(),r.ec(43,"div",30),r.ec(44,"div",31),r.ec(45,"input",34),r.lc("input",(function(t){return e.onSearchChange(t.target.value,3)})),r.dc(),r.dc(),r.dc(),r.ec(46,"div",30),r.ec(47,"div",31),r.ec(48,"input",35),r.lc("input",(function(t){return e.onSearchChange(t.target.value,4)})),r.dc(),r.dc(),r.dc(),r.ec(49,"div",30),r.ec(50,"div",31),r.ec(51,"input",36),r.lc("input",(function(t){return e.onSearchChange(t.target.value,5)})),r.dc(),r.dc(),r.dc(),r.ec(52,"div",30),r.ec(53,"div",31),r.ec(54,"input",37),r.lc("input",(function(t){return e.onSearchChange(t.target.value,6)})),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(55,"div",14),r.ec(56,"div",13),r.ec(57,"div",38),r.Zb(58,"p",39),r.dc(),r.dc(),r.dc(),r.ec(59,"div",29),r.ec(60,"div",40),r.ec(61,"div",41),r.ec(62,"p",41),r.Rc(63,f,3,3,"span",42),r.dc(),r.dc(),r.dc(),r.ec(64,"div",40),r.ec(65,"div",43),r.ec(66,"button",44),r.lc("click",(function(){return e.resendOTP()})),r.Sc(67,"Resend"),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(68,"div",45),r.ec(69,"div",46),r.Zb(70,"img",47),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(71,"div",20),r.ec(72,"div",48),r.ec(73,"div",49),r.ec(74,"div",50),r.ec(75,"div",6),r.ec(76,"h6"),r.Sc(77,"Debit Card Number"),r.dc(),r.ec(78,"h5"),r.Sc(79),r.dc(),r.dc(),r.dc(),r.ec(80,"div",51),r.ec(81,"div",6),r.ec(82,"h6"),r.Sc(83,"Linked Account"),r.dc(),r.ec(84,"h5"),r.Sc(85),r.dc(),r.dc(),r.dc(),r.ec(86,"div",51),r.ec(87,"div",6),r.ec(88,"h6"),r.Sc(89,"Reason for Hotlisting"),r.dc(),r.ec(90,"h5"),r.Sc(91),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(92,"div",23),r.ec(93,"ul",52),r.ec(94,"li"),r.ec(95,"div",53),r.ec(96,"button",54),r.lc("click",(function(){return e.cancel()})),r.Sc(97,"Cancel"),r.dc(),r.dc(),r.ec(98,"div",53),r.ec(99,"button",55),r.lc("click",(function(){return e.confirmOtpClick()})),r.Sc(100,"Confirm"),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(101,"div",56),r.ec(102,"div",57),r.ec(103,"a"),r.Zb(104,"img",58),r.dc(),r.dc(),r.Zb(105,"div",59),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc()),2&t&&(r.Mb(10),r.uc("ngForOf",e.DataService.breadcrumblist),r.Mb(21),r.Uc("OTP sent on your registered Mobile number ending with ",e.mobNumber,""),r.Mb(2),r.uc("formGroup",e.otpSessionForm),r.Mb(30),r.uc("ngIf",e.counter>0),r.Mb(3),r.uc("ngClass",e.counter>0?"mydisabled":"resendActive"),r.Mb(13),r.Tc(e.DataService.hotlistCardObj.debitCardNumber),r.Mb(6),r.Tc(e.DataService.hotlistCardObj.accountNumber),r.Mb(6),r.Tc(e.DataService.hotlistCardObj.reason))},directives:[s.s,i.I,i.t,i.k,i.c,i.n,i.s,i.i,s.t,s.q],pipes:[l.a,b.c],styles:[""]}),t})()}];let w=(()=>{class t{}return t.\u0275mod=r.Wb({type:t}),t.\u0275inj=r.Vb({factory:function(e){return new(e||t)},imports:[[c.g.forChild(y)],c.g]}),t})();var k=o("PCNd");let T=(()=>{class t{}return t.\u0275mod=r.Wb({type:t}),t.\u0275inj=r.Vb({factory:function(e){return new(e||t)},imports:[[s.c,w,i.m,i.C,k.a]]}),t})()}}]);