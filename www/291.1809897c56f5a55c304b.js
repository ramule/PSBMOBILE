(window.webpackJsonp=window.webpackJsonp||[]).push([[291],{Gfpy:function(e,t,i){"use strict";i.r(t),i.d(t,"PmsbyModule",(function(){return w}));var a=i("PCNd"),c=i("ofXK"),o=i("wd/R"),r=i("fXoL"),s=i("tyNb"),d=i("EnSQ"),n=i("au7T"),l=i("H9Rt"),h=i("5IsW"),m=i("xQgo"),p=i("L7Xq"),u=i("Eioz"),b=i("bhfF");function v(e,t){if(1&e){const e=r.fc();r.ec(0,"li"),r.ec(1,"a",37),r.lc("click",(function(){r.Hc(e);const i=t.$implicit;return r.pc().dataService.breadcrumroute(i.routeName)})),r.Sc(2),r.qc(3,"translate"),r.dc(),r.dc()}if(2&e){const e=t.$implicit;r.Mb(2),r.Tc(r.rc(3,1,e.currentRoute))}}function f(e,t){1&e&&r.Zb(0,"img",38)}function g(e,t){if(1&e){const e=r.fc();r.ec(0,"div",39),r.ec(1,"div",40),r.ec(2,"div",13),r.ec(3,"div",41),r.ec(4,"button",42),r.lc("click",(function(){return r.Hc(e),r.pc().onSchemeDetailsClick()})),r.Sc(5,"Scheme Details"),r.dc(),r.dc(),r.ec(6,"div",41),r.ec(7,"button",43),r.lc("click",(function(){return r.Hc(e),r.pc().calculateDateRange()})),r.Sc(8,"Enroll Now"),r.dc(),r.dc(),r.dc(),r.dc(),r.dc()}}function S(e,t){if(1&e&&(r.ec(0,"p"),r.Sc(1),r.dc()),2&e){const e=r.pc();r.Mb(1),r.Tc(null==e.dataService?null:e.dataService.errorMsg)}}const D=[{path:"",component:(()=>{class e{constructor(e,t,i,a,c,o,r,s,d,n){this.router=e,this.dataService=t,this.commonMethod=i,this.datePipe=a,this.storage=c,this.constant=o,this.pmsbyDetailsService=r,this.http=s,this.translatePipe=d,this.location=n,this.customerObj={userName:"",mobileNo:"",emailId:"",custName:"",custBirthDate:"",accNo:"",communicationAdd:"",add1:"",add2:"",cityCode:"",addharCard:"",panCard:"",pin:"",gender:""},this.dateOfBirth="",this.notEnrolled=!1}ngOnInit(){var e;if(this.customOptions=this.dataService.getCustomOptions(),this.dataService.setPageSettings("PMSBY"),this.dataService.setShowThemeObservable(!0),this.dataService.setShowsideNavObservable(!0),this.dataService.setShowNotificationObservable(!0),this.dataService.getBreadcrumb("PMSBY",this.router.url),console.log("cust profile details: ",this.dataService.profiledateDetails),e=this.dataService.isCordovaAvailable?this.dataService.socialSecFromDashboard?"mobSocialLanding":"dashboardMobile":"dashboard",history.pushState({},e,this.location.prepareExternalUrl(e)),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url)),this.customerObj.mobileNo=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].mobileNo)?"-":this.dataService.profiledateDetails[0].mobileNo,this.customerObj.emailId=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].emailId)?"-":this.dataService.profiledateDetails[0].emailId,this.customerObj.custName=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].custName)?"-":this.dataService.profiledateDetails[0].custName,this.customerObj.custBirthDate=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].custBirthDate)?"-":this.dataService.profiledateDetails[0].custBirthDate,null==this.dataService.primaryAccountDtl||""==this.dataService.primaryAccountDtl)return this.dataService.information=this.translatePipe.transform("NO_ASSOCIATED_PRIMARY_AC"),this.dataService.informationLabel=this.translatePipe.transform("INFORMATION"),this.dataService.primaryBtnText=this.translatePipe.transform("OK"),this.commonMethod.openPopup("div.popup-bottom.show-common-info"),void this.router.navigateByUrl(this.dataService.isCordovaAvailable?"/dashboardMobile":"/dashboard");this.customerObj.accNo=this.dataService.primaryAccountDtl.sbAccount,this.customerObj.communicationAdd=(this.dataService.profiledateDetails[0].add1+", "+this.dataService.profiledateDetails[0].add2+", "+this.dataService.profiledateDetails[0].cityCode).replace(", ,",","),this.customerObj.add1=""==this.dataService.profiledateDetails[0].add1?this.dataService.profiledateDetails[0].permenantAdd1:this.dataService.profiledateDetails[0].add1,this.customerObj.add2=""==this.dataService.profiledateDetails[0].add2?this.dataService.profiledateDetails[0].permenantAdd2:this.dataService.profiledateDetails[0].add2,this.customerObj.cityCode=this.dataService.profiledateDetails[0].cityCode,this.customerObj.pin=""==this.dataService.profiledateDetails[0].pin?this.dataService.profiledateDetails[0].permenantPin:this.dataService.profiledateDetails[0].pin,this.customerObj.permanentAdd="-",this.customerObj.addharCard=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].aadharNumber)?"-":this.dataService.profiledateDetails[0].aadharNumber,this.customerObj.panCard=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].panNumber)?"-":this.dataService.profiledateDetails[0].panNumber,this.customerObj.gender=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].gender)?"-":this.dataService.profiledateDetails[0].gender,this.todayDate=this.datePipe.transform(new Date,"yyyy-MM-dd"),this.customerObj.userName=this.storage.getLocalStorage(this.constant.storage_username),this.getSBYAccountDetails()}getSBYAccountDetails(){var e=this.pmsbyDetailsService.getSBYAccountEnquiryCall();this.http.callBankingAPIService(e,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_SBYACCOUNTINQUIRY).subscribe(e=>{console.log(e);var t=e.responseParameter;if("00"==t.opstatus){this.notEnrolled=!1;var i=e.set.records[0];console.log("pmsbyAccDetailsArr: ",i),this.router.navigateByUrl("/pmsbyRecord",{state:{enrollmentDetails:i}})}"Not Enrolled to this scheme"==t.Result&&(this.notEnrolled=!0,sssCarousel())})}goToPage(e){let t=this.customerObj.custBirthDate.split("-")[0],i=this.customerObj.custBirthDate.split("-")[1],a=this.customerObj.custBirthDate.split("-")[2];var c=new Date(i+"-"+t+"-"+a);console.log("converted Date: ",c)}openPopUp(e){switch(e){case"ageVerification":this.commonMethod.openPopup("div.age-verification");break;case"ageVerify":this.dateOfBirth=this.datePipe.transform(this.dateOfBirth,"dd-MM-yyyy"),this.commonMethod.openPopup("div.age-verification2")}}closePopup(){this.commonMethod.closeAllPopup()}calculateDateRange(){let e=this.customerObj.custBirthDate.split("-")[0],t=this.customerObj.custBirthDate.split("-")[1],i=this.customerObj.custBirthDate.split("-")[2];new Date(t+"-"+e+"-"+i);var a=parseInt(""+o().diff(i+"-"+t+"-"+e,"years",!0));console.log("Age difference: ",a),a<70&&a>=18?this.router.navigateByUrl("/pmsbyDetails",{state:{customerData:this.customerObj,age:a}}):this.commonMethod.openPopup("div.age-verification2")}calculateDiff(e){let t=new Date;return Math.floor((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5)}onSchemeDetailsClick(){this.dataService.isCordovaAvailable?cordova.InAppBrowser.open("https://punjabandsindbank.co.in/content/pradhan-mantri-surakha-beema","_blank","location=no"):window.open("https://punjabandsindbank.co.in/content/pradhan-mantri-surakha-beema")}}return e.\u0275fac=function(t){return new(t||e)(r.Yb(s.c),r.Yb(d.a),r.Yb(n.a),r.Yb(c.f),r.Yb(l.a),r.Yb(h.a),r.Yb(m.a),r.Yb(p.a),r.Yb(u.a),r.Yb(c.n))},e.\u0275cmp=r.Sb({type:e,selectors:[["app-pmsby"]],decls:59,vars:8,consts:[[1,"main","bg-m"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container","main-dashborad","manage-payee"],[1,"container-fluid"],[1,"row"],[1,"col-12","p-0"],[1,"breadcrumb"],[1,"lst-breadcrumb"],[4,"ngFor","ngForOf"],[1,"vspacer15","customize","d-none","d-md-block","d-lg-block","d-xl-block"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-9"],[1,"greencard2"],[1,"col-sm-12","col-12","col-md-12"],[1,"widget-box5","mb-3"],[1,"bg-white1","pad-custom"],[3,"options"],["carouselSlide",""],["class","row1 text-center",4,"ngIf"],[1,"col-12","col-md-12","col-lg-12","col-xl-3","d-none","d-xl-block"],[1,"right-ads"],["src","assets/images/banner/my-card-banner.jpg"],[1,"vspacer30"],[1,"popup-bottom","sm-popup","age-verification2"],[1,"text-center"],["src","assets/images/svg/information.svg","alt","error-icon"],[1,"col-12","mb-4"],[1,"row1","mt-2"],[1,"col-12","text-center"],[1,"ux-button","primary","submit-btn",3,"click"],[1,"popup-bottom","show-common-error","sm-popup"],["src","./assets/images/svg/error.svg","alt","error-icon"],[4,"ngIf"],[1,"ios-nav-overlay"],[3,"click"],["src","assets/images/banner/pmsby-banner.png","alt","banner-img"],[1,"row1","text-center"],[1,"col-12","col-sm-8","col-xl-6","mx-auto","text-center","mt-3"],[1,"col-6"],[1,"ux-button","secondary","md",3,"click"],["id","pmjjby-enrollnow-submit",1,"ux-button","primary","md",3,"click"]],template:function(e,t){1&e&&(r.ec(0,"div",0),r.ec(1,"div",1),r.ec(2,"div",2),r.ec(3,"div",3),r.ec(4,"div",4),r.ec(5,"div",5),r.ec(6,"div",6),r.ec(7,"div",7),r.ec(8,"ul",8),r.Rc(9,v,4,3,"li",9),r.dc(),r.dc(),r.dc(),r.dc(),r.Zb(10,"div",10),r.ec(11,"div",11),r.ec(12,"div",12),r.ec(13,"div",13),r.ec(14,"div",14),r.ec(15,"div",15),r.ec(16,"div",13),r.ec(17,"div",16),r.ec(18,"div",17),r.ec(19,"div",18),r.ec(20,"div",13),r.ec(21,"div",12),r.ec(22,"owl-carousel-o",19),r.cc(23),r.Rc(24,f,1,0,"ng-template",20),r.bc(),r.dc(),r.dc(),r.dc(),r.Rc(25,g,9,0,"div",21),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(26,"div",22),r.ec(27,"div",23),r.ec(28,"a"),r.Zb(29,"img",24),r.dc(),r.dc(),r.Zb(30,"div",25),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(31,"div",26),r.ec(32,"div",13),r.ec(33,"div",12),r.ec(34,"h4",27),r.Zb(35,"img",28),r.Sc(36," Age Verification "),r.dc(),r.dc(),r.dc(),r.ec(37,"div",13),r.ec(38,"div",29),r.ec(39,"p"),r.Sc(40,"Sorry! You are not eligible to enroll this scheme"),r.dc(),r.dc(),r.dc(),r.ec(41,"div",30),r.ec(42,"div",31),r.ec(43,"button",32),r.lc("click",(function(){return t.closePopup()})),r.Sc(44,"OK"),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(45,"div",33),r.ec(46,"div",13),r.ec(47,"div",12),r.ec(48,"h4",27),r.Zb(49,"img",34),r.Sc(50),r.dc(),r.dc(),r.dc(),r.ec(51,"div",13),r.ec(52,"div",29),r.Rc(53,S,2,1,"p",35),r.dc(),r.dc(),r.ec(54,"div",30),r.ec(55,"div",31),r.ec(56,"button",32),r.lc("click",(function(){return t.closePopup()})),r.Sc(57),r.dc(),r.dc(),r.dc(),r.dc(),r.Zb(58,"div",36)),2&e&&(r.Mb(9),r.uc("ngForOf",t.dataService.breadcrumblist),r.Mb(11),r.Qb("showbanner",t.notEnrolled),r.Mb(2),r.uc("options",t.customOptions),r.Mb(3),r.uc("ngIf",t.notEnrolled),r.Mb(25),r.Uc(" ",t.dataService.informationLabel," "),r.Mb(3),r.uc("ngIf",""!=t.dataService.errorMsg),r.Mb(4),r.Tc(t.dataService.primaryBtnText))},directives:[c.s,b.a,b.c,c.t],pipes:[u.a],styles:[".showbanner[_ngcontent-%COMP%]{display:block}"]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=r.Wb({type:e}),e.\u0275inj=r.Vb({factory:function(t){return new(t||e)},imports:[[s.g.forChild(D)],s.g]}),e})();var O=i("z17N"),M=i("3Pt+");let w=(()=>{class e{}return e.\u0275mod=r.Wb({type:e}),e.\u0275inj=r.Vb({factory:function(t){return new(t||e)},imports:[[c.c,y,M.m,M.C,a.a,O.d,O.f,b.b]]}),e})()}}]);