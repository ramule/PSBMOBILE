(window.webpackJsonp=window.webpackJsonp||[]).push([[323],{vglr:function(c,e,t){"use strict";t.r(e),t.d(e,"UpiMandateModule",(function(){return z}));var i=t("ofXK"),a=t("tyNb"),n=t("dQiF"),d=t("wd/R"),s=t("fXoL"),r=t("EnSQ"),o=t("pDwy"),l=t("5IsW"),u=t("L7Xq"),p=t("H9Rt"),v=t("au7T"),h=t("4Efi"),b=t("Eioz"),g=t("oBZJ"),m=t("paUM"),E=t("fUdP"),D=t("goA9");function f(c,e){1&c&&s.Zb(0,"span",57)}function M(c,e){1&c&&(s.ec(0,"div",58),s.ec(1,"h6"),s.Sc(2),s.qc(3,"translate"),s.dc(),s.dc()),2&c&&(s.Mb(2),s.Uc(" ",s.rc(3,1,"NO_RECORD_FOUND"),""))}function S(c,e){if(1&c&&(s.ec(0,"h6",75),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"SEND_TO")," ",c.payeeName," ")}}function R(c,e){if(1&c&&(s.ec(0,"h6",75),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"REQUESTED_TO")," ",c.payerName," ")}}function A(c,e){if(1&c&&(s.ec(0,"h5"),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"UPI_ID")," : ",c.payeeAddress," ")}}function y(c,e){if(1&c&&(s.ec(0,"h5"),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"UPI_ID")," : ",c.payerAddress," ")}}function T(c,e){if(1&c){const c=s.fc();s.ec(0,"li"),s.ec(1,"div",59),s.ec(2,"div",8),s.ec(3,"div",60),s.ec(4,"div",61),s.Rc(5,S,3,4,"h6",62),s.Rc(6,R,3,4,"h6",62),s.Rc(7,A,3,4,"h5",63),s.Rc(8,y,3,4,"h5",63),s.dc(),s.dc(),s.ec(9,"div",64),s.ec(10,"div",65),s.ec(11,"h5"),s.Sc(12),s.qc(13,"customcurrency"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(14,"div",45),s.ec(15,"div",66),s.ec(16,"div",67),s.ec(17,"div",68),s.ec(18,"span"),s.Zb(19,"img",69),s.dc(),s.dc(),s.ec(20,"em"),s.Sc(21),s.qc(22,"translate"),s.dc(),s.ec(23,"h6"),s.Sc(24),s.qc(25,"formatDate"),s.dc(),s.dc(),s.dc(),s.ec(26,"div",66),s.ec(27,"div",67),s.ec(28,"div",68),s.ec(29,"span"),s.Zb(30,"img",70),s.dc(),s.dc(),s.ec(31,"em"),s.Sc(32),s.qc(33,"translate"),s.dc(),s.ec(34,"h6"),s.Sc(35),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(36,"div",71),s.Zb(37,"div",66),s.ec(38,"div",66),s.ec(39,"div",72),s.ec(40,"div",73),s.ec(41,"button",74),s.lc("click",(function(){s.Hc(c);const t=e.$implicit;return s.pc().routePage("createdMandate",t)})),s.Sc(42),s.qc(43,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc()}if(2&c){const c=e.$implicit;s.Mb(5),s.uc("ngIf","PAYER"==c.initiatedBy),s.Mb(1),s.uc("ngIf","PAYEE"==c.initiatedBy),s.Mb(1),s.uc("ngIf","PAYER"==c.initiatedBy),s.Mb(1),s.uc("ngIf","PAYEE"==c.initiatedBy),s.Mb(4),s.Uc(" ",s.sc(13,10,c.amount,"symbol")," "),s.Mb(9),s.Uc("",s.rc(22,13,"EXPIRY_DATE")," "),s.Mb(3),s.Tc(s.rc(25,15,c.validityEnd)),s.Mb(8),s.Uc("",s.rc(33,17,"DEBIT_FREQUENCY")," "),s.Mb(3),s.Tc(c.frequency),s.Mb(7),s.Uc(" ",s.rc(43,19,"VIEW"),"")}}function I(c,e){1&c&&(s.ec(0,"div",58),s.ec(1,"h6"),s.Sc(2),s.qc(3,"translate"),s.dc(),s.dc()),2&c&&(s.Mb(2),s.Uc(" ",s.rc(3,1,"NO_RECORD_FOUND"),""))}function P(c,e){if(1&c&&(s.ec(0,"h6",75),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"REQUESTED_BY")," ",c.payeeName," ")}}function C(c,e){if(1&c&&(s.ec(0,"h6",75),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"RECEIVED_FROM")," ",c.payerName," ")}}function _(c,e){if(1&c&&(s.ec(0,"h5"),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"UPI_ID")," : ",c.payeeAddress,"")}}function q(c,e){if(1&c&&(s.ec(0,"h5"),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"UPI_ID")," : ",c.payerAddress,"")}}function N(c,e){if(1&c){const c=s.fc();s.ec(0,"li"),s.ec(1,"div",59),s.ec(2,"div",8),s.ec(3,"div",60),s.ec(4,"div",61),s.Rc(5,P,3,4,"h6",62),s.Rc(6,C,3,4,"h6",62),s.Rc(7,_,3,4,"h5",63),s.Rc(8,q,3,4,"h5",63),s.dc(),s.dc(),s.ec(9,"div",64),s.ec(10,"div",65),s.ec(11,"h5"),s.Sc(12),s.qc(13,"customcurrency"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(14,"div",45),s.ec(15,"div",66),s.ec(16,"div",67),s.ec(17,"div",68),s.ec(18,"span"),s.Zb(19,"img",69),s.dc(),s.dc(),s.ec(20,"em"),s.Sc(21),s.qc(22,"translate"),s.dc(),s.ec(23,"h6"),s.Sc(24),s.qc(25,"formatDate"),s.dc(),s.dc(),s.dc(),s.ec(26,"div",66),s.ec(27,"div",67),s.ec(28,"div",68),s.ec(29,"span"),s.Zb(30,"img",70),s.dc(),s.dc(),s.ec(31,"em"),s.Sc(32),s.qc(33,"translate"),s.dc(),s.ec(34,"h6"),s.Sc(35),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(36,"div",71),s.Zb(37,"div",66),s.ec(38,"div",66),s.ec(39,"div",72),s.ec(40,"div",73),s.ec(41,"button",74),s.lc("click",(function(){s.Hc(c);const t=e.$implicit;return s.pc().routePage("acceptedMandate",t)})),s.Sc(42),s.qc(43,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc()}if(2&c){const c=e.$implicit;s.Mb(5),s.uc("ngIf","PAYEE"==c.initiatedBy),s.Mb(1),s.uc("ngIf","PAYER"==c.initiatedBy),s.Mb(1),s.uc("ngIf","PAYEE"==c.initiatedBy),s.Mb(1),s.uc("ngIf","PAYER"==c.initiatedBy),s.Mb(4),s.Uc(" ",s.sc(13,10,c.amount,"symbol")," "),s.Mb(9),s.Uc("",s.rc(22,13,"EXPIRY_DATE")," "),s.Mb(3),s.Tc(s.rc(25,15,c.validityEnd)),s.Mb(8),s.Tc(s.rc(33,17,"DEBIT_FREQUENCY")),s.Mb(3),s.Tc(c.frequency),s.Mb(7),s.Uc(" ",s.rc(43,19,"VIEW"),"")}}function U(c,e){1&c&&(s.ec(0,"div",58),s.ec(1,"h6"),s.Sc(2),s.qc(3,"translate"),s.dc(),s.dc()),2&c&&(s.Mb(2),s.Uc(" ",s.rc(3,1,"NO_RECORD_FOUND"),""))}function O(c,e){if(1&c){const c=s.fc();s.ec(0,"li"),s.ec(1,"div",59),s.ec(2,"div",8),s.ec(3,"div",60),s.ec(4,"div",61),s.ec(5,"h6"),s.Sc(6),s.qc(7,"translate"),s.dc(),s.ec(8,"h5"),s.Sc(9),s.qc(10,"translate"),s.dc(),s.dc(),s.dc(),s.ec(11,"div",64),s.ec(12,"div",65),s.ec(13,"h5"),s.Sc(14),s.qc(15,"customcurrency"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(16,"div",45),s.ec(17,"div",66),s.ec(18,"div",67),s.ec(19,"div",68),s.ec(20,"span"),s.Zb(21,"img",69),s.dc(),s.dc(),s.ec(22,"em"),s.Sc(23),s.qc(24,"translate"),s.dc(),s.ec(25,"h6"),s.Sc(26),s.dc(),s.dc(),s.dc(),s.ec(27,"div",66),s.ec(28,"div",67),s.ec(29,"div",68),s.ec(30,"span"),s.Zb(31,"img",70),s.dc(),s.dc(),s.ec(32,"em"),s.Sc(33),s.qc(34,"translate"),s.dc(),s.ec(35,"h6"),s.Sc(36),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(37,"div",71),s.ec(38,"div",66),s.ec(39,"div",61),s.ec(40,"h6",76),s.Zb(41,"img",77),s.Sc(42),s.qc(43,"translate"),s.dc(),s.dc(),s.dc(),s.ec(44,"div",66),s.ec(45,"div",72),s.ec(46,"div",73),s.ec(47,"button",74),s.lc("click",(function(){s.Hc(c);const t=e.$implicit;return s.pc().routePage("pendingMandate",t)})),s.Sc(48),s.qc(49,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc()}if(2&c){const c=e.$implicit;s.Mb(6),s.Vc("",s.rc(7,11,"PENDING_WITH")," ","PAYER"==c.initiatedBy?c.payeeName:c.payerName," "),s.Mb(3),s.Vc(" ",s.rc(10,13,"UPI_ID")," : ","PAYER"==c.initiatedBy?c.payeeAddress:c.payerAddress," "),s.Mb(5),s.Uc(" ",s.sc(15,15,c.amount,"symbol")," "),s.Mb(9),s.Tc(s.rc(24,18,"EXPIRY_DATE_AND_TIME")),s.Mb(3),s.Tc(c.requestExpireTime),s.Mb(7),s.Tc(s.rc(34,20,"DEBIT_FREQUENCY")),s.Mb(3),s.Tc(c.frequency),s.Mb(6),s.Uc(" ",s.rc(43,22,"PENDING"),""),s.Mb(6),s.Uc(" ",s.rc(49,24,"VIEW"),"")}}function Q(c,e){1&c&&(s.ec(0,"div",58),s.ec(1,"h6"),s.Sc(2),s.qc(3,"translate"),s.dc(),s.dc()),2&c&&(s.Mb(2),s.Uc(" ",s.rc(3,1,"NO_RECORD_FOUND"),""))}function V(c,e){if(1&c&&(s.ec(0,"h6",75),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"SEND_TO")," ",c.payeeName," ")}}function B(c,e){if(1&c&&(s.ec(0,"h6",75),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"RECEIVED_FROM")," ",c.payerName," ")}}function Y(c,e){if(1&c&&(s.ec(0,"h6",75),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"REQUESTED_TO")," ",c.payerName," ")}}function L(c,e){if(1&c&&(s.ec(0,"h6",75),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"REQUESTED_BY")," ",c.payeeName," ")}}function w(c,e){if(1&c&&(s.ec(0,"h5"),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"UPI_ID")," : ",c.payeeAddress," ")}}function k(c,e){if(1&c&&(s.ec(0,"h5"),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"UPI_ID")," : ",c.payerAddress," ")}}function x(c,e){if(1&c&&(s.ec(0,"h5"),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"UPI_ID")," : ",c.payerAddress," ")}}function Z(c,e){if(1&c&&(s.ec(0,"h5"),s.Sc(1),s.qc(2,"translate"),s.dc()),2&c){const c=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"UPI_ID")," : ",c.payeeAddress," ")}}function $(c,e){1&c&&(s.ec(0,"h6",81),s.Zb(1,"img",82),s.Sc(2),s.qc(3,"translate"),s.dc()),2&c&&(s.Mb(2),s.Uc(" ",s.rc(3,1,"COMPLETED")," "))}function F(c,e){1&c&&(s.ec(0,"h6",83),s.Zb(1,"img",84),s.Sc(2),s.qc(3,"translate"),s.dc()),2&c&&(s.Mb(2),s.Uc(" ",s.rc(3,1,"EXPIRED"),""))}function W(c,e){1&c&&(s.ec(0,"h6",85),s.Zb(1,"img",86),s.Sc(2),s.qc(3,"translate"),s.dc()),2&c&&(s.Mb(2),s.Uc(" ",s.rc(3,1,"DECLINED"),""))}function H(c,e){1&c&&(s.ec(0,"h6",85),s.Zb(1,"img",86),s.Sc(2),s.qc(3,"translate"),s.dc()),2&c&&(s.Mb(2),s.Uc(" ",s.rc(3,1,"REVOKED"),""))}function G(c,e){1&c&&(s.ec(0,"h6",85),s.Zb(1,"img",86),s.Sc(2),s.qc(3,"translate"),s.dc()),2&c&&(s.Mb(2),s.Uc(" ",s.rc(3,1,"FAILED"),""))}function X(c,e){if(1&c){const c=s.fc();s.ec(0,"li"),s.ec(1,"div",59),s.ec(2,"div",8),s.ec(3,"div",60),s.ec(4,"div",61),s.Rc(5,V,3,4,"h6",62),s.Rc(6,B,3,4,"h6",62),s.Rc(7,Y,3,4,"h6",62),s.Rc(8,L,3,4,"h6",62),s.Rc(9,w,3,4,"h5",63),s.Rc(10,k,3,4,"h5",63),s.Rc(11,x,3,4,"h5",63),s.Rc(12,Z,3,4,"h5",63),s.dc(),s.dc(),s.ec(13,"div",64),s.ec(14,"div",65),s.ec(15,"h5"),s.Sc(16),s.qc(17,"customcurrency"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(18,"div",45),s.ec(19,"div",66),s.ec(20,"div",67),s.ec(21,"div",68),s.ec(22,"span"),s.Zb(23,"img",69),s.dc(),s.dc(),s.ec(24,"em"),s.Sc(25),s.qc(26,"translate"),s.dc(),s.ec(27,"h6"),s.Sc(28),s.qc(29,"formatDate"),s.dc(),s.dc(),s.dc(),s.ec(30,"div",66),s.ec(31,"div",67),s.ec(32,"div",68),s.ec(33,"span"),s.Zb(34,"img",70),s.dc(),s.dc(),s.ec(35,"em"),s.Sc(36),s.qc(37,"translate"),s.dc(),s.ec(38,"h6"),s.Sc(39),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(40,"div",71),s.ec(41,"div",66),s.ec(42,"div",61),s.Rc(43,$,4,3,"h6",78),s.Rc(44,F,4,3,"h6",79),s.Rc(45,W,4,3,"h6",80),s.Rc(46,H,4,3,"h6",80),s.Rc(47,G,4,3,"h6",80),s.dc(),s.dc(),s.ec(48,"div",66),s.ec(49,"div",72),s.ec(50,"div",73),s.ec(51,"button",74),s.lc("click",(function(){s.Hc(c);const t=e.$implicit;return s.pc().routePage("completedMandate",t)})),s.Sc(52),s.qc(53,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc()}if(2&c){const c=e.$implicit;s.Mb(5),s.uc("ngIf","PAYER"==c.initiatedBy&&"CREATED_BY_ME"==c.createdBy),s.Mb(1),s.uc("ngIf","PAYER"==c.initiatedBy&&"CREATED_BY_OTHERS"==c.createdBy),s.Mb(1),s.uc("ngIf","PAYEE"==c.initiatedBy&&"CREATED_BY_ME"==c.createdBy),s.Mb(1),s.uc("ngIf","PAYEE"==c.initiatedBy&&"CREATED_BY_OTHERS"==c.createdBy),s.Mb(1),s.uc("ngIf","PAYER"==c.initiatedBy&&"CREATED_BY_ME"==c.createdBy),s.Mb(1),s.uc("ngIf","PAYER"==c.initiatedBy&&"CREATED_BY_OTHERS"==c.createdBy),s.Mb(1),s.uc("ngIf","PAYEE"==c.initiatedBy&&"CREATED_BY_ME"==c.createdBy),s.Mb(1),s.uc("ngIf","PAYEE"==c.initiatedBy&&"CREATED_BY_OTHERS"==c.createdBy),s.Mb(4),s.Uc(" ",s.sc(17,19,c.amount,"symbol")," "),s.Mb(9),s.Tc(s.rc(26,22,"EXPIRY_DATE")),s.Mb(3),s.Tc(s.rc(29,24,c.validityEnd)),s.Mb(8),s.Tc(s.rc(37,26,"DEBIT_FREQUENCY")),s.Mb(3),s.Tc(c.frequency),s.Mb(4),s.uc("ngIf","COMPLETED"==c.status),s.Mb(1),s.uc("ngIf","EXPIRED"==c.status),s.Mb(1),s.uc("ngIf","REJECTED"==c.status),s.Mb(1),s.uc("ngIf","REVOKED"==c.status),s.Mb(1),s.uc("ngIf","FAILED"==c.status),s.Mb(5),s.Uc(" ",s.rc(53,28,"VIEW"),"")}}const j=[{path:"",component:(()=>{class c{constructor(c,e,t,i,a,n,d,s,r,o,l,u,p){this.router=c,this.DataService=e,this.location=t,this.upiMandateService=i,this.constant=a,this.http=n,this.localStorage=d,this.commonMethod=s,this.scanQrService=r,this.translate=o,this.pluginService=l,this.scanQrRequestService=u,this.ngZone=p,this.createdByMeList=[],this.acceptedByMeList=[],this.pendingWithPayerList=[],this.pendingWithMeList=[],this.completedList=[],this.popupData={},this.headerdata={headerType:"CloseNewHeader",titleName:"MANDATE_IPO",footertype:"upiDashboardFooter"}}ngOnInit(){this.DataService.changeMessage(this.headerdata),history.pushState({},"upiDashboard",this.location.prepareExternalUrl("upiDashboard")),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url)),this.defaultVPAAccountDetails=this.getDefaultVpaAccountDetails(),this.updateIcons()}ngAfterViewInit(){setTimeout(()=>{this.getMyMandateList()})}updateIcons(){this.DataService.updateIconsObservable.subscribe(c=>{c&&(this.mandateNotificationCount=parseInt(c.mandateNotificationCount)),console.log("this.mandateNotificationCount = ",this.mandateNotificationCount)})}getMyMandateList(){var c=this.upiMandateService.getMyMandateListReq();this.UpiApiCall(c)}validateQrSign(){var c=this.scanQrRequestService.setValidateQrSignRequest(this.scanQrText);this.UpiApiCall(c)}UpiApiCall(c){this.http.callBankingAPIService(c,this.localStorage.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_PROCESSUPISERVICESESSION,!0).subscribe(c=>{let e=c.responseParameter.upiResponse;if(console.log("Response getMandateTxnDetails =>",JSON.stringify(e)),"00"==e.status)switch(e.subActionId){case this.constant.upiserviceName_GETMANDATETXNDETAIL:this.filterRecords(e);break;case this.constant.upiserviceName_VALIDATEMANDATE:this.ngZone.run(()=>{this.DataService.acceptedMandate=(new n.a).deserialize(e.responseParameter.MANDATE_DETAILS),this.goToPage("upiMandateRevokeViewDetails")});break;case this.constant.upiserviceName_VALIDATEADDRESS:this.DataService.validateAddressResp=e.responseParameter,this.ngZone.run(()=>{"collect"==this.DataService.ScanQrCodeData.qrType?this.pluginService.getTransactionId().subscribe(c=>{var e=this.scanQrRequestService.setValidateMandateRequest(c);this.UpiApiCall(e)}):"mandate"==this.DataService.ScanQrCodeData.qrType&&(this.DataService.createMandateObj.frequency=this.DataService.ScanQrCodeData.recur,this.DataService.createMandateObj.startDate=this.commonMethod.convertNumToDate(this.DataService.ScanQrCodeData.validitystart),this.DataService.createMandateObj.endDate=this.commonMethod.convertNumToDate(this.DataService.ScanQrCodeData.validityend),this.DataService.createMandateObj.amount=this.DataService.ScanQrCodeData.am,this.DataService.createMandateObj.validatedVpaAdress=this.DataService.ScanQrCodeData.pa,this.goToPage("/createMandatePayment"))});break;case this.constant.upiserviceName_VALIDATEQRSIGNATURE:this.ngZone.run(()=>{this.goToPage("/createMandatePayment")});break;default:console.log("default ",e.subActionId)}else switch(e.subActionId){case this.constant.upiserviceName_VALIDATEADDRESS:this.showPopup("inValidQrCode","");break;case this.constant.upiserviceName_VALIDATEQRSIGNATURE:this.showPopup("insecure-qrcode","")}},c=>{this.showPopup("inValidQrCode",""),console.log("ERROR!",c)})}filterRecords(c){this.DataService.pendingWithMeMandateList=[],(new n.b).deserialize(c.responseParameter.transactions).MandateList.map(c=>{c.createdTime=d(c.createdTime).format("DD/MM/yyyy hh:mm A"),"PENDING"==c.status&&"CREATED_BY_ME"==c.createdBy?(c.requestExpireTime=d(c.requestExpireTime).format("DD/MM/yyyy, hh:mm A"),this.pendingWithPayerList.push(c)):"COMPLETED"==c.status||"REJECTED"==c.status||"EXPIRED"==c.status||"REVOKED"==c.status||"FAILED"==c.status?this.completedList.push(c):"CREATED"==c.status&&"CREATED_BY_ME"==c.createdBy?this.createdByMeList.push(c):"CREATED"==c.status&&"CREATED_BY_OTHERS"==c.createdBy?this.acceptedByMeList.push(c):"PAUSED"==c.status&&"CREATED_BY_ME"==c.createdBy?this.createdByMeList.push(c):"PAUSED"==c.status&&"CREATED_BY_OTHERS"==c.createdBy&&this.acceptedByMeList.push(c)})}validateVpa(){this.pluginService.getTransactionId().subscribe(c=>{var e=this.scanQrRequestService.setValidateVpaRequest(this.DataService.ScanQrCodeData,this.defaultVPAAccountDetails,c);this.UpiApiCall(e)})}getDefaultVpaAccountDetails(){let c=this.DataService.vpaAddressList.find(c=>"Y"==c.default);if(c)return{vpaDetails:c,accountDetails:this.getDefaultAccountNoByVpa(c.accounts)};if(this.DataService.vpaAddressList.length>0){let c=this.DataService.vpaAddressList;c.map((c,e)=>{c.default=0==e?"Y":"N"});let e=c.find(c=>"Y"==c.default);if(e)return{vpaDetails:e,accountDetails:this.getDefaultAccountNoByVpa(e.accounts)}}else this.showPopup("noAccountAvailable","")}showPopup(c,e){this.commonMethod.openPopup("div.popup-bottom."+c),this.popupData=e||{},console.log("this.popupData",this.popupData)}closePopup(c){this.commonMethod.closePopup("div.popup-bottom."+c)}getDefaultAccountNoByVpa(c){if(c.length>0)return c.find(c=>"Y"==c.isDefaultAccount)}scanMandate(){if(this.defaultVPAAccountDetails){var c=this;c.DataService.platform.toLowerCase()==this.constant.val_android?cordova.plugins.diagnostic.requestCameraAuthorization(e=>{switch(e){case cordova.plugins.diagnostic.permissionStatus.GRANTED:cordova.plugins.QRCodeScannerPlugin.scan({invalidQRMsg:c.translate.transform(c.constant.QRCodeErrorDesc),pointQRMsg:c.translate.transform(c.constant.QRCodeDesc),scanGalleryMsg:c.translate.transform(this.constant.ScanGalleryDesc),recentPayees:""},e=>{console.log("QRDetals Success => ",e),c.scanQrText=JSON.parse(e.text);let t=c.scanQrService.getQrResponse(c.scanQrText.response);t?(c.DataService.ScanQrCodeData=t,console.log("DataService.ScanQrCodeData",c.DataService.ScanQrCodeData),c.DataService.ScanQrCodeData.sign?t.qrPaymentAddress||t.pa?c.validateVpa():c.showPopup("inValidQrCode",""):c.showPopup("insecure-qrcode","")):c.showPopup("inValidQrCode","")},c=>{console.log("QRDetals Error => ",c)});break;case cordova.plugins.diagnostic.permissionStatus.DENIED_ALWAYS:return void this.showPopup("enable-camera-permissions")}},(function(c){console.error(c)})):c.DataService.platform.toLowerCase()==this.constant.val_ios?window.plugins.qrscan.startCamera(e=>{if(console.log("qrscan success",e),console.log("Other data => ",JSON.stringify({invalidQRMsg:this.translate.transform(this.constant.QRCodeErrorDesc),pointQRMsg:this.translate.transform(this.constant.QRCodeDesc),scanGalleryMsg:this.translate.transform(this.constant.ScanGalleryDesc),recentPayees:""})),"Cancelled"!=e&&e)if("DENIED"==e||"Not Authorized"==e)this.DataService.cameraPermissionGrantedIos=!1,this.commonMethod.openPopup("div.popup-bottom.enable-camera-permission");else{this.scanQrText=e;let t=c.scanQrService.getQrResponse(this.scanQrText);t?(c.DataService.ScanQrCodeData=t,console.log("DataService.ScanQrCodeData",c.DataService.ScanQrCodeData),c.DataService.ScanQrCodeData.sign?t.qrPaymentAddress||t.pa?c.validateVpa():c.showPopup("inValidQrCode",""):c.showPopup("insecure-qrcode","")):c.showPopup("inValidQrCode","")}},c=>{console.log("qrscan error ",c)}):console.log("Unknown platform")}else this.showPopup("noAccountLinkAlert","")}grant(){cordova.plugins.diagnostic.switchToSettings((function(){console.log("Successfully switched to Settings app")}),(function(c){console.error("The following error occurred: "+c)}))}routePage(c,e){"acceptedMandate"==c?(this.DataService.acceptedMandate=e,this.goToPage("upiMandateRevokeViewDetails")):"pendingMandate"==c?(this.DataService.pendingMandateWithPayer=e,this.goToPage("upiMandatePendingDetails")):"createdMandate"==c?(this.DataService.createdMandate=e,this.goToPage("upiMandateActiveDetails")):"completedMandate"==c&&(this.DataService.completedMandate=e,this.goToPage("upiMandateCompletedDetails"))}goToPage(c){"mandateHistory"==c&&(this.DataService.umn=null),this.DataService.routeWithNgZone(c)}}return c.\u0275fac=function(e){return new(e||c)(s.Yb(a.c),s.Yb(r.a),s.Yb(i.n),s.Yb(o.a),s.Yb(l.a),s.Yb(u.a),s.Yb(p.a),s.Yb(v.a),s.Yb(h.a),s.Yb(b.a),s.Yb(g.a),s.Yb(m.a),s.Yb(s.H))},c.\u0275cmp=s.Sb({type:c,selectors:[["app-upi-mandate"]],decls:177,vars:78,consts:[[1,"main"],[1,"right-main-column","minus-rt-col","mar-custom"],[1,"right-col-container","cust-pb2"],[1,"body-page-container"],[1,"container-fluid"],[1,"row"],[1,"bg-section"],[1,"col-12"],[1,"row1"],[1,"col-sm-12","col-12","col-md-12"],[1,"white-bg1","pad-8"],[1,"mandate-list"],[3,"click"],[1,"icon1"],["src","assets/images/svg/create.svg","alt","create-icon"],["src","assets/images/svg/payment.svg","alt","payment-icon"],["src","assets/images/svg/payment1.svg","alt","payment-icon"],["class","red-dot",4,"ngIf"],[1,"ux-nav-tabs",2,"margin","0"],[1,"responsive3","custom-card"],["role","tablist",1,"nav","nav-tabs","nav-justified","bor-n","mt-0"],[1,"nav-item"],["data-toggle","tab","href","#active1",1,"nav-link","active"],["data-toggle","tab","href","#pending1",1,"nav-link"],["data-toggle","tab","href","#completed1",1,"nav-link"],[1,"tab-content","custom-tab-content3","pt-0"],["id","active1",1,"tab-pane","active"],[1,"white-bg1","mt-0","pt-0","pb-0"],[1,"col-12","p-0"],[1,"responsive4"],["role","tablist",1,"nav","nav-tabs","nav-justified","bor-n","pad-custom2"],[1,"nav-item3"],["data-toggle","tab","href","#created",1,"nav-link","active"],["data-toggle","tab","href","#accepted",1,"nav-link"],[1,"tab-content","pb-0"],["id","created",1,"tab-pane","active"],["class","unfound-info",4,"ngIf"],[1,"payment-list"],[4,"ngFor","ngForOf"],["id","accepted",1,"tab-pane","fade"],["id","pending1",1,"tab-pane","fade"],[1,"white-bg1","mt-0","pad-tb"],["id","completed1",1,"tab-pane","fade"],[1,"popup-bottom","UPI-global","inValidQrCode"],[1,"text-center"],[1,"row1","mt-2"],[1,"col-12","text-center"],[1,"ux-button","primary","md",3,"click"],[1,"popup-bottom","UPI-global","insecure-qrcode"],[1,"col-6","text-center"],[1,"ux-button","primary","close-btn","md",3,"click"],[1,"ux-button","secondary","close-btn","md",3,"click"],[1,"popup-bottom","noAccountLinkAlert"],[1,"ux-button","secondary","no","md","close-btn",3,"click"],[1,"popup-bottom","enable-camera-permissions"],["src","assets/images/svg/information.svg","alt","information-icon"],[1,"logout-btn","ux-button","primary","md",3,"click"],[1,"red-dot"],[1,"unfound-info"],[1,"full-container","mb-0"],[1,"col-7","col-md-6"],[1,"left-info1"],["class","heading",4,"ngIf"],[4,"ngIf"],[1,"col-5","col-md-6"],[1,"right-info","mt-2"],[1,"col-6","col-md-6"],[1,"left-info3"],[1,"icon-info"],["src","assets/images/svg/expiry-date.svg","alt","expiry-date-icon"],["src","assets/images/svg/debit-frequency.svg","alt","debit-frequency-icon"],[1,"row1","mt-3"],[1,"btn-section"],[1,"text-right"],[1,"ux-button","secondary","sm5",3,"click"],[1,"heading"],[1,"pending"],["src","assets/images/svg/pending1.svg","alt","pending-icon",1,"big-img"],["class","success",4,"ngIf"],["class","expired",4,"ngIf"],["class","error",4,"ngIf"],[1,"success"],["src","assets/images/svg/completed.svg","alt","completed-icon",1,"big-img"],[1,"expired"],["src","assets/images/svg/expired1.svg","alt","expired-icon",1,"big-img"],[1,"error"],["src","assets/images/svg/declined.svg","alt","declined-icon",1,"big-img"]],template:function(c,e){1&c&&(s.ec(0,"div",0),s.ec(1,"div",1),s.ec(2,"div",2),s.ec(3,"div",3),s.ec(4,"div",4),s.ec(5,"div",5),s.ec(6,"div",6),s.ec(7,"div",7),s.ec(8,"div",8),s.ec(9,"div",9),s.ec(10,"div",10),s.ec(11,"div",5),s.ec(12,"ul",11),s.ec(13,"li"),s.ec(14,"a",12),s.lc("click",(function(){return e.goToPage("createMandate")})),s.ec(15,"div",13),s.Zb(16,"img",14),s.dc(),s.ec(17,"em"),s.Sc(18),s.qc(19,"translate"),s.dc(),s.dc(),s.dc(),s.ec(20,"li"),s.ec(21,"a",12),s.lc("click",(function(){return e.goToPage("requestMandate")})),s.ec(22,"div",13),s.Zb(23,"img",15),s.dc(),s.ec(24,"em"),s.Sc(25),s.qc(26,"translate"),s.dc(),s.dc(),s.dc(),s.ec(27,"li"),s.ec(28,"a",12),s.lc("click",(function(){return e.goToPage("approveMandate")})),s.ec(29,"div",13),s.Zb(30,"img",16),s.Rc(31,f,1,0,"span",17),s.dc(),s.ec(32,"em"),s.Sc(33),s.qc(34,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(35,"div",9),s.ec(36,"div",18),s.ec(37,"div",19),s.ec(38,"ul",20),s.ec(39,"li",21),s.ec(40,"a",22),s.Sc(41),s.qc(42,"translate"),s.dc(),s.dc(),s.ec(43,"li",21),s.ec(44,"a",23),s.Sc(45),s.qc(46,"translate"),s.dc(),s.dc(),s.ec(47,"li",21),s.ec(48,"a",24),s.Sc(49),s.qc(50,"translate"),s.dc(),s.dc(),s.dc(),s.ec(51,"div",25),s.ec(52,"div",26),s.ec(53,"div",5),s.ec(54,"div",9),s.ec(55,"div",27),s.ec(56,"div",8),s.ec(57,"div",28),s.ec(58,"div",18),s.ec(59,"div",29),s.ec(60,"ul",30),s.ec(61,"li",31),s.ec(62,"a",32),s.Sc(63),s.qc(64,"translate"),s.dc(),s.dc(),s.ec(65,"li",31),s.ec(66,"a",33),s.Sc(67),s.qc(68,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(69,"div",34),s.ec(70,"div",35),s.ec(71,"div",5),s.ec(72,"div",9),s.Rc(73,M,4,3,"div",36),s.ec(74,"div",8),s.ec(75,"ul",37),s.Rc(76,T,44,21,"li",38),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(77,"div",39),s.ec(78,"div",5),s.ec(79,"div",9),s.Rc(80,I,4,3,"div",36),s.ec(81,"div",8),s.ec(82,"ul",37),s.Rc(83,N,44,21,"li",38),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(84,"div",40),s.ec(85,"div",5),s.ec(86,"div",9),s.ec(87,"div",41),s.Rc(88,U,4,3,"div",36),s.ec(89,"div",8),s.ec(90,"ul",37),s.Rc(91,O,50,26,"li",38),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(92,"div",42),s.ec(93,"div",5),s.ec(94,"div",9),s.ec(95,"div",41),s.Rc(96,Q,4,3,"div",36),s.ec(97,"div",8),s.ec(98,"ul",37),s.Rc(99,X,54,30,"li",38),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(100,"div",43),s.ec(101,"div",5),s.ec(102,"div",7),s.ec(103,"h4",44),s.Sc(104),s.qc(105,"translate"),s.dc(),s.dc(),s.dc(),s.ec(106,"div",5),s.ec(107,"div",7),s.ec(108,"p"),s.Sc(109),s.qc(110,"translate"),s.dc(),s.dc(),s.dc(),s.ec(111,"div",45),s.ec(112,"div",46),s.ec(113,"button",47),s.lc("click",(function(){return e.closePopup("inValidQrCode")})),s.Sc(114),s.qc(115,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(116,"div",48),s.ec(117,"div",5),s.ec(118,"div",7),s.ec(119,"h4",44),s.Sc(120),s.qc(121,"translate"),s.dc(),s.dc(),s.dc(),s.ec(122,"div",5),s.ec(123,"div",7),s.ec(124,"p"),s.Sc(125),s.qc(126,"translate"),s.dc(),s.dc(),s.dc(),s.ec(127,"div",45),s.ec(128,"div",49),s.ec(129,"button",50),s.lc("click",(function(){return e.validateVpa(),e.closePopup("insecure-qrcode")})),s.Sc(130),s.qc(131,"translate"),s.dc(),s.dc(),s.ec(132,"div",49),s.ec(133,"button",51),s.lc("click",(function(){return e.closePopup("insecure-qrcode")})),s.Sc(134),s.qc(135,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(136,"div",52),s.ec(137,"div",5),s.ec(138,"div",7),s.ec(139,"h4",44),s.Sc(140),s.qc(141,"translate"),s.dc(),s.dc(),s.dc(),s.ec(142,"div",5),s.ec(143,"div",7),s.ec(144,"p"),s.Sc(145),s.qc(146,"translate"),s.dc(),s.dc(),s.dc(),s.ec(147,"div",45),s.ec(148,"div",49),s.ec(149,"button",53),s.lc("click",(function(){return e.closePopup("noAccountLinkAlert")})),s.Sc(150),s.qc(151,"translate"),s.dc(),s.dc(),s.ec(152,"div",49),s.ec(153,"button",47),s.lc("click",(function(){return e.goToPage("manageAccounts")})),s.Sc(154),s.qc(155,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(156,"div",54),s.ec(157,"div",8),s.ec(158,"div",7),s.ec(159,"h4",44),s.Zb(160,"img",55),s.Sc(161),s.qc(162,"translate"),s.dc(),s.dc(),s.dc(),s.ec(163,"div",5),s.ec(164,"div",7),s.ec(165,"p"),s.Sc(166),s.qc(167,"translate"),s.dc(),s.dc(),s.dc(),s.ec(168,"div",45),s.ec(169,"div",49),s.ec(170,"button",53),s.lc("click",(function(){return e.closePopup("enable-camera-permissions")})),s.Sc(171),s.qc(172,"translate"),s.dc(),s.dc(),s.ec(173,"div",49),s.ec(174,"button",56),s.lc("click",(function(){return e.grant()})),s.Sc(175),s.qc(176,"translate"),s.dc(),s.dc(),s.dc(),s.dc()),2&c&&(s.Mb(18),s.Tc(s.rc(19,32,"CREATE")),s.Mb(7),s.Tc(s.rc(26,34,"REQUEST")),s.Mb(6),s.uc("ngIf",e.mandateNotificationCount>0),s.Mb(2),s.Tc(s.rc(34,36,"APPROVE")),s.Mb(8),s.Tc(s.rc(42,38,"ACTIVE")),s.Mb(4),s.Tc(s.rc(46,40,"PENDING")),s.Mb(4),s.Tc(s.rc(50,42,"COMPLETED")),s.Mb(14),s.Uc("",s.rc(64,44,"CREATED")," "),s.Mb(4),s.Uc("",s.rc(68,46,"RECEIVED")," "),s.Mb(6),s.uc("ngIf",0==e.createdByMeList.length),s.Mb(3),s.uc("ngForOf",e.createdByMeList),s.Mb(4),s.uc("ngIf",0==e.acceptedByMeList.length),s.Mb(3),s.uc("ngForOf",e.acceptedByMeList),s.Mb(5),s.uc("ngIf",0==e.pendingWithPayerList.length),s.Mb(3),s.uc("ngForOf",e.pendingWithPayerList),s.Mb(5),s.uc("ngIf",0==e.completedList.length),s.Mb(3),s.uc("ngForOf",e.completedList),s.Mb(5),s.Tc(s.rc(105,48,"INVALID_QR_CODE")),s.Mb(5),s.Uc(" ",s.rc(110,50,"SCAN_VALID_QR_CODE")," "),s.Mb(5),s.Tc(s.rc(115,52,"OK")),s.Mb(6),s.Tc(s.rc(121,54,"INSECURE_QR_CODE")),s.Mb(5),s.Uc(" ",s.rc(126,56,"INSECURE_QR_CODE_DO_YOU_WANT_TO_PROCEED")," "),s.Mb(5),s.Tc(s.rc(131,58,"YES")),s.Mb(4),s.Tc(s.rc(135,60,"NO")),s.Mb(6),s.Tc(s.rc(141,62,"ALERT")),s.Mb(5),s.Uc(" ",s.rc(146,64,"NO_ACCOUNT_LINKED_KINDLY_ADD_MORE_ACCOUNT_TO_PROCEED_WITH_SCAN_QR")," "),s.Mb(5),s.Tc(s.rc(151,66,"NO")),s.Mb(4),s.Tc(s.rc(155,68,"ADD_NEW_ACCOUNT")),s.Mb(7),s.Uc(" ",s.rc(162,70,"INFORMATION")," "),s.Mb(5),s.Uc(" ",s.rc(167,72,"ENABLE_CAMERA_PERMISSION_MSG")," "),s.Mb(5),s.Tc(s.rc(172,74,"CANCEL")),s.Mb(4),s.Tc(s.rc(176,76,"GRANT")))},directives:[i.t,i.s],pipes:[b.a,E.a,D.b],styles:[""]}),c})()}];let J=(()=>{class c{}return c.\u0275mod=s.Wb({type:c}),c.\u0275inj=s.Vb({factory:function(e){return new(e||c)},imports:[[a.g.forChild(j)],a.g]}),c})();var K=t("PCNd");let z=(()=>{class c{}return c.\u0275mod=s.Wb({type:c}),c.\u0275inj=s.Vb({factory:function(e){return new(e||c)},imports:[[i.c,K.a,J]]}),c})()}}]);