(window.webpackJsonp=window.webpackJsonp||[]).push([[256],{dPwC:function(e,t,c){"use strict";c.r(t),c.d(t,"NomineeAuthorizationModule",(function(){return M}));var i=c("PCNd"),o=c("3Pt+"),n=c("ofXK"),s=c("tyNb"),r=c("PqYM"),a=c("fXoL"),d=c("EnSQ"),u=c("L7Xq"),m=c("H9Rt"),l=c("5IsW"),h=c("CgMK"),p=c("fHQ/"),v=c("au7T"),b=c("Eioz"),g=c("goA9");const S=["nomineeOTPRow"];function f(e,t){if(1&e){const e=a.fc();a.ec(0,"li"),a.ec(1,"a",56),a.lc("click",(function(){a.Hc(e);const c=t.$implicit;return a.pc().DataService.breadcrumroute(c.routeName)})),a.Sc(2),a.qc(3,"translate"),a.dc(),a.dc()}if(2&e){const e=t.$implicit;a.Mb(2),a.Tc(a.rc(3,1,e.currentRoute))}}function y(e,t){1&e&&(a.ec(0,"h4"),a.Sc(1,"OTP"),a.dc())}function D(e,t){1&e&&(a.ec(0,"h4"),a.Sc(1,"TPIN"),a.dc())}function w(e,t){if(1&e&&(a.ec(0,"div",57),a.ec(1,"em",58),a.Sc(2),a.qc(3,"translate"),a.dc(),a.dc()),2&e){const e=a.pc();a.Mb(2),a.Vc("",a.rc(3,2,"OTP_REGISTER_NO")," ******",e.mobNumber.slice(e.mobNumber.length-4),"")}}function A(e,t){1&e&&(a.ec(0,"div",57),a.ec(1,"em",58),a.Sc(2," Enter TPIN "),a.dc(),a.dc())}function R(e,t){if(1&e&&(a.ec(0,"span",64),a.Sc(1),a.qc(2,"formatTimer"),a.dc()),2&e){const e=a.pc(2);a.Mb(1),a.Tc(a.rc(2,1,e.counter))}}function O(e,t){if(1&e){const e=a.fc();a.ec(0,"div",28),a.ec(1,"div",59),a.ec(2,"div",60),a.ec(3,"p",60),a.Rc(4,R,3,3,"span",61),a.dc(),a.dc(),a.dc(),a.ec(5,"div",59),a.ec(6,"div",62),a.ec(7,"button",63),a.lc("click",(function(){return a.Hc(e),a.pc().resendOTP(2)})),a.Sc(8,"Resend Otp"),a.dc(),a.dc(),a.dc(),a.dc()}if(2&e){const e=a.pc();a.Mb(4),a.uc("ngIf",e.counter>0),a.Mb(3),a.uc("ngClass",e.counter>0?"mydisabled":"resendActive")}}function T(e,t){if(1&e&&(a.ec(0,"div",46),a.ec(1,"div",5),a.ec(2,"h6"),a.Sc(3,"Guardian Name"),a.dc(),a.ec(4,"h5"),a.Sc(5),a.dc(),a.dc(),a.dc()),2&e){const e=a.pc();a.Mb(5),a.Tc(e.DataService.nomineeReceiptObj.guardianName)}}function N(e,t){if(1&e&&(a.ec(0,"div",46),a.ec(1,"div",5),a.ec(2,"h6"),a.Sc(3,"Guardian Address"),a.dc(),a.ec(4,"h5"),a.Sc(5),a.dc(),a.dc(),a.dc()),2&e){const e=a.pc();a.Mb(5),a.Tc(e.DataService.nomineeReceiptObj.guardianAddress)}}const k=[{path:"",component:(()=>{class e{constructor(e,t,c,i,o,n,s,r,a,d){this.router=e,this.DataService=t,this.http=c,this.storage=i,this.constant=o,this.location=n,this.nomineeAuthorizationService=s,this.encryptDecryptService=r,this.commonMethod=a,this.date=d,this.nomineeOtpInput=["otp1","otp2","otp3","otp4","otp5","otp6"],this.counter=120,this.tick=1e3,this.type="password"}ngOnInit(){this.buildForm(),this.DataService.isCordovaAvailable&&(this.type="tel"),this.DataService.setPageSettings("Nominee"),this.DataService.setShowThemeObservable(!0),this.DataService.setShowsideNavObservable(!0),this.DataService.setShowNotificationObservable(!0),this.DataService.getBreadcrumb("AUTHORIZATION",this.router.url),this.resendOTP(1),this.mobNumber=this.commonMethod.maskMobileNumber(this.storage.getLocalStorage(this.constant.storage_mobileNo)),history.pushState({},this.DataService.otpSessionPreviousPage,this.location.prepareExternalUrl(this.DataService.otpSessionPreviousPage)),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url))}buildForm(){this.nomineeAuthForm=new o.j({otp1:new o.g("",[o.G.required,o.G.maxLength(1)]),otp2:new o.g("",[o.G.required,o.G.maxLength(1)]),otp3:new o.g("",[o.G.required,o.G.maxLength(1)]),otp4:new o.g("",[o.G.required,o.G.maxLength(1)]),otp5:new o.g("",[o.G.required,o.G.maxLength(1)]),otp6:new o.g("",[o.G.required,o.G.maxLength(1)])})}validateForm(){if(this.nomineeAuthForm.invalid)return this.nomineeAuthForm.get("otp1").markAsTouched(),this.nomineeAuthForm.get("otp2").markAsTouched(),this.nomineeAuthForm.get("otp3").markAsTouched(),this.nomineeAuthForm.get("otp4").markAsTouched(),this.nomineeAuthForm.get("otp5").markAsTouched(),void this.nomineeAuthForm.get("otp6").markAsTouched()}onKeyUpEvent(e,t,c){var i;const o=t.which||t.keyCode;1===this.getSpasswordElement(e,c).value.length&&(7!==e?this.getSpasswordElement(e+1,c).focus():(this.getSpasswordElement(e,c).blur(),console.log("submit code "))),12===o&&1!==e&&this.getSpasswordElement(e-1,c).focus(),8!==o&&229!==o||"Unidentified"!=t.key&&("otp"==c&&(null===(i=this.nomineeAuthForm.get(this.nomineeOtpInput[e]))||void 0===i||i.setValue("")),this.getSpasswordElement(e-1,c).focus())}onFocusEvent(e,t){for(let c=1;c<e;c++){const e=this.getSpasswordElement(c,t);if(!e.value){e.focus();break}}}getSpasswordElement(e,t){if("otp"==t)return this.nomineeOTPRows._results[e].nativeElement}goToPage(e){this.router.navigateByUrl("/"+e)}nomineeAuthSubmit(){let e;if(this.nomineeAuthForm.valid){e=this.nomineeAuthForm.value.otp1+this.nomineeAuthForm.value.otp2+this.nomineeAuthForm.value.otp3+this.nomineeAuthForm.value.otp4+this.nomineeAuthForm.value.otp5+this.nomineeAuthForm.value.otp6;var t=this.nomineeAuthorizationService.getSendOTPSessionReq(e);this.submitOtpSession(t)}else this.validateForm()}submitOtpSession(e){console.log("this.DataService.request"+this.DataService.request),this.tempDecryptedReq=JSON.parse(this.encryptDecryptService.decryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),this.DataService.request)),console.log("nominee auth ",this.tempDecryptedReq),console.log(this.tempDecryptedReq),this.tempDecryptedReq.methodName=this.DataService.endPoint.split("/")[1],"OTP"==this.DataService.otpName?this.tempDecryptedReq.value=this.nomineeAuthForm.value.otp1+this.nomineeAuthForm.value.otp2+this.nomineeAuthForm.value.otp3+this.nomineeAuthForm.value.otp4+this.nomineeAuthForm.value.otp5+this.nomineeAuthForm.value.otp6:(this.tempDecryptedReq.value=this.encryptDecryptService.createMD5Value(this.nomineeAuthForm.value.otp1+this.nomineeAuthForm.value.otp2+this.nomineeAuthForm.value.otp3+this.nomineeAuthForm.value.otp4+this.nomineeAuthForm.value.otp5+this.nomineeAuthForm.value.otp6),this.tempDecryptedReq.customerID=this.DataService.userDetails.customerId),console.log(this.tempDecryptedReq);let t=this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(this.tempDecryptedReq));this.DataService.request=t,console.log(this.DataService.request),this.submitReq()}submitReq(){console.log("this.DataService.request"+this.DataService.request),this.http.callBankingAPIService(this.DataService.request,this.storage.getLocalStorage(this.constant.storage_deviceId),this.DataService.endPoint).subscribe(e=>{"00"==e.responseParameter.opstatus?(console.log(e),this.DataService.nomineeReceiptObj.response="Successful"):this.DataService.nomineeReceiptObj.response="Failed",this.DataService.nomineeReceiptObj.msg=e.responseParameter.Result,this.DataService.nomineeReceiptObj.rrn=""==e.RRN?"-":e.RRN,this.router.navigate(["/nomineeSuccess"])})}errorCallBack(e,t){showToastMessage(t.Result,"error")}resendOTP(e){this.nomineeAuthForm.reset();var t=this.nomineeAuthorizationService.getResendOTPSessionReq(this.constant.val_ADDNOMINEEDATA);this.http.callBankingAPIService(t,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_RESENDOTPSESSION).subscribe(t=>{"00"==t.responseParameter.opstatus&&(this.startCounter(),2==e&&showToastMessage(t.responseParameter.Result,"success"))})}startCounter(){this.tick=1e3,this.counter=120,this.countDown&&!this.countDown.closed&&this.countDown.unsubscribe(),this.countDown=Object(r.a)(0,this.tick).subscribe(()=>{1==this.counter&&this.countDown.unsubscribe(),--this.counter})}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(s.c),a.Yb(d.a),a.Yb(u.a),a.Yb(m.a),a.Yb(l.a),a.Yb(n.n),a.Yb(h.a),a.Yb(p.a),a.Yb(v.a),a.Yb(n.f))},e.\u0275cmp=a.Sb({type:e,selectors:[["app-nominee-authorization"]],viewQuery:function(e,t){var c;1&e&&a.Yc(S,!0),2&e&&a.Dc(c=a.mc())&&(t.nomineeOTPRows=c)},decls:127,vars:23,consts:[[1,"main","bg-m"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container","main-dashborad","manage-payee"],[1,"container-fluid"],[1,"row"],[1,"col-12","p-0"],[1,"breadcrumb"],[1,"lst-breadcrumb"],[4,"ngFor","ngForOf"],[1,"vspacer15","customize","d-none","d-md-block","d-lg-block","d-xl-block"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-9"],[1,"greencard2"],[1,"row1","hide-m"],[1,"col-md-8","col-12"],[4,"ngIf"],[1,"col-md-4","col-12"],[1,"col-sm-12","col-12","col-md-12"],[1,"white-box2","mar-t","pad-custom","custom-bor"],[1,"col-12","col-md-8","col-lg-9","col-xl-9"],[1,"col-12","col-md-12"],["class","ux-input",4,"ngIf"],[1,"col-12","col-md-8","col-lg-8","col-xl-7"],[1,"col-12","pl-2","pr-2"],[3,"formGroup"],[1,"row3"],[1,"col-sm-2","col-2","col-md-2"],[1,"ux-input","password1","mb-1"],["id","otppassword1","maxlength","1","placeholder","\u25cf","formControlName","otp1",3,"type","keyup"],["nomineeOTPRow",""],["id","otppassword2","maxlength","1","placeholder","\u25cf","formControlName","otp2",3,"type","keyup"],["id","otppassword3","maxlength","1","placeholder","\u25cf","formControlName","otp3",3,"type","keyup"],["id","otppassword4","maxlength","1","placeholder","\u25cf","formControlName","otp4",3,"type","keyup"],["id","otppassword5","maxlength","1","placeholder","\u25cf","formControlName","otp5",3,"type","keyup"],["id","otppassword6","maxlength","1","placeholder","\u25cf","formControlName","otp6",3,"type","keyup"],[1,"ux-input","password1","mt-0","mb-0"],["class","row3",4,"ngIf"],[1,"col-12","col-md-4","col-lg-3","col-xl-3","text-right","hide-m"],[1,"mobile-img"],["src","assets/images/icons/mobile.svg","alt","otp-icon"],[1,"result-container1","mar-top"],[1,"info-bottom","pad-custom"],[1,"info-details","mt-3"],[1,"info-details"],["class","info-details",4,"ngIf"],[1,"bottom-footer1"],[1,"btn-div"],[1,"ux-button","secondary","sm-mob",3,"click"],[1,"ux-button","primary","sm-mob",3,"disabled","click"],[1,"col-12","col-md-12","col-lg-12","col-xl-3","d-none","d-xl-block"],[1,"right-ads"],["src","assets/images/banner/my-card-banner.jpg"],[1,"vspacer30"],[3,"click"],[1,"ux-input"],[1,"info-message2"],[1,"col-6","col-md-6"],[1,"text-left"],["class","success-text",4,"ngIf"],[1,"text-right"],[1,"ux-linkbutton","default-underline","mt3",3,"ngClass","click"],[1,"success-text"]],template:function(e,t){1&e&&(a.ec(0,"div",0),a.ec(1,"div",1),a.ec(2,"div",2),a.ec(3,"div",3),a.ec(4,"div",4),a.ec(5,"div",5),a.ec(6,"div",6),a.ec(7,"div",7),a.ec(8,"ul",8),a.Rc(9,f,4,3,"li",9),a.dc(),a.dc(),a.dc(),a.dc(),a.Zb(10,"div",10),a.ec(11,"div",11),a.ec(12,"div",12),a.ec(13,"div",13),a.ec(14,"div",14),a.ec(15,"div",15),a.ec(16,"div",16),a.ec(17,"div",17),a.Rc(18,y,2,0,"h4",18),a.Rc(19,D,2,0,"h4",18),a.dc(),a.Zb(20,"div",19),a.dc(),a.ec(21,"div",13),a.ec(22,"div",20),a.ec(23,"div",21),a.ec(24,"div",13),a.ec(25,"div",22),a.ec(26,"div",13),a.ec(27,"div",23),a.Rc(28,w,4,4,"div",24),a.Rc(29,A,3,0,"div",24),a.dc(),a.ec(30,"div",25),a.ec(31,"div",5),a.ec(32,"div",26),a.ec(33,"form",27),a.ec(34,"div",28),a.ec(35,"div",29),a.ec(36,"div",30),a.ec(37,"input",31,32),a.lc("keyup",(function(e){return t.onKeyUpEvent(0,e,"otp")})),a.dc(),a.dc(),a.dc(),a.ec(39,"div",29),a.ec(40,"div",30),a.ec(41,"input",33,32),a.lc("keyup",(function(e){return t.onKeyUpEvent(1,e,"otp")})),a.dc(),a.dc(),a.dc(),a.ec(43,"div",29),a.ec(44,"div",30),a.ec(45,"input",34,32),a.lc("keyup",(function(e){return t.onKeyUpEvent(2,e,"otp")})),a.dc(),a.dc(),a.dc(),a.ec(47,"div",29),a.ec(48,"div",30),a.ec(49,"input",35,32),a.lc("keyup",(function(e){return t.onKeyUpEvent(3,e,"otp")})),a.dc(),a.dc(),a.dc(),a.ec(51,"div",29),a.ec(52,"div",30),a.ec(53,"input",36,32),a.lc("keyup",(function(e){return t.onKeyUpEvent(4,e,"otp")})),a.dc(),a.dc(),a.dc(),a.ec(55,"div",29),a.ec(56,"div",30),a.ec(57,"input",37,32),a.lc("keyup",(function(e){return t.onKeyUpEvent(5,e,"otp")})),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(59,"div",13),a.ec(60,"div",12),a.Zb(61,"div",38),a.dc(),a.dc(),a.Rc(62,O,9,2,"div",39),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(63,"div",40),a.ec(64,"div",41),a.Zb(65,"img",42),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(66,"div",20),a.ec(67,"div",43),a.ec(68,"div",44),a.ec(69,"div",45),a.ec(70,"div",5),a.ec(71,"h6"),a.Sc(72,"Nominee Name"),a.dc(),a.ec(73,"h5"),a.Sc(74),a.dc(),a.dc(),a.dc(),a.ec(75,"div",46),a.ec(76,"div",5),a.ec(77,"h6"),a.Sc(78,"Relationship with Nominee"),a.dc(),a.ec(79,"h5"),a.Sc(80),a.dc(),a.dc(),a.dc(),a.ec(81,"div",46),a.ec(82,"div",5),a.ec(83,"h6"),a.Sc(84,"Date of Birth"),a.dc(),a.ec(85,"h5"),a.Sc(86),a.dc(),a.dc(),a.dc(),a.Rc(87,T,6,1,"div",47),a.Rc(88,N,6,1,"div",47),a.ec(89,"div",46),a.ec(90,"div",5),a.ec(91,"h6"),a.Sc(92,"Address Line 1"),a.dc(),a.ec(93,"h5"),a.Sc(94),a.dc(),a.dc(),a.dc(),a.ec(95,"div",46),a.ec(96,"div",5),a.ec(97,"h6"),a.Sc(98,"Address Line 2"),a.dc(),a.ec(99,"h5"),a.Sc(100),a.dc(),a.dc(),a.dc(),a.ec(101,"div",46),a.ec(102,"div",5),a.ec(103,"h6"),a.Sc(104,"State"),a.dc(),a.ec(105,"h5"),a.Sc(106),a.dc(),a.dc(),a.dc(),a.ec(107,"div",46),a.ec(108,"div",5),a.ec(109,"h6"),a.Sc(110,"City"),a.dc(),a.ec(111,"h5"),a.Sc(112),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(113,"div",23),a.ec(114,"ul",48),a.ec(115,"li"),a.ec(116,"div",49),a.ec(117,"button",50),a.lc("click",(function(){return t.goToPage("myAccountsInfo")})),a.Sc(118,"Cancel"),a.dc(),a.dc(),a.ec(119,"div",49),a.ec(120,"button",51),a.lc("click",(function(){return t.nomineeAuthSubmit()})),a.Sc(121,"Submit"),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(122,"div",52),a.ec(123,"div",53),a.ec(124,"a"),a.Zb(125,"img",54),a.dc(),a.dc(),a.Zb(126,"div",55),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc()),2&e&&(a.Mb(9),a.uc("ngForOf",t.DataService.breadcrumblist),a.Mb(9),a.uc("ngIf","OTP"==t.DataService.otpName),a.Mb(1),a.uc("ngIf","OTP"!=t.DataService.otpName),a.Mb(9),a.uc("ngIf","OTP"==t.DataService.otpName),a.Mb(1),a.uc("ngIf","OTP"!=t.DataService.otpName),a.Mb(4),a.uc("formGroup",t.nomineeAuthForm),a.Mb(4),a.vc("type",t.type),a.Mb(4),a.vc("type",t.type),a.Mb(4),a.vc("type",t.type),a.Mb(4),a.vc("type",t.type),a.Mb(4),a.vc("type",t.type),a.Mb(4),a.vc("type",t.type),a.Mb(5),a.uc("ngIf","OTP"==t.DataService.otpName),a.Mb(12),a.Tc(t.DataService.nomineeReceiptObj.nomineeName),a.Mb(6),a.Tc(t.DataService.nomineeReceiptObj.nomineeRelationship),a.Mb(6),a.Tc(t.DataService.nomineeReceiptObj.dateOfBirth),a.Mb(1),a.uc("ngIf","Y"==t.DataService.minorFlagNominee),a.Mb(1),a.uc("ngIf","Y"==t.DataService.minorFlagNominee),a.Mb(6),a.Tc(t.DataService.nomineeReceiptObj.address1),a.Mb(6),a.Tc(t.DataService.nomineeReceiptObj.address2),a.Mb(6),a.Uc("",t.DataService.nomineeReceiptObj.state," "),a.Mb(6),a.Uc("",t.DataService.nomineeReceiptObj.city," "),a.Mb(8),a.uc("disabled",!t.nomineeAuthForm.valid))},directives:[n.s,n.t,o.I,o.t,o.k,o.c,o.n,o.s,o.i,n.q],pipes:[b.a,g.c],styles:[""]}),e})()}];let F=(()=>{class e{}return e.\u0275mod=a.Wb({type:e}),e.\u0275inj=a.Vb({factory:function(t){return new(t||e)},imports:[[s.g.forChild(k)],s.g]}),e})(),M=(()=>{class e{}return e.\u0275mod=a.Wb({type:e}),e.\u0275inj=a.Vb({factory:function(t){return new(t||e)},imports:[[n.c,F,o.m,i.a,o.C]]}),e})()}}]);