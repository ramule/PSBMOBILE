(window.webpackJsonp=window.webpackJsonp||[]).push([[298],{Hnts:function(e,t,c){"use strict";c.r(t),c.d(t,"TracesFormModule",(function(){return F}));var r=c("PCNd"),i=c("3Pt+"),a=c("ofXK"),o=c("wd/R"),s=c("fXoL"),n=c("tyNb"),d=c("EnSQ"),l=c("L7Xq"),m=c("H9Rt"),u=c("5IsW"),b=c("fHQ/"),h=c("bgBo"),v=c("AIZJ"),p=c("Eioz");function g(e,t){if(1&e){const e=s.fc();s.ec(0,"li"),s.ec(1,"a",44),s.lc("click",(function(){s.Hc(e);const c=t.$implicit;return s.pc().dataService.breadcrumroute(c.routeName)})),s.Sc(2),s.qc(3,"translate"),s.dc(),s.dc()}if(2&e){const e=t.$implicit;s.Mb(2),s.Tc(s.rc(3,1,e.currentRoute))}}function S(e,t){1&e&&(s.ec(0,"p",45),s.Sc(1," This field is required "),s.dc())}const f=[{path:"",component:(()=>{class e{constructor(e,t,c,r,i,a,o,s){this.router=e,this.dataService=t,this.http=c,this.storage=r,this.constant=i,this.encryptDecryptService=a,this.traceFormService=o,this.location=s,this.assessmentYearList=[],this.financialYear="",this.traceFormLink="https://services.tdscpc.gov.in/serv/view26AS.xhtml"}ngOnInit(){this.buildForm(),this.pancardNumber=this.dataService.profiledateDetails[0].panNumber,this.dataService.setPageSettings("Traces Form 26 AS"),this.dataService.setShowThemeObservable(!0),this.dataService.setShowsideNavObservable(!0),this.dataService.setShowNotificationObservable(!0),this.dataService.getBreadcrumb("FORM_26AS",this.router.url)}getCurrentFinancialYear(){var e="",t=new Date,c=(e=t.getMonth()+1<=3?t.getFullYear()-1+"-"+t.getFullYear():t.getFullYear()+"-"+(t.getFullYear()+1)).split("-"),r=c[0]+"-"+c[1].substring(2);return this.assessmentYearList.push({configVal:r,financialYear:e}),r}buildForm(){this.traceForm=new i.j({termsCondition:new i.g("",[i.G.required]),assestmentYear:new i.g({value:this.getCurrentFinancialYear(),disabled:!0},[i.G.required])})}validateForm(){this.traceForm.invalid&&this.traceForm.get("termsCondition").markAsTouched()}getAssessmentYear(e){this.http.callBankingAPIService(e,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_CERTIFICATECONFIGS).subscribe(e=>{console.log(e),"00"==e.responseParameter.opstatus&&(console.log(e.responseParameter),this.assessmentYearList=e.listofDataset[0].records,console.log("assessment year list: ",this.assessmentYearList))})}proceedToForm26AS(){if(this.traceForm.valid){var e={UserID:"B030023",PAN:this.pancardNumber,RequestTimestamp:o(new Date).format("YYYY-MM-DD-HH.mm.ss.SSSSSS"),AssessmentYear:this.traceForm.get("assestmentYear").value};console.log("assessment Form value ",this.traceForm.get("assestmentYear").value),console.log("USER DATA :: ",e),console.log(o(new Date).format("YYYY-MM-DD-HH.mm.ss.SSSSSS"));var t=e.UserID+"^"+e.PAN+"^"+e.AssessmentYear+"^"+e.RequestTimestamp;console.log(t);let c=this.traceFormService.getPKCS7Signature(t,"Form26AS");this.http.callBankingAPIService(c,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_GENERATESIGNATURE).subscribe(e=>{var c=e.responseParameter;if("00"==c.opstatus){console.log("profile data ",this.dataService.profiledateDetails),console.log("account No ",this.dataService.primaryAccountDtl);var r=document.createElement("form");r.setAttribute("method","post"),r.setAttribute("action",this.traceFormLink),r.setAttribute("name","LoginToEFiling"),r.setAttribute("target","EFile");var i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name","data"),i.setAttribute("value",t),r.appendChild(i);var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name","signature"),a.setAttribute("value",c.Signature),r.appendChild(a),document.body.appendChild(r),console.log(this.constant.DSC_Key),window.open("","EFile")?r.submit():console.log("Form is null")}})}else this.validateForm()}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(n.c),s.Yb(d.a),s.Yb(l.a),s.Yb(m.a),s.Yb(u.a),s.Yb(b.a),s.Yb(h.a),s.Yb(a.n))},e.\u0275cmp=s.Sb({type:e,selectors:[["app-traces-form"]],decls:83,vars:7,consts:[[1,"main","bg-m"],[1,"nav-overlay"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container","main-dashborad","manage-payee"],[1,"container-fluid"],[1,"row"],[1,"col-12","p-0"],[1,"breadcrumb"],[1,"lst-breadcrumb"],[4,"ngFor","ngForOf"],[1,"vspacer15","customize","d-none","d-md-block","d-lg-block","d-xl-block"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-9"],[1,"greencard2"],[1,"row1","hide-m"],[3,"formGroup"],[1,"col-sm-12","col-12","col-md-12"],[1,"widget-box5","mb-3"],[1,"bg-white1","pad-custom","tax-wrapper","py-2"],[1,"col-md-12","col-12"],["id","accordion2",1,"accordion-container","parent-accordion"],[1,"card4","overflow-inherit"],[1,"col-12","col-md-12"],[1,"black-h4"],[1,"col-12","col-md-6","col-lg-6","col-xl-4"],[1,"ux-input"],["type","text","placeholder","Enter Nominee Name","formControlName","assestmentYear",3,"value"],[1,"ux-selection"],[1,"ux-selection1","ux-input","p-0"],["type","checkbox","required","","formControlName","termsCondition"],[1,"checkmark"],["class","error-message",4,"ngIf"],[1,"order-list"],[1,"border-top-container"],[1,"bottom-footer1"],[1,"btn-div","w100"],["type","submit",1,"ux-button","primary","sm-mob",3,"click"],[1,"col-12","col-md-12","col-lg-12","col-xl-3","d-none","d-xl-block"],[1,"right-ads"],["src","assets/images/banner/my-card-banner.jpg"],[1,"vspacer30"],[3,"click"],[1,"error-message"]],template:function(e,t){1&e&&(s.ec(0,"div",0),s.Zb(1,"div",1),s.ec(2,"div",2),s.ec(3,"div",3),s.ec(4,"div",4),s.ec(5,"div",5),s.ec(6,"div",6),s.ec(7,"div",7),s.ec(8,"div",8),s.ec(9,"ul",9),s.Rc(10,g,4,3,"li",10),s.dc(),s.dc(),s.dc(),s.dc(),s.Zb(11,"div",11),s.ec(12,"div",12),s.ec(13,"div",13),s.ec(14,"div",14),s.ec(15,"div",15),s.ec(16,"div",16),s.ec(17,"div",17),s.ec(18,"div",13),s.ec(19,"h4"),s.Sc(20,"Traces (Form 26 AS)"),s.dc(),s.dc(),s.dc(),s.ec(21,"form",18),s.ec(22,"div",14),s.ec(23,"div",19),s.ec(24,"div",20),s.ec(25,"div",21),s.ec(26,"div",14),s.ec(27,"div",22),s.ec(28,"div",23),s.ec(29,"div",24),s.ec(30,"div",14),s.ec(31,"div",25),s.ec(32,"h4",26),s.Sc(33,"Confirm your PAN Details"),s.dc(),s.dc(),s.dc(),s.ec(34,"div",14),s.ec(35,"div",27),s.ec(36,"div",28),s.ec(37,"label"),s.Sc(38,"Pan Card Number"),s.dc(),s.ec(39,"h5"),s.Sc(40),s.qc(41,"maskString"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(42,"div",14),s.ec(43,"div",27),s.ec(44,"div",28),s.ec(45,"label"),s.Sc(46,"Assessment Years"),s.dc(),s.Zb(47,"input",29),s.dc(),s.dc(),s.dc(),s.ec(48,"div",14),s.ec(49,"div",25),s.ec(50,"div",30),s.ec(51,"div",31),s.ec(52,"label"),s.Sc(53,"I accept "),s.ec(54,"a"),s.Sc(55," Terms and Conditions"),s.dc(),s.Zb(56,"input",32),s.Zb(57,"span",33),s.dc(),s.Rc(58,S,2,0,"p",34),s.dc(),s.dc(),s.dc(),s.ec(59,"div",25),s.ec(60,"p"),s.Sc(61,"To pay Direct Taxes through internet, do the following "),s.Zb(62,"br"),s.dc(),s.ec(63,"ol",35),s.ec(64,"li"),s.Sc(65,"After clicking \u201cProceed\u201d button, you will be leaving PSB Digital banking and will be redirected to a third party website, which is not controlled by the Bank. Bank will not be responsible/ liable for any action, dispute etc which arises at the third party website. "),s.dc(),s.ec(66,"li"),s.Sc(67,"The PAN along with your registered Email ID will be forwarded to third party website."),s.dc(),s.ec(68,"li"),s.Sc(69,"In case the customer\u2019s PAN is not available in Bank\u2019s record, then customer is requested to visit the nearest branch with a copy of PAN card (along with original) for PAN Card Updation."),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(70,"div",36),s.ec(71,"div",14),s.ec(72,"div",25),s.ec(73,"ul",37),s.ec(74,"li"),s.ec(75,"div",38),s.ec(76,"button",39),s.lc("click",(function(){return t.proceedToForm26AS()})),s.Sc(77,"Proceed"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(78,"div",40),s.ec(79,"div",41),s.ec(80,"a"),s.Zb(81,"img",42),s.dc(),s.dc(),s.Zb(82,"div",43),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc()),2&e&&(s.Mb(10),s.uc("ngForOf",t.dataService.breadcrumblist),s.Mb(11),s.uc("formGroup",t.traceForm),s.Mb(19),s.Uc(" ",s.rc(41,5,t.pancardNumber)," "),s.Mb(7),s.uc("value",t.assessmentYearList.financialYear),s.Mb(11),s.uc("ngIf",t.traceForm.controls.termsCondition.hasError("required")&&(t.traceForm.controls.termsCondition.dirty||t.traceForm.controls.termsCondition.touched)))},directives:[a.s,i.I,i.t,i.k,i.c,i.s,i.i,i.b,i.a,a.t],pipes:[v.b,p.a],styles:[""]}),e})()}];let w=(()=>{class e{}return e.\u0275mod=s.Wb({type:e}),e.\u0275inj=s.Vb({factory:function(t){return new(t||e)},imports:[[n.g.forChild(f)],n.g]}),e})(),F=(()=>{class e{}return e.\u0275mod=s.Wb({type:e}),e.\u0275inj=s.Vb({factory:function(t){return new(t||e)},imports:[[a.c,w,i.m,r.a,i.C]]}),e})()}}]);