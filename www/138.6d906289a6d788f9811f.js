(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{"4oXj":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var c=i("fXoL"),s=i("5IsW"),a=i("fHQ/"),n=i("H9Rt"),o=i("EnSQ"),r=i("au7T"),p=i("oBZJ"),h=i("L7Xq");let l=(()=>{class t{constructor(t,e,i,c,s,a,n,o,r){this.constant=t,this.encryptDecryptService=e,this.storage=i,this.dataService=c,this.commonMethod=s,this.pluginService=a,this.localStorage=n,this.http=o,this.ngZone=r}getUserLocation(){this.latitude=this.dataService.latitude?this.dataService.latitude:"0",this.longitude=this.dataService.longitude?this.dataService.longitude:"0",this.userLocationName=this.dataService.userLocationName}setAddBenificiaryRequest(t,e,i,c){var s=this.dataService.ScanQrCodeData?this.dataService.ScanQrCodeData:{},a={[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_subAction]:this.constant.upiserviceName_ADDBENIFICIARY,[this.constant.key_upi_inputParam]:{[this.constant.key_upi_payeeName]:t.payeeName,[this.constant.key_upi_appVersion]:this.constant.val_upi_app_version,[this.constant.key_upi_nickName]:t.nickName,[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_language]:this.dataService.getSelectedLanguageCodeUPI(),[this.constant.key_upi_is_Favourite]:t.isFavourite,[this.constant.key_upi_appID]:this.constant.val_upi_psb,[this.constant.key_upi_device]:{[this.constant.key_upi_app]:this.constant.val_app_pakage_name,[this.constant.key_upi_capability]:this.constant.val_upi_capability,[this.constant.key_upi_lng]:this.longitude,[this.constant.key_upi_lat]:this.latitude,[this.constant.key_upi_os]:this.dataService.platform,[this.constant.key_upi_ip]:this.dataService.ipAddress,[this.constant.key_upi_location]:this.userLocationName,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_deviceID]:this.storage.getLocalStorage(this.constant.storage_deviceId)}}};return e?(a[this.constant.key_upi_inputParam][this.constant.key_upi_accNum]=this.dataService.upiBenfAccNo?this.dataService.upiBenfAccNo:s.qrAccountNo,a[this.constant.key_upi_inputParam][this.constant.key_upi_ifsc]=this.dataService.upiBenfIfsc?this.dataService.upiBenfIfsc:s.qrIfsc):i?a[this.constant.key_upi_inputParam][this.constant.key_upi_payeeVPA]=t.payeeVPA:c&&(a[this.constant.key_upi_inputParam][this.constant.key_upi_mmid]=this.dataService.upiBenfMMId),console.log("setAddBenificiaryRequest ",JSON.stringify(a)),this.getOmniRequestObject(a)}getOmniRequestObject(t){t=t;var e={[this.constant.key_entityId]:this.constant.getEntityId(this.constant.val_entityId_UMOB),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_upiRequest]:JSON.stringify(t)};return console.log("inputData => ",JSON.stringify(e)),this.getEncryptedOmniRequestObject(e)}getBenficiaryListReq(t,e){var i={[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_subAction]:this.constant.upiserviceName_GETBENIFICIARYLIST,[this.constant.key_upi_inputParam]:{[this.constant.key_upi_appVersion]:this.constant.val_upi_app_version,[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_beneListType]:t,[this.constant.key_upi_language]:this.dataService.getSelectedLanguageCodeUPI(),[this.constant.key_upi_beneListMode]:e,[this.constant.key_upi_device]:{[this.constant.key_upi_app]:this.constant.val_app_pakage_name,[this.constant.key_upi_capability]:this.constant.val_upi_capability,[this.constant.key_upi_lng]:this.longitude,[this.constant.key_upi_lat]:this.latitude,[this.constant.key_upi_os]:this.dataService.platform,[this.constant.key_upi_ip]:this.dataService.ipAddress,[this.constant.key_upi_location]:this.userLocationName,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_deviceID]:this.storage.getLocalStorage(this.constant.storage_deviceId)}}};return console.log("getBenficiaryListReq ",JSON.stringify(i)),this.getOmniRequestObject(i)}getEncryptedOmniRequestObject(t){console.log("session Key : ",this.storage.getSessionStorage(this.constant.val_sessionKey));let e=this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(t));return console.log("encryptDatagetOmniRequestObject => ",JSON.stringify(e)),e}getBenificiaryList(){return new Promise((t,e)=>{this.ngZone.run(()=>{this.dataService.fetchUPIbenificiaryLists?(this.getUserLocation(),this.fetchBenificiaryList(t)):t({recentBeneList:this.dataService.recentBeneficiaryList,FavBeneList:this.dataService.favPayeeList})})})}fetchBenificiaryList(t){var e=this.getBenficiaryListReq(this.constant.val_upi_benListType_ALL,this.constant.val_upi_ANY);this.UpiApiCall(e,t)}UpiApiCall(t,e){this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_PROCESSUPISERVICESESSION,!0).subscribe(t=>{var i,c,s,a;let n=t.responseParameter.upiResponse;if("00"==n.status)switch(n.subActionId){case this.constant.upiserviceName_GETBENIFICIARYLIST:this.dataService.recentBeneficiaryList=(null===(i=n.responseParameter)||void 0===i?void 0:i.beneficiaryList)?null===(c=n.responseParameter)||void 0===c?void 0:c.beneficiaryList:[],this.dataService.favPayeeList=(null===(s=n.responseParameter)||void 0===s?void 0:s.FavBeneList)?null===(a=n.responseParameter)||void 0===a?void 0:a.FavBeneList:[],e({recentBeneList:this.dataService.recentBeneficiaryList,FavBeneList:this.dataService.favPayeeList}),this.dataService.fetchUPIbenificiaryLists=!1}},t=>{console.log("ERROR!",t)})}}return t.\u0275fac=function(e){return new(e||t)(c.ic(s.a),c.ic(a.a),c.ic(n.a),c.ic(o.a),c.ic(r.a),c.ic(p.a),c.ic(n.a),c.ic(h.a),c.ic(c.H))},t.\u0275prov=c.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},O0yf:function(t,e,i){"use strict";i.r(e),i.d(e,"CollectSearchContactListModule",(function(){return D}));var c=i("ofXK"),s=i("lDwX"),a=i("fXoL"),n=i("tyNb"),o=i("EnSQ"),r=i("4bKs"),p=i("oBZJ"),h=i("H9Rt"),l=i("au7T"),u=i("L7Xq"),d=i("5IsW"),v=i("4oXj"),_=i("3Pt+"),g=i("Eioz"),y=i("KyFs"),f=i("RZqO");function m(t,e){1&t&&(a.ec(0,"p",36),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t&&(a.Mb(1),a.Tc(a.rc(2,1,"ENTER_ALPHABET_NUMBER_ERROR")))}function b(t,e){if(1&t&&(a.ec(0,"h6"),a.Sc(1),a.qc(2,"firstLastChar"),a.dc()),2&t){const t=a.pc().$implicit;a.Mb(1),a.Tc(a.rc(2,1,t.nickName))}}function S(t,e){if(1&t&&(a.ec(0,"h6"),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t){const t=a.pc().$implicit;a.Mb(1),a.Vc(" ",a.rc(2,2,"UPI_ID")," : ",t.beneVpa," ")}}function I(t,e){if(1&t&&(a.ec(0,"h6"),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t){const t=a.pc().$implicit;a.Mb(1),a.Vc(" ",a.rc(2,2,"ACCOUNT_NUMBER")," : ",t.beneAccount," ")}}function k(t,e){if(1&t&&(a.ec(0,"h6"),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t){const t=a.pc().$implicit;a.Mb(1),a.Vc(" ",a.rc(2,2,"IFSC_CODE")," : ",t.beneIfsc," ")}}function N(t,e){if(1&t){const t=a.fc();a.ec(0,"button",45),a.lc("click",(function(e){a.Hc(t);const i=a.pc().$implicit,c=a.pc(3);return e.stopPropagation(),c.openPopup(i,"fav-popup")})),a.Zb(1,"img",46),a.dc()}}function L(t,e){if(1&t){const t=a.fc();a.ec(0,"li"),a.ec(1,"a",39),a.lc("click",(function(){a.Hc(t);const i=e.$implicit;return a.pc(3).selectContact(i)})),a.ec(2,"div",40),a.ec(3,"span",41),a.Rc(4,b,3,3,"h6",42),a.dc(),a.dc(),a.ec(5,"div",43),a.ec(6,"h5"),a.Sc(7),a.dc(),a.Rc(8,S,3,4,"h6",42),a.Rc(9,I,3,4,"h6",42),a.Rc(10,k,3,4,"h6",42),a.Rc(11,N,2,0,"button",44),a.dc(),a.dc(),a.dc()}if(2&t){const t=e.$implicit,i=a.pc(3);a.Mb(4),a.uc("ngIf",t.nickName),a.Mb(3),a.Uc(" ",t.nickName," "),a.Mb(1),a.uc("ngIf",t.beneVpa&&"VPA"==t.txnMode),a.Mb(1),a.uc("ngIf",t.beneAccount&&"ACCOUNT"==t.txnMode),a.Mb(1),a.uc("ngIf",t.beneIfsc&&"ACCOUNT"==t.txnMode),a.Mb(1),a.uc("ngIf","recent"!=i.DataService.upiCollectsearchType)}}function P(t,e){if(1&t&&(a.ec(0,"ul",37),a.Rc(1,L,12,6,"li",38),a.qc(2,"searchFilter"),a.dc()),2&t){const t=a.pc(2);a.Mb(1),a.uc("ngForOf",a.tc(2,1,t.payeeList,"nickName,beneVpa",t.searchContacts))}}function R(t,e){if(1&t){const t=a.fc();a.ec(0,"div",28),a.ec(1,"div",5),a.ec(2,"div",29),a.ec(3,"div",30),a.ec(4,"input",31,32),a.lc("ngModelChange",(function(e){return a.Hc(t),a.pc().searchContacts=e})),a.qc(6,"translate"),a.dc(),a.Rc(7,m,3,3,"p",33),a.dc(),a.dc(),a.ec(8,"div",34),a.ec(9,"div",29),a.Rc(10,P,3,5,"ul",35),a.dc(),a.dc(),a.dc(),a.dc()}if(2&t){const t=a.Ec(5),e=a.pc();a.Mb(4),a.vc("placeholder",a.rc(6,5,"SEARCH_FOR_UPI_ID_MOB_NO")),a.uc("ngModel",e.searchContacts)("pattern",e.constant.ALPHA_NUMERIC_SPACE_UPI_REGEX),a.Mb(3),a.uc("ngIf",null==t.errors?null:t.errors.pattern),a.Mb(3),a.uc("ngIf",e.payeeList.length>0)}}function A(t,e){1&t&&(a.ec(0,"div",47),a.ec(1,"h6"),a.Sc(2),a.qc(3,"translate"),a.dc(),a.dc()),2&t&&(a.Mb(2),a.Tc(a.rc(3,1,"NO_FAVORITE_PAYEE_FOUND")))}const M=[{path:"",component:(()=>{class t{constructor(t,e,i,c,s,a,n,o,r,p){this.router=t,this.DataService=e,this.loader=i,this.pluginService=c,this.location=s,this.localStorage=a,this.commonMethods=n,this.http=o,this.constant=r,this.benificiaryService=p,this.searchContacts="",this.payeeList=[],this.information=""}ngOnInit(){var t="recent"==this.DataService.upiCollectsearchType?"RECENT_PAYEE":"FAVORITE_PAYEE";history.pushState({},this.DataService.contactPrevURL,this.location.prepareExternalUrl(this.DataService.contactPrevURL)),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url)),this.DataService.setPageSettings(t),this.payeeList=this.DataService.upiSearchCollectPayeeList}selectContact(t){"/collectRecentRequest"==this.DataService.contactPrevURL?this.DataService.upiCollectRequest.validatedVpaAdress=t.beneVpa:"/payUpi"==this.DataService.contactPrevURL?(console.log(t.beneVpa),"ACCOUNT"==(null==t?void 0:t.txnMode)?this.DataService.accountIFscDetails=t:this.DataService.upiPayRequest.validatedVpaAdress=t.beneVpa):"/requestMandate"!=this.DataService.contactPrevURL&&"/createMandate"!=this.DataService.contactPrevURL||(this.DataService.upiValidatedVpaAdress=t.beneVpa),this.location.back()}closePopup(t){this.commonMethods.closePopup("div.popup-bottom."+t)}openPopup(t,e){"fav-popup"==e&&(this.payeeDetails=t),this.commonMethods.openPopup("div.popup-bottom."+e)}removePayeeFromFavorite(){var t,e;this.payeeDetails.beneVpa||(this.DataService.upiBenfAccNo=this.payeeDetails.beneAccount,this.DataService.upiBenfIfsc=this.payeeDetails.beneIfsc);let i=(new s.a).deserialize({isFavourite:"N",payeeName:this.payeeDetails.nickName,nickName:this.payeeDetails.nickName,payeeVPA:(null===(t=this.payeeDetails)||void 0===t?void 0:t.beneVpa)?null===(e=this.payeeDetails)||void 0===e?void 0:e.beneVpa:""});this.benificiaryService.getUserLocation();var c=this.benificiaryService.setAddBenificiaryRequest(i,!this.payeeDetails.beneVpa,!0,!!this.payeeDetails.beneVpa);this.closePopup("fav-popup"),this.UpiApiCall(c)}UpiApiCall(t){this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_PROCESSUPISERVICESESSION,!0).subscribe(t=>{let e=t.responseParameter.upiResponse;if("00"==e.status)switch(e.subActionId){case this.constant.upiserviceName_ADDBENIFICIARY:this.information=e.msg,this.DataService.fetchUPIbenificiaryLists=!0,this.commonMethods.openPopup("div.popup-bottom.show-fav-info"),this.getBenificiaryList()}},t=>{console.log("ERROR!",t)})}getBenificiaryList(){this.benificiaryService.getBenificiaryList().then(t=>{this.payeeList=this.DataService.favPayeeList})}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(n.c),a.Yb(o.a),a.Yb(r.a),a.Yb(p.a),a.Yb(c.n),a.Yb(h.a),a.Yb(l.a),a.Yb(u.a),a.Yb(d.a),a.Yb(v.a))},t.\u0275cmp=a.Sb({type:t,selectors:[["app-collect-search-contact-list"]],decls:56,vars:21,consts:[[1,"main"],[1,"right-main-column","minus-rt-col","mar-custom"],[1,"right-col-container"],[1,"body-page-container"],[1,"container-fluid"],[1,"row"],[1,"bg-section"],[1,"col-12"],[1,"row1"],[1,"col-sm-12","col-12","col-md-12"],["class","white-bg1",4,"ngIf"],[1,"white-bg1","pad-custom"],["class","unfound-info",4,"ngIf"],[1,"footer-container"],[1,"footer-inactions","minus-rt-col"],[1,"col-12","col-md-12","col-lg-12","text-center"],[1,"powered-logo","mt-0"],["src","assets/images/logo/powered-upi-logo.svg","alt","powered-upi-logo"],[1,"popup-bottom","fav-popup"],[1,"text-center"],[1,"row1","mt-2"],[1,"col-6","text-center"],[1,"ux-button","secondary","no","md","close-btn",3,"click"],[1,"logout-btn","ux-button","primary","md",3,"click"],[1,"popup-bottom","show-fav-info"],["src","./assets/images/svg/information.svg","alt","information-icon"],[1,"col-12","text-center",3,"click"],["type","button",1,"ux-button","primary","submit-btn"],[1,"white-bg1"],[1,"col-sm-12","col-12","col-md-12","p-0"],[1,"ux-input"],["type","text","required","",3,"placeholder","ngModel","pattern","ngModelChange"],["searchContact","ngModel"],["class","text-center error-message",4,"ngIf"],[1,"innerbg-section2","mt-4"],["class","contact-list",4,"ngIf"],[1,"text-center","error-message"],[1,"contact-list"],[4,"ngFor","ngForOf"],[3,"click"],[1,"list-lft"],[1,"green1"],[4,"ngIf"],[1,"list-rit",2,"overflow","hidden"],["class","star-btn2",3,"click",4,"ngIf"],[1,"star-btn2",3,"click"],["src","./assets/images/svg/star-active.svg","alt","star-icon"],[1,"unfound-info"]],template:function(t,e){1&t&&(a.ec(0,"div",0),a.ec(1,"div",1),a.ec(2,"div",2),a.ec(3,"div",3),a.ec(4,"div",4),a.ec(5,"div",5),a.ec(6,"div",6),a.ec(7,"div",7),a.ec(8,"div",8),a.ec(9,"div",9),a.Rc(10,R,11,7,"div",10),a.ec(11,"div",11),a.Rc(12,A,4,3,"div",12),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(13,"div",13),a.ec(14,"div",14),a.ec(15,"div",4),a.ec(16,"div",5),a.ec(17,"div",15),a.ec(18,"div",16),a.Zb(19,"img",17),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(20,"div",18),a.ec(21,"div",5),a.ec(22,"div",7),a.ec(23,"h4",19),a.Sc(24),a.qc(25,"translate"),a.dc(),a.dc(),a.dc(),a.ec(26,"div",5),a.ec(27,"div",7),a.ec(28,"p"),a.Sc(29),a.qc(30,"translate"),a.dc(),a.dc(),a.dc(),a.ec(31,"div",20),a.ec(32,"div",21),a.ec(33,"button",22),a.lc("click",(function(){return e.closePopup("fav-popup")})),a.Sc(34),a.qc(35,"translate"),a.dc(),a.dc(),a.ec(36,"div",21),a.ec(37,"button",23),a.lc("click",(function(){return e.removePayeeFromFavorite()})),a.Sc(38),a.qc(39,"translate"),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(40,"div",24),a.ec(41,"div",8),a.ec(42,"div",7),a.ec(43,"h4",19),a.Zb(44,"img",25),a.Sc(45),a.qc(46,"translate"),a.dc(),a.dc(),a.dc(),a.ec(47,"div",8),a.ec(48,"div",7),a.ec(49,"p"),a.Sc(50),a.dc(),a.dc(),a.dc(),a.ec(51,"div",20),a.ec(52,"div",26),a.lc("click",(function(){return e.closePopup("show-fav-info")})),a.ec(53,"button",27),a.Sc(54),a.qc(55,"translate"),a.dc(),a.dc(),a.dc(),a.dc()),2&t&&(a.Mb(10),a.uc("ngIf",e.payeeList.length>0),a.Mb(2),a.uc("ngIf",0==e.payeeList.length),a.Mb(12),a.Tc(a.rc(25,9,"REMOVE_FAVORITE")),a.Mb(5),a.Uc(" ",a.rc(30,11,"DO_YOU_WANT_TO_REMOVE_THIS_PAYEE_FROM_FAVORITE")," "),a.Mb(5),a.Tc(a.rc(35,13,"NO")),a.Mb(4),a.Tc(a.rc(39,15,"YES")),a.Mb(7),a.Uc(" ",a.rc(46,17,"INFORMATION")," "),a.Mb(5),a.Tc(e.information),a.Mb(4),a.Tc(a.rc(55,19,"OK")))},directives:[c.t,_.c,_.D,_.s,_.v,_.z,c.s],pipes:[g.a,y.a,f.a],styles:[".favIconPayee[_ngcontent-%COMP%]{padding-top:15px}"]}),t})()}];let E=(()=>{class t{}return t.\u0275mod=a.Wb({type:t}),t.\u0275inj=a.Vb({factory:function(e){return new(e||t)},imports:[[n.g.forChild(M)],n.g]}),t})();var O=i("PCNd");let D=(()=>{class t{}return t.\u0275mod=a.Wb({type:t}),t.\u0275inj=a.Vb({factory:function(e){return new(e||t)},imports:[[c.c,O.a,_.m,_.C,E]]}),t})()}}]);