(window.webpackJsonp=window.webpackJsonp||[]).push([[335],{h1bS:function(e,c,t){"use strict";t.r(c),t.d(c,"PendingRequestModule",(function(){return U}));var i=t("ofXK"),n=t("tyNb"),a=t("Z3pm"),d=t("wd/R"),s=t("fXoL"),o=t("EnSQ"),r=t("L7Xq"),l=t("5IsW"),p=t("H9Rt"),g=t("8vSS"),h=t("Eioz"),u=t("au7T"),v=t("3Pt+"),b=t("fUdP");function m(e,c){1&e&&(s.ec(0,"div",43),s.ec(1,"h6"),s.Sc(2),s.qc(3,"translate"),s.dc(),s.dc()),2&e&&(s.Mb(2),s.Uc(" ",s.rc(3,1,"NO_RECORD_FOUND"),""))}function S(e,c){if(1&e&&(s.ec(0,"h6",72),s.Sc(1),s.qc(2,"translate"),s.dc()),2&e){const e=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"TO_BE_SENT_TO")," ",e.payeeName," ")}}function f(e,c){if(1&e&&(s.ec(0,"h6",72),s.Sc(1),s.qc(2,"translate"),s.dc()),2&e){const e=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"REQUESTED_BY")," ",e.payeeName," ")}}function D(e,c){1&e&&(s.ec(0,"div",73),s.ec(1,"em"),s.Sc(2),s.qc(3,"translate"),s.dc(),s.dc()),2&e&&(s.Mb(2),s.Tc(s.rc(3,1,"MANDATE")))}function T(e,c){if(1&e){const e=s.fc();s.ec(0,"li",46),s.ec(1,"div",47),s.ec(2,"div",7),s.ec(3,"div",48),s.ec(4,"div",49),s.Rc(5,S,3,4,"h6",50),s.Rc(6,f,3,4,"h6",50),s.ec(7,"h5"),s.Sc(8),s.qc(9,"translate"),s.dc(),s.dc(),s.dc(),s.ec(10,"div",51),s.ec(11,"div",52),s.ec(12,"h5",53),s.Sc(13),s.qc(14,"customcurrency"),s.Rc(15,D,4,3,"div",54),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(16,"div",26),s.ec(17,"div",55),s.ec(18,"div",56),s.ec(19,"div",57),s.ec(20,"span"),s.Zb(21,"img",58),s.dc(),s.dc(),s.ec(22,"em"),s.Sc(23),s.qc(24,"translate"),s.dc(),s.ec(25,"h6"),s.Sc(26),s.dc(),s.dc(),s.dc(),s.ec(27,"div",55),s.ec(28,"div",56),s.ec(29,"div",57),s.ec(30,"span"),s.Zb(31,"img",59),s.dc(),s.dc(),s.ec(32,"em"),s.Sc(33),s.qc(34,"translate"),s.dc(),s.ec(35,"h6"),s.Sc(36),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(37,"div",26),s.ec(38,"div",60),s.ec(39,"div",61),s.ec(40,"em"),s.Sc(41),s.qc(42,"translate"),s.Zb(43,"br"),s.Sc(44),s.qc(45,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(46,"div",26),s.ec(47,"div",62),s.ec(48,"div",63),s.ec(49,"button",64),s.lc("click",(function(){s.Hc(e);const t=c.$implicit;return s.pc(2).navigateToPendingRequestDetails("setReminder",t)})),s.Zb(50,"img",65),s.Sc(51),s.qc(52,"translate"),s.dc(),s.ec(53,"button",64),s.lc("click",(function(){s.Hc(e);const t=c.$implicit;return s.pc(2).navigateToPendingRequestDetails("blockUPIId",t)})),s.Zb(54,"img",66),s.Sc(55),s.qc(56,"translate"),s.dc(),s.dc(),s.dc(),s.ec(57,"div",67),s.ec(58,"div",68),s.ec(59,"div",69),s.ec(60,"button",70),s.lc("click",(function(){s.Hc(e);const t=c.$implicit;return s.pc(2).navigateToPendingRequestDetails("reject",t)})),s.Sc(61),s.qc(62,"translate"),s.dc(),s.ec(63,"button",71),s.lc("click",(function(){s.Hc(e);const t=c.$implicit;return s.pc(2).acceptPendingReq("pendingConfirmation",t)})),s.Sc(64),s.qc(65,"translate"),s.qc(66,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc()}if(2&e){const e=c.$implicit;s.uc("ngClass",e.isSeen?"":"payment-list active"),s.Mb(5),s.uc("ngIf","MANDATE_NOTIFICATION"==e.notificationType),s.Mb(1),s.uc("ngIf","MANDATE_NOTIFICATION"!=e.notificationType),s.Mb(2),s.Vc("",s.rc(9,17,"UPI_ID")," : ",e.payeeAddress,""),s.Mb(5),s.Uc(" ",s.sc(14,19,e.amount,"symbol")," "),s.Mb(2),s.uc("ngIf","MANDATE_NOTIFICATION"==e.notificationType),s.Mb(8),s.Tc(s.rc(24,22,"EXPIRY_DATE_AND_TIME")),s.Mb(3),s.Uc(" ",e.expiredDate," "),s.Mb(7),s.Tc(s.rc(34,24,"REQUESTED_DATE_TIME")),s.Mb(3),s.Uc(" ",e.requestedDate," "),s.Mb(5),s.Uc(" ",s.rc(42,26,"PLEASE_NOTE_REQUESTED_AMOUNT_GET_DEBITED_FROM ")," "),s.Mb(3),s.Uc("",s.rc(45,28,"YOUR_ACCOUNT ")," "),s.Mb(7),s.Uc(" ",s.rc(52,30,"SET_REMINDER")," "),s.Mb(4),s.Uc(" ",s.rc(56,32,"BLOCK_UPI_ID"),""),s.Mb(6),s.Tc(s.rc(62,34,"REJECT")),s.Mb(3),s.Tc("MANDATE_NOTIFICATION"==e.notificationType?s.rc(65,36,"EXECUTE"):s.rc(66,38,"ACCEPT"))}}function I(e,c){if(1&e&&(s.ec(0,"ul",44),s.Rc(1,T,67,40,"li",45),s.dc()),2&e){const e=s.pc();s.Mb(1),s.uc("ngForOf",e.pendingWithMeList)}}function y(e,c){1&e&&(s.ec(0,"div",43),s.ec(1,"h6"),s.Sc(2),s.qc(3,"translate"),s.dc(),s.dc()),2&e&&(s.Mb(2),s.Uc(" ",s.rc(3,1,"NO_RECORD_FOUND"),""))}function M(e,c){if(1&e&&(s.ec(0,"h6",72),s.Sc(1),s.qc(2,"translate"),s.dc()),2&e){const e=s.pc().$implicit;s.Mb(1),s.Vc(" ",s.rc(2,2,"TO_BE_RECEIVED_FROM")," ",e.payerName," ")}}function E(e,c){if(1&e&&(s.ec(0,"h6",72),s.Sc(1),s.qc(2,"translate"),s.dc()),2&e){const e=s.pc().$implicit;s.Mb(1),s.Vc("",s.rc(2,2,"REQUESTED_TO")," ",e.payerName,"")}}function R(e,c){if(1&e){const e=s.fc();s.ec(0,"li",75),s.ec(1,"div",47),s.ec(2,"div",7),s.ec(3,"div",48),s.ec(4,"div",49),s.Rc(5,M,3,4,"h6",50),s.Rc(6,E,3,4,"h6",50),s.ec(7,"h5"),s.Sc(8),s.qc(9,"translate"),s.dc(),s.dc(),s.dc(),s.ec(10,"div",51),s.ec(11,"div",52),s.ec(12,"h5"),s.Sc(13),s.qc(14,"customcurrency"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(15,"div",26),s.ec(16,"div",55),s.ec(17,"div",56),s.ec(18,"div",57),s.ec(19,"span"),s.Zb(20,"img",58),s.dc(),s.dc(),s.ec(21,"em"),s.Sc(22),s.qc(23,"translate"),s.dc(),s.ec(24,"h6"),s.Sc(25),s.dc(),s.dc(),s.dc(),s.ec(26,"div",55),s.ec(27,"div",56),s.ec(28,"div",57),s.ec(29,"span"),s.Zb(30,"img",59),s.dc(),s.dc(),s.ec(31,"em"),s.Sc(32),s.qc(33,"translate"),s.dc(),s.ec(34,"h6"),s.Sc(35),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(36,"div",26),s.Zb(37,"div",62),s.ec(38,"div",67),s.ec(39,"div",68),s.ec(40,"div",69),s.ec(41,"button",70),s.lc("click",(function(){s.Hc(e);const t=c.$implicit;return s.pc(2).goToPendingByPayerDetailPage(t,"pendingPayerView")})),s.Sc(42),s.qc(43,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc()}if(2&e){const e=c.$implicit;s.uc("hidden","ONETIME"==e.frequency),s.Mb(5),s.uc("ngIf","MANDATE_NOTIFICATION"==(null==e?null:e.notificationType)),s.Mb(1),s.uc("ngIf",!(null!=e&&e.notificationType)),s.Mb(2),s.Vc("",s.rc(9,11,"UPI_ID")," : ",e.payerAddress,""),s.Mb(5),s.Uc("",s.sc(14,13,e.amount,"symbol")," "),s.Mb(9),s.Tc(s.rc(23,16,"EXPIRY_DATE_AND_TIME")),s.Mb(3),s.Uc(" ",e.expiredDate," "),s.Mb(7),s.Uc(" ",s.rc(33,18,"REQUESTED_DATE_TIME"),""),s.Mb(3),s.Uc(" ",e.requestedDate," "),s.Mb(7),s.Tc(s.rc(43,20,"VIEW"))}}function P(e,c){if(1&e&&(s.ec(0,"ul",44),s.Rc(1,R,44,22,"li",74),s.dc()),2&e){const e=s.pc();s.Mb(1),s.uc("ngForOf",e.pendingWithPayerList)}}const q=[{path:"",component:(()=>{class e{constructor(e,c,t,i,n,a,d,s,o,r){this.router=e,this.DataService=c,this.http=t,this.constant=i,this.localStorage=n,this.pendingReqService=a,this.location=d,this.ngZone=s,this.translatePipe=o,this.commonMethods=r,this.headerdata={headerType:"backUpiIdHeader",titleName:"PENDING_REQUEST",footertype:"none"},this.pendingWithMeList=[],this.pendingWithPayerList=[]}ngOnInit(){pendingRequest(),this.DataService.changeMessage(this.headerdata),this.getPendingRequest(),history.pushState({},"upiDashboard",this.location.prepareExternalUrl("upiDashboard")),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url)),this.DataService.enablePendingWithPayerTab?$("#payerTab").tab("show"):$("#meTab").tab("show")}goToPendingByPayerDetailPage(e,c){console.log(e),this.DataService.pendingByPayer=e,this.DataService.enablePendingWithPayerTab=!0,this.DataService.routeWithNgZone(c)}goToPendingWithMeDetailPage(e){console.log(e),this.DataService.pendingWithMe=e,this.setReqSeen(e),this.DataService.enablePendingWithPayerTab=!1,this.DataService.routeWithNgZone("pendingDetailView")}getPendingRequest(){var e=this.pendingReqService.setPendingRequest();this.UpiApiCall(e)}UpiApiCall(e){this.http.callBankingAPIService(e,this.localStorage.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_PROCESSUPISERVICESESSION,!0).subscribe(e=>{let c=e.responseParameter.upiResponse;if("00"==c.status)switch(c.subActionId){case this.constant.upiserviceName_PENDINGREQUESTS:console.log("PENDINGREQUESTS ",JSON.stringify(c));let e=(new a.a).deserialize(c.responseParameter);this.pendingWithMeList=[];var t=[];this.localStorage.hasKeyLocalStorage("pendingReqTransIDList")&&(t=JSON.parse(this.localStorage.getLocalStorage("pendingReqTransIDList"))),e.pendingWithMe.map(e=>{"ONETIME"!=e.frequency&&(this.localStorage.hasKeyLocalStorage("pendingReqTransIDList")&&t.length>0?t.map(c=>{c.isSeen&&c.txnId==e.txnId?e.isSeen=!0:t.push({txnId:e.txnId,isSeen:e.isSeen})}):(e.isSeen=!1,t.push({txnId:e.txnId,isSeen:e.isSeen})),this.pendingWithMeList.push(e))}),this.pendingWithMeList.forEach(e=>{e.expiredDateTimeStamp=e.expiredDate,e.expiredDate=d(e.expiredDate).format("DD MMM yyyy, hh:mm A"),console.log(e.expiredDate),e.requestedDate=d(e.requestedDate).format("DD MMM yyyy, hh:mm A")});var i=this.removeDuplicates(t,"txnId");this.localStorage.setLocalStorage("pendingReqTransIDList",JSON.stringify(i)),this.pendingWithPayerList=e.pendingByPayer,this.pendingWithPayerList.forEach(e=>{e.expiredDate=d(e.expiredDate).format("DD MMM yyyy, hh:mm A"),console.log(e.expiredDate),e.requestedDate=d(e.requestedDate).format("DD MMM yyyy, hh:mm A")})}},e=>{console.log("ERROR!",e)})}removeDuplicates(e,c){var t=[],i={};for(var n in e)i[e[n][c]]=e[n];for(n in i)t.push(i[n]);return t}navigateToPendingRequestDetails(e,c){switch(e){case"setReminder":this.DataService.isSetReminderClicked=!0,this.goToPendingWithMeDetailPage(c);break;case"blockUPIId":this.DataService.isBlockUPIIdClicked=!0,this.DataService.isRejectClicked=!1,this.goToPendingWithMeDetailPage(c);break;case"reject":this.DataService.isRejectClicked=!0,this.DataService.isBlockUPIIdClicked=!1,this.goToPendingWithMeDetailPage(c)}}acceptPendingReq(e,c){"pendingConfirmation"==e&&(this.DataService.pendingWithMe=c,this.setReqSeen(c),this.DataService.isAcceptClicked=!0,this.DataService.upiCollectVpaList=[],this.router.navigateByUrl("/"+e)),this.router.navigateByUrl("/"+e)}setReqSeen(e){var c=[];this.localStorage.hasKeyLocalStorage("pendingReqTransIDList")&&(c=JSON.parse(this.localStorage.getLocalStorage("pendingReqTransIDList"))).length>0&&(c.map(c=>{c.txnId==e.txnId&&(c.isSeen=!0)}),this.localStorage.setLocalStorage("pendingReqTransIDList",JSON.stringify(c)))}}return e.\u0275fac=function(c){return new(c||e)(s.Yb(n.c),s.Yb(o.a),s.Yb(r.a),s.Yb(l.a),s.Yb(p.a),s.Yb(g.a),s.Yb(i.n),s.Yb(s.H),s.Yb(h.a),s.Yb(u.a))},e.\u0275cmp=s.Sb({type:e,selectors:[["app-pending-request"]],decls:85,vars:10,consts:[[1,"right-main-column","minus-rt-col","mar-custom"],[1,"right-col-container","pad-b"],[1,"body-page-container"],[1,"container-fluid"],[1,"row"],[1,"bg-section"],[1,"col-12"],[1,"row1"],[1,"col-sm-12","col-12","col-md-12"],[1,"ux-nav-tabs",2,"margin","0"],[1,"responsive3"],["role","tablist",1,"nav","nav-tabs","nav-justified","bor-n"],[1,"nav-item"],["id","meTab","data-toggle","tab","href","#me",1,"nav-link"],["id","payerTab","data-toggle","tab","href","#payer",1,"nav-link"],[1,"tab-content","custom-tab-content","pt-0","pb-0"],["id","me",1,"tab-pane","active"],["class","unfound-info",4,"ngIf"],["class","payment-list",4,"ngIf"],["id","payer",1,"tab-pane","fade"],[1,"popup-bottom","filter1"],[1,"col-10"],[1,"col-2"],[1,"ux-button-icon"],["src","assets/images/svg/close-b.svg","alt","cross-icon",1,"img-vsmall"],["action","#","id","filter-form"],[1,"row1","mt-2"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"ux-input"],["for","upiId"],["required",""],["value",""],["value","9768245145@psb"],[1,"mb-0"],[1,"col-6"],["type","text","placeholder","DD/MM/YYYY",1,"datepicker1"],[1,"calendar-ic","cal-top"],["for",""],["value","Collect"],[1,"col-6","text-center"],["onclick","window.location.href = '#'",1,"ux-button","secondary","md"],["onclick","window.location.href = 'transaction-success.html'",1,"ux-button","primary","md"],[1,"ios-nav-overlay"],[1,"unfound-info"],[1,"payment-list"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"full-container","mb-0"],[1,"col-8","col-md-6"],[1,"left-info1"],["class","heading",4,"ngIf"],[1,"col-4","col-md-6"],[1,"right-info","mt-2"],[1,"cust-mar"],["class","overlap-badge2",4,"ngIf"],[1,"col-6","col-md-6"],[1,"left-info3"],[1,"icon-info"],["src","assets/images/svg/expiry-date.svg","alt","expiry-date-icon"],["src","assets/images/svg/requested-date.svg","alt","request-date-icon"],[1,"col-12","col-md-12"],[1,"full-info2"],[1,"col-5","col-md-6","pr-1","pl-2"],[1,"text-left"],[1,"ux-linkbutton","small-link-text","default",3,"click"],["src","assets/images/svg/reminder-g.svg","alt","reminder-icon"],["src","assets/images/svg/block-r.svg","alt","block-icon"],[1,"col-7","col-md-6","pl-1"],[1,"btn-section"],[1,"text-right"],[1,"ux-button","secondary","sm5",3,"click"],[1,"ux-button","primary","sm5",3,"click"],[1,"heading"],[1,"overlap-badge2"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"]],template:function(e,c){1&e&&(s.ec(0,"div",0),s.ec(1,"div",1),s.ec(2,"div",2),s.ec(3,"div",3),s.ec(4,"div",4),s.ec(5,"div",5),s.ec(6,"div",6),s.ec(7,"div",7),s.ec(8,"div",8),s.ec(9,"div",7),s.ec(10,"div",8),s.ec(11,"div",9),s.ec(12,"div",10),s.ec(13,"ul",11),s.ec(14,"li",12),s.ec(15,"a",13),s.Sc(16),s.qc(17,"translate"),s.dc(),s.dc(),s.ec(18,"li",12),s.ec(19,"a",14),s.Sc(20),s.qc(21,"translate"),s.dc(),s.dc(),s.dc(),s.ec(22,"div",15),s.ec(23,"div",16),s.ec(24,"div",7),s.ec(25,"div",8),s.Rc(26,m,4,3,"div",17),s.Rc(27,I,2,1,"ul",18),s.dc(),s.dc(),s.dc(),s.ec(28,"div",19),s.ec(29,"div",7),s.ec(30,"div",8),s.Rc(31,y,4,3,"div",17),s.Rc(32,P,2,1,"ul",18),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(33,"div",20),s.ec(34,"div",7),s.ec(35,"div",21),s.ec(36,"h4"),s.Sc(37,"Filter"),s.dc(),s.dc(),s.ec(38,"div",22),s.ec(39,"button",23),s.Zb(40,"img",24),s.dc(),s.dc(),s.dc(),s.ec(41,"form",25),s.ec(42,"div",26),s.ec(43,"div",27),s.ec(44,"div",28),s.ec(45,"label",29),s.Sc(46,"UPI ID"),s.dc(),s.ec(47,"select",30),s.ec(48,"option",31),s.Sc(49,"Select"),s.dc(),s.ec(50,"option",32),s.Sc(51,"9768245145@psb"),s.dc(),s.dc(),s.Zb(52,"p",33),s.dc(),s.dc(),s.dc(),s.ec(53,"div",7),s.ec(54,"div",34),s.ec(55,"div",28),s.ec(56,"label"),s.Sc(57,"Start Date"),s.dc(),s.Zb(58,"input",35),s.Zb(59,"em",36),s.dc(),s.dc(),s.ec(60,"div",34),s.ec(61,"div",28),s.ec(62,"label"),s.Sc(63,"End Date"),s.dc(),s.Zb(64,"input",35),s.Zb(65,"em",36),s.dc(),s.dc(),s.dc(),s.ec(66,"div",7),s.ec(67,"div",27),s.ec(68,"div",28),s.ec(69,"label",37),s.Sc(70,"Transaction Type"),s.dc(),s.ec(71,"select",30),s.ec(72,"option",31),s.Sc(73,"Select"),s.dc(),s.ec(74,"option",38),s.Sc(75,"Collect"),s.dc(),s.dc(),s.Zb(76,"p",33),s.dc(),s.dc(),s.dc(),s.ec(77,"div",26),s.ec(78,"div",39),s.ec(79,"button",40),s.Sc(80,"Clear"),s.dc(),s.dc(),s.ec(81,"div",39),s.ec(82,"button",41),s.Sc(83,"Apply"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.Zb(84,"div",42)),2&e&&(s.Mb(16),s.Uc(" ",s.rc(17,6,"PENDING_WITH_ME")," "),s.Mb(4),s.Uc(" ",s.rc(21,8,"PENDING_WITH_PAYER")," "),s.Mb(6),s.uc("ngIf",0==c.pendingWithMeList.length),s.Mb(1),s.uc("ngIf",c.pendingWithMeList.length>0),s.Mb(4),s.uc("ngIf",0==c.pendingWithPayerList.length),s.Mb(1),s.uc("ngIf",c.pendingWithPayerList.length>0))},directives:[i.t,v.I,v.t,v.u,v.x,v.H,i.s,i.q],pipes:[h.a,b.a],styles:[""]}),e})()}];let N=(()=>{class e{}return e.\u0275mod=s.Wb({type:e}),e.\u0275inj=s.Vb({factory:function(c){return new(c||e)},imports:[[n.g.forChild(q)],n.g]}),e})();var _=t("PCNd");let U=(()=>{class e{}return e.\u0275mod=s.Wb({type:e}),e.\u0275inj=s.Vb({factory:function(c){return new(c||e)},imports:[[i.c,v.m,v.C,_.a,N]]}),e})()}}]);