(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{GIhK:function(c,e,t){"use strict";t.r(e),t.d(e,"ComplaintViewDetailsModule",(function(){return C}));var i=t("ofXK"),a=t("tyNb"),n=t("wd/R"),d=t("fXoL"),s=t("EnSQ"),o=t("L7Xq"),l=t("5IsW"),r=t("H9Rt"),p=t("S9kW"),m=t("au7T"),u=t("Eioz"),v=t("fUdP"),h=t("AIZJ");function b(c,e){if(1&c&&(d.ec(0,"li"),d.ec(1,"div",12),d.ec(2,"div",8),d.ec(3,"div",13),d.ec(4,"div",14),d.ec(5,"h6"),d.Sc(6),d.qc(7,"translate"),d.dc(),d.ec(8,"h5"),d.Sc(9),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc()),2&c){const c=d.pc();d.Mb(6),d.Tc(d.rc(7,2,"TRANSACTION_DATE")),d.Mb(3),d.Tc(c.complaint.transactionDate)}}function T(c,e){if(1&c&&(d.ec(0,"li"),d.ec(1,"div",12),d.ec(2,"div",8),d.ec(3,"div",13),d.ec(4,"div",14),d.ec(5,"h6"),d.Sc(6),d.qc(7,"translate"),d.dc(),d.ec(8,"h5"),d.Sc(9),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc()),2&c){const c=d.pc();d.Mb(6),d.Tc(d.rc(7,2,"COMPLAINT_DATE")),d.Mb(3),d.Tc(c.complaint.feedbackTime)}}function f(c,e){if(1&c&&(d.ec(0,"li"),d.ec(1,"div",12),d.ec(2,"div",8),d.ec(3,"div",13),d.ec(4,"div",14),d.ec(5,"h6"),d.Sc(6),d.qc(7,"translate"),d.dc(),d.ec(8,"h5"),d.Sc(9),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc()),2&c){const c=d.pc();d.Mb(6),d.Tc(d.rc(7,2,"UMN")),d.Mb(3),d.Tc(c.complaint.umn)}}function y(c,e){if(1&c&&(d.ec(0,"li"),d.ec(1,"div",12),d.ec(2,"div",8),d.ec(3,"div",13),d.ec(4,"div",14),d.ec(5,"h6"),d.Sc(6),d.qc(7,"translate"),d.dc(),d.ec(8,"h5"),d.Sc(9),d.qc(10,"customcurrency"),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc()),2&c){const c=d.pc();d.Mb(6),d.Tc(d.rc(7,2,"AMOUNT")),d.Mb(3),d.Tc(d.sc(10,4,c.complaint.txnAmount,"symbol"))}}function S(c,e){if(1&c&&(d.ec(0,"h5"),d.ec(1,"span"),d.Sc(2),d.qc(3,"translate"),d.dc(),d.dc()),2&c){const c=d.pc(2);d.Mb(2),d.Vc("",d.rc(3,2,"UPI_ID")," : ",null==c.complaint?null:c.complaint.payerAddr,"")}}function M(c,e){if(1&c&&(d.ec(0,"h5"),d.ec(1,"span"),d.Sc(2),d.qc(3,"translate"),d.qc(4,"maskAccountNo"),d.dc(),d.dc()),2&c){const c=d.pc(2);d.Mb(2),d.Wc("",d.rc(3,3,"ACCOUNT_AND_IFSC")," : ",d.rc(4,5,c.payerPaymentType[1]),"/",c.payerPaymentType[2],"")}}function g(c,e){if(1&c&&(d.ec(0,"li"),d.ec(1,"div",12),d.ec(2,"div",8),d.ec(3,"div",13),d.ec(4,"div",14),d.ec(5,"h6"),d.Sc(6),d.qc(7,"translate"),d.dc(),d.Rc(8,S,4,4,"h5",15),d.Rc(9,M,5,7,"h5",15),d.dc(),d.dc(),d.dc(),d.dc(),d.dc()),2&c){const c=d.pc();d.Mb(6),d.Tc(d.rc(7,3,"PAYER")),d.Mb(2),d.uc("ngIf","vpa"==c.payerPaymentType[0]),d.Mb(1),d.uc("ngIf","ifsc"==c.payerPaymentType[0]||"mmid"==c.payerPaymentType[0])}}function I(c,e){if(1&c&&(d.ec(0,"h5"),d.ec(1,"span"),d.Sc(2),d.qc(3,"translate"),d.dc(),d.dc()),2&c){const c=d.pc(2);d.Mb(2),d.Vc("",d.rc(3,2,"UPI_ID")," : ",null==c.complaint?null:c.complaint.payeeAddr,"")}}function A(c,e){if(1&c&&(d.ec(0,"h5"),d.ec(1,"span"),d.Sc(2),d.qc(3,"translate"),d.qc(4,"maskAccountNo"),d.dc(),d.dc()),2&c){const c=d.pc(2);d.Mb(2),d.Wc("",d.rc(3,3,"ACCOUNT_AND_IFSC")," : ",d.rc(4,5,c.payeePaymentType[1]),"/",c.payeePaymentType[2],"")}}function P(c,e){if(1&c&&(d.ec(0,"li"),d.ec(1,"div",12),d.ec(2,"div",8),d.ec(3,"div",13),d.ec(4,"div",14),d.ec(5,"h6"),d.Sc(6),d.qc(7,"translate"),d.dc(),d.Rc(8,I,4,4,"h5",15),d.Rc(9,A,5,7,"h5",15),d.dc(),d.dc(),d.dc(),d.dc(),d.dc()),2&c){const c=d.pc();d.Mb(6),d.Tc(d.rc(7,3,"PAYEE")),d.Mb(2),d.uc("ngIf","vpa"==c.payeePaymentType[0]),d.Mb(1),d.uc("ngIf","ifsc"==c.payeePaymentType[0]||"mmid"==c.payeePaymentType[0])}}function R(c,e){if(1&c){const c=d.fc();d.ec(0,"div",30),d.ec(1,"div",31),d.ec(2,"div",4),d.ec(3,"div",5),d.ec(4,"div",32),d.ec(5,"button",33),d.lc("click",(function(){return d.Hc(c),d.pc().escalateReq()})),d.Sc(6),d.qc(7,"translate"),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc()}2&c&&(d.Mb(6),d.Tc(d.rc(7,1,"ESCALATE_COMPLAINT")))}const N=[{path:"",component:(()=>{class c{constructor(c,e,t,i,a,n,d,s){this.router=c,this.DataService=e,this.http=t,this.constant=i,this.localStorage=a,this.complaintService=n,this.commonMethods=d,this.location=s,this.escalateRequest=!1,this.headerdata={headerType:"TitleClose",titleName:"VIEW_DETAILS",footertype:"none"}}ngOnInit(){this.complaint=this.DataService.complaint,this.payeePaymentType=this.getPaymentTypeNValue(this.complaint.payeeAddr),this.payerPaymentType=this.getPaymentTypeNValue(this.complaint.payerAddr),this.DataService.changeMessage(this.headerdata),history.pushState({},"complaint",this.location.prepareExternalUrl("complaint")),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url)),raiseComplaintDetails(),this.checkExpiryDate()}checkExpiryDate(){let c=n(this.complaint.feedbackTime).toDate(),e=n().diff(c,"days");e>=3&&"OPEN"==this.complaint.status&&(this.escalateRequest=!0),console.log("expiryDate ",e)}goToPage(c){this.router.navigateByUrl("/"+c)}escalateReq(){var c=this.complaintService.getEscalateRequest(this.complaint);this.UpiApiCall(c)}UpiApiCall(c){this.http.callBankingAPIService(c,this.localStorage.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_PROCESSUPISERVICESESSION,!0).subscribe(c=>{let e=c.responseParameter.upiResponse;if(this.escalateResp=e,"00"==e.status)switch(e.subActionId){case this.constant.upiserviceName_ESCALATECOMPLAINT:this.commonMethods.openPopup("div.popup-bottom.escalate-success")}else switch(e.subActionId){case this.constant.upiserviceName_ESCALATECOMPLAINT:this.commonMethods.openPopup("div.popup-bottom.escalate-fail")}},c=>{console.log("ERROR!",c)})}closePopup(c){this.router.navigateByUrl("/complaint"),this.commonMethods.closePopup(c)}getPaymentTypeNValue(c){var e=[];let t=c;return-1!=c.indexOf("ifsc")?(e[0]="ifsc",t=t.replace(".","@"),t=t.split("@"),e[1]=t[0],e[2]=t[1]):-1!=c.indexOf("mmid")?(e[0]="mmid",t=t.replace(".","@"),t=t.split("@"),e[1]=t[0],e[2]=t[1]):(e[0]="vpa",e[1]=t),e}}return c.\u0275fac=function(e){return new(e||c)(d.Yb(a.c),d.Yb(s.a),d.Yb(o.a),d.Yb(l.a),d.Yb(r.a),d.Yb(p.a),d.Yb(m.a),d.Yb(i.n))},c.\u0275cmp=d.Sb({type:c,selectors:[["app-complaint-view-details"]],decls:133,vars:56,consts:[[1,"main"],[1,"right-main-column","minus-rt-col","mar-custom"],[1,"right-col-container"],[1,"body-page-container"],[1,"container-fluid"],[1,"row"],[1,"bg-section"],[1,"col-12"],[1,"row1"],[1,"col-sm-12","col-12","col-md-12"],[1,"white-bg1","pad-custom"],[1,"complaint-list"],[1,"full-container"],[1,"col-12","col-md-12"],[1,"left-info"],[4,"ngIf"],["class","footer-container sticky-actions",4,"ngIf"],[1,"popup-bottom","escalate-success"],["id","success-form"],[1,"row","mt-3"],[1,"success"],["src","assets/images/svg/check.svg","alt","success-icon"],[1,"row1","mt-3"],[1,"col-12","text-center",3,"click"],["type","button",1,"ux-button","primary","md"],[1,"popup-bottom","escalate-fail"],[1,"text-center"],["src","./assets/images/svg/information.svg","alt","information-icon"],[1,"row1","mt-2"],["type","button",1,"ux-button","primary","submit-btn"],[1,"footer-container","sticky-actions"],[1,"footer-inactions","minus-rt-col"],[1,"col-12","col-md-12","col-lg-12","text-center"],[1,"complaint-btn","ux-button","primary","md",3,"click"]],template:function(c,e){1&c&&(d.ec(0,"div",0),d.ec(1,"div",1),d.ec(2,"div",2),d.ec(3,"div",3),d.ec(4,"div",4),d.ec(5,"div",5),d.ec(6,"div",6),d.ec(7,"div",7),d.ec(8,"div",8),d.ec(9,"div",9),d.ec(10,"div",10),d.ec(11,"ul",11),d.ec(12,"li"),d.ec(13,"div",12),d.ec(14,"div",8),d.ec(15,"div",13),d.ec(16,"div",14),d.ec(17,"h6"),d.Sc(18),d.qc(19,"translate"),d.dc(),d.ec(20,"h5"),d.Sc(21),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.Rc(22,b,10,4,"li",15),d.Rc(23,T,10,4,"li",15),d.ec(24,"li"),d.ec(25,"div",12),d.ec(26,"div",8),d.ec(27,"div",13),d.ec(28,"div",14),d.ec(29,"h6"),d.Sc(30),d.qc(31,"translate"),d.dc(),d.ec(32,"h5"),d.Sc(33),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.ec(34,"li"),d.ec(35,"div",12),d.ec(36,"div",8),d.ec(37,"div",13),d.ec(38,"div",14),d.ec(39,"h6"),d.Sc(40),d.qc(41,"translate"),d.dc(),d.ec(42,"h5"),d.Sc(43),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.ec(44,"li"),d.ec(45,"div",12),d.ec(46,"div",8),d.ec(47,"div",13),d.ec(48,"div",14),d.ec(49,"h6"),d.Sc(50),d.qc(51,"translate"),d.dc(),d.ec(52,"h5"),d.Sc(53),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.ec(54,"li"),d.ec(55,"div",12),d.ec(56,"div",8),d.ec(57,"div",13),d.ec(58,"div",14),d.ec(59,"h6"),d.Sc(60),d.qc(61,"translate"),d.dc(),d.ec(62,"h5"),d.Sc(63),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.ec(64,"li"),d.ec(65,"div",12),d.ec(66,"div",8),d.ec(67,"div",13),d.ec(68,"div",14),d.ec(69,"h6"),d.Sc(70),d.qc(71,"translate"),d.dc(),d.ec(72,"h5"),d.Sc(73),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.Rc(74,f,10,4,"li",15),d.ec(75,"li"),d.ec(76,"div",12),d.ec(77,"div",8),d.ec(78,"div",13),d.ec(79,"div",14),d.ec(80,"h6"),d.Sc(81),d.qc(82,"translate"),d.dc(),d.ec(83,"h5"),d.Sc(84),d.qc(85,"titlecase"),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.ec(86,"li"),d.ec(87,"div",12),d.ec(88,"div",8),d.ec(89,"div",13),d.ec(90,"div",14),d.ec(91,"h6"),d.Sc(92),d.qc(93,"translate"),d.dc(),d.ec(94,"h5"),d.Sc(95),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.Rc(96,y,11,7,"li",15),d.Rc(97,g,10,5,"li",15),d.Rc(98,P,10,5,"li",15),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.Rc(99,R,8,3,"div",16),d.dc(),d.dc(),d.dc(),d.ec(100,"div",17),d.ec(101,"form",18),d.ec(102,"div",19),d.ec(103,"div",20),d.Zb(104,"img",21),d.ec(105,"h3"),d.Sc(106),d.qc(107,"translate"),d.dc(),d.ec(108,"h5"),d.Sc(109),d.ec(110,"a"),d.Sc(111),d.dc(),d.dc(),d.dc(),d.dc(),d.ec(112,"div",22),d.ec(113,"div",23),d.lc("click",(function(){return e.closePopup("div.popup-bottom.escalate-success")})),d.ec(114,"button",24),d.Sc(115),d.qc(116,"translate"),d.dc(),d.dc(),d.dc(),d.dc(),d.dc(),d.ec(117,"div",25),d.ec(118,"div",8),d.ec(119,"div",7),d.ec(120,"h4",26),d.Zb(121,"img",27),d.Sc(122),d.qc(123,"translate"),d.dc(),d.dc(),d.dc(),d.ec(124,"div",8),d.ec(125,"div",7),d.ec(126,"p"),d.Sc(127),d.dc(),d.dc(),d.dc(),d.ec(128,"div",28),d.ec(129,"div",23),d.lc("click",(function(){return e.closePopup("div.popup-bottom.escalate-fail")})),d.ec(130,"button",29),d.Sc(131),d.qc(132,"translate"),d.dc(),d.dc(),d.dc(),d.dc()),2&c&&(d.Mb(18),d.Tc(d.rc(19,30,"TRANSACTION_ID")),d.Mb(3),d.Tc(e.complaint.transactionID),d.Mb(1),d.uc("ngIf",null==e.complaint?null:e.complaint.transactionDate),d.Mb(1),d.uc("ngIf",null==e.complaint?null:e.complaint.feedbackTime),d.Mb(7),d.Tc(d.rc(31,32,"EMAIL_ID")),d.Mb(3),d.Tc(e.complaint.customerEmail),d.Mb(7),d.Tc(d.rc(41,34,"RRN_NUMBER")),d.Mb(3),d.Tc(e.complaint.rrn),d.Mb(7),d.Tc(d.rc(51,36,"COMPLAINT_TYPE")),d.Mb(3),d.Tc(e.complaint.complaintType),d.Mb(7),d.Tc(d.rc(61,38,"SUBJECT")),d.Mb(3),d.Tc(e.complaint.subject),d.Mb(7),d.Tc(d.rc(71,40,"DESCRIPTION")),d.Mb(3),d.Tc(e.complaint.description),d.Mb(1),d.uc("ngIf","mandate"==e.complaint.complaintType.toLowerCase()),d.Mb(7),d.Tc(d.rc(82,42,"STATUS")),d.Mb(3),d.Tc(d.rc(85,44,e.complaint.status)),d.Mb(8),d.Tc(d.rc(93,46,"COMPLAINT_ID")),d.Mb(3),d.Tc(e.complaint.complaintNo),d.Mb(1),d.uc("ngIf",e.complaint.txnAmount),d.Mb(1),d.uc("ngIf",e.complaint.txnAmount),d.Mb(1),d.uc("ngIf",null==e.complaint?null:e.complaint.payeeAddr),d.Mb(1),d.uc("ngIf","N"==e.complaint.escalate),d.Mb(7),d.Tc(d.rc(107,48,"SUCCESS")),d.Mb(3),d.Uc("",null==e.escalateResp?null:e.escalateResp.msg," "),d.Mb(2),d.Tc(null==e.escalateResp?null:e.escalateResp.responseParameter.emailId),d.Mb(4),d.Tc(d.rc(116,50,"OK")),d.Mb(7),d.Uc(" ",d.rc(123,52,"INFORMATION")," "),d.Mb(5),d.Tc(null==e.escalateResp?null:e.escalateResp.msg),d.Mb(4),d.Tc(d.rc(132,54,"OK")))},directives:[i.t],pipes:[u.a,i.F,v.a,h.a],styles:[""]}),c})()}];let q=(()=>{class c{}return c.\u0275mod=d.Wb({type:c}),c.\u0275inj=d.Vb({factory:function(e){return new(e||c)},imports:[[a.g.forChild(N)],a.g]}),c})();var E=t("PCNd");let C=(()=>{class c{}return c.\u0275mod=d.Wb({type:c}),c.\u0275inj=d.Vb({factory:function(e){return new(e||c)},imports:[[i.c,E.a,q]]}),c})()}}]);