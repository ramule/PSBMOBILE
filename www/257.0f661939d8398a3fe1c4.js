(window.webpackJsonp=window.webpackJsonp||[]).push([[257],{ZpRK:function(e,t,i){"use strict";i.r(t),i.d(t,"NomineeOverviewModule",(function(){return k}));var c=i("PCNd"),a=i("3Pt+"),n=i("ofXK"),o=i("tyNb"),s=i("wd/R"),r=i("fXoL"),d=i("EnSQ"),h=i("L7Xq"),l=i("H9Rt"),m=i("5IsW"),v=i("fHQ/"),u=i("au7T");let D=(()=>{class e{constructor(e,t,i,c,a){this.constant=e,this.encryptDecryptService=t,this.storage=i,this.dataService=c,this.commonMethod=a}getNomineeData(e,t){var i=t+"|"+e,c={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_RRN]:this.commonMethod.genRandomDigit(9),[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_referenceNumber]:this.commonMethod.genRandomDigit(9),[this.constant.key_inquiryNomineeData]:i};return console.log(" Nominee Data :: =>  ",JSON.stringify(c)),console.log(this.storage.getSessionStorage(this.constant.val_sessionKey)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(c))}}return e.\u0275fac=function(t){return new(t||e)(r.ic(m.a),r.ic(v.a),r.ic(l.a),r.ic(d.a),r.ic(u.a))},e.\u0275prov=r.Ub({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=i("TtVY"),S=i("Eioz");function b(e,t){if(1&e){const e=r.fc();r.ec(0,"li"),r.ec(1,"a",24),r.lc("click",(function(){r.Hc(e);const i=t.$implicit;return r.pc().DataService.breadcrumroute(i.routeName)})),r.Sc(2),r.qc(3,"translate"),r.dc(),r.dc()}if(2&e){const e=t.$implicit;r.Mb(2),r.Tc(r.rc(3,1,e.currentRoute))}}function p(e,t){if(1&e&&(r.ec(0,"h5"),r.Sc(1),r.dc()),2&e){const e=r.pc(3);r.Mb(1),r.Tc(e.relationname)}}function f(e,t){if(1&e&&(r.ec(0,"h5"),r.Sc(1),r.dc()),2&e){const e=r.pc(3);r.Mb(1),r.Uc(" ",e.date,"")}}function y(e,t){if(1&e&&(r.ec(0,"div",31),r.ec(1,"div",5),r.ec(2,"h6"),r.Sc(3,"Guardian Name"),r.dc(),r.ec(4,"h5"),r.Sc(5),r.dc(),r.dc(),r.dc()),2&e){const e=r.pc().$implicit;r.Mb(5),r.Tc(e.guardianName)}}function N(e,t){if(1&e&&(r.ec(0,"div",31),r.ec(1,"div",5),r.ec(2,"h6"),r.Sc(3,"Guardian Address"),r.dc(),r.ec(4,"h5"),r.Sc(5),r.dc(),r.dc(),r.dc()),2&e){const e=r.pc().$implicit;r.Mb(5),r.Tc(e.guardianAddress)}}function M(e,t){if(1&e&&(r.ec(0,"div",28),r.ec(1,"div",29),r.ec(2,"div",30),r.ec(3,"div",31),r.ec(4,"div",5),r.ec(5,"h6"),r.Sc(6,"Nominee Name"),r.dc(),r.ec(7,"h5"),r.Sc(8),r.dc(),r.dc(),r.dc(),r.ec(9,"div",31),r.ec(10,"div",5),r.ec(11,"h6"),r.Sc(12,"Account Number"),r.dc(),r.ec(13,"h5"),r.Sc(14),r.dc(),r.dc(),r.dc(),r.ec(15,"div",31),r.ec(16,"div",5),r.ec(17,"h6"),r.Sc(18,"Relationship with Nominee"),r.dc(),r.Rc(19,p,2,1,"h5",32),r.dc(),r.dc(),r.ec(20,"div",31),r.ec(21,"div",5),r.ec(22,"h6"),r.Sc(23,"Date of Birth"),r.dc(),r.Rc(24,f,2,1,"h5",32),r.dc(),r.dc(),r.Rc(25,y,6,1,"div",33),r.Rc(26,N,6,1,"div",33),r.ec(27,"div",31),r.ec(28,"div",5),r.ec(29,"h6"),r.Sc(30,"Address Line 1"),r.dc(),r.ec(31,"h5"),r.Sc(32),r.dc(),r.dc(),r.dc(),r.ec(33,"div",31),r.ec(34,"div",5),r.ec(35,"h6"),r.Sc(36,"Address Line 2"),r.dc(),r.ec(37,"h5"),r.Sc(38),r.dc(),r.dc(),r.dc(),r.ec(39,"div",31),r.ec(40,"div",5),r.ec(41,"h6"),r.Sc(42,"State"),r.dc(),r.ec(43,"h5"),r.Sc(44),r.dc(),r.dc(),r.dc(),r.ec(45,"div",31),r.ec(46,"div",5),r.ec(47,"h6"),r.Sc(48,"City"),r.dc(),r.ec(49,"h5"),r.Sc(50),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc()),2&e){const e=t.$implicit,i=r.pc(2);r.Mb(8),r.Tc(e.nomineeName),r.Mb(6),r.Tc(i.accountData.account),r.Mb(5),r.uc("ngIf",""!=i.relationname),r.Mb(5),r.uc("ngIf",""!=i.date),r.Mb(1),r.uc("ngIf","Y"==i.DataService.minorFlagNominee),r.Mb(1),r.uc("ngIf","Y"==i.DataService.minorFlagNominee),r.Mb(6),r.Uc(" ",i.nomineeAddress1,""),r.Mb(6),r.Uc(" ",i.nomineeAddress2,""),r.Mb(6),r.Uc(" ",i.stateValue,""),r.Mb(6),r.Uc(" ",i.cityValue,"")}}function A(e,t){if(1&e){const e=r.fc();r.ec(0,"ul",34),r.ec(1,"li"),r.ec(2,"div",35),r.ec(3,"button",36),r.lc("click",(function(){return r.Hc(e),r.pc(2).goToPage("myAccountsInfo")})),r.Sc(4,"Back"),r.dc(),r.dc(),r.ec(5,"div",35),r.ec(6,"button",37),r.lc("click",(function(){return r.Hc(e),r.pc(2).updateNominee()})),r.Sc(7,"Modify"),r.dc(),r.dc(),r.dc(),r.dc()}}function O(e,t){if(1&e){const e=r.fc();r.ec(0,"ul",34),r.ec(1,"li"),r.ec(2,"div",35),r.ec(3,"button",36),r.lc("click",(function(){return r.Hc(e),r.pc(2).goToPage("myAccountsInfo")})),r.Sc(4,"Cancel"),r.dc(),r.dc(),r.ec(5,"div",35),r.ec(6,"button",37),r.lc("click",(function(){return r.Hc(e),r.pc(2).nomineeOverviewConfirm()})),r.Sc(7,"Confirm "),r.dc(),r.dc(),r.dc(),r.dc()}}function I(e,t){if(1&e&&(r.ec(0,"div",13),r.Rc(1,M,51,10,"div",25),r.ec(2,"div",26),r.Rc(3,A,8,0,"ul",27),r.Rc(4,O,8,0,"ul",27),r.dc(),r.dc()),2&e){const e=r.pc();r.Mb(1),r.uc("ngForOf",e.nomineeList),r.Mb(2),r.uc("ngIf","myAccountsInfo"==e.DataService.previousPageUrl),r.Mb(1),r.uc("ngIf","nomineeDetails"==e.DataService.previousPageUrl||"addNomineeDetails"==e.DataService.previousPageUrl)}}const R=[{path:"",component:(()=>{class e{constructor(e,t,i,c,a,n,o,r,d){this.router=e,this.DataService=t,this.http=i,this.storage=c,this.constant=a,this.nomineeOverviewService=n,this.location=o,this.datePipe=r,this.nomineeDetailService=d,this.nomineeList=[],this.stateCode="",this.cityCode="",this.nomineeCityList=[],this.currentDate=s().toDate(),this.nomineeAge=18}ngOnInit(){this.DataService.setShowThemeObservable(!0),this.DataService.setShowsideNavObservable(!0),this.DataService.setShowNotificationObservable(!0),this.DataService.getBreadcrumb("OVERVIEW",this.router.url),this.accountData=this.location.getState(),this.accountData&&(this.accountData={},this.accountData.account=this.DataService.selectedNomineeAccNo),console.log("Account Data :: ",this.accountData),"myAccountsInfo"==this.DataService.previousPageUrl?(this.getNomineeDetails(),console.log("Nominee List :: ",this.nomineeList)):(this.nomineeList=[this.DataService.nomineeDetailsData],console.log("nominee data coming from add nominee",this.nomineeList),this.relationname=this.DataService.nomineeDetailsData.nomineeDtl,this.date=this.datePipe.transform(this.DataService.nomineeDetailsData.dob,"dd/MM/yyyy"),this.nomineeAddress1=this.DataService.nomineeDetailsData.address1,this.nomineeAddress2=this.DataService.nomineeDetailsData.address2,this.stateValue=this.DataService.nomineeDetailsData.stateDtl,this.cityValue=this.DataService.nomineeDetailsData.cityDtl),this.DataService.setPageSettings("Nominee Overview"),history.pushState({},this.DataService.previousPageUrl,this.location.prepareExternalUrl(this.DataService.previousPageUrl)),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url))}updateNominee(){this.router.navigateByUrl("/nomineeDetails",{state:{nominee:this.nomineeList,account:this.accountData.account}})}goToPage(e){this.router.navigateByUrl("/"+e)}onDateChange(e){var t=Math.floor(this.currentDate-e),i=Math.floor(t/864e5),c=Math.floor(i/31);this.nomineeAge=Math.floor(c/12),this.minorFlag=this.nomineeAge<18?"Y":"N",this.DataService.minorFlagNominee=this.minorFlag}getNomineeDetails(){var e=this.nomineeOverviewService.getNomineeData(this.accountData.account,this.DataService.userDetails.cifNumber);this.http.callBankingAPIService(e,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_InquiryNomineeValidation).subscribe(e=>{var t=e.responseParameter;"00"==t.opstatus?(console.log("Nominneeeeeeeeee ka data 22222222:::::",e.set.records),this.nomineeList=e.set.records,""!=this.nomineeList.nomineeDob&&null!=this.nomineeList.nomineeDob?this.onDateChange(this.datePipe.transform(this.nomineeList[0].nomineeDob.replace(/(\d{2})-(\d{2})-(\d{4})/,"$2/$1/$3"),"dd/MM/yyyy")):this.DataService.minorFlagNominee="N",this.date=this.datePipe.transform(this.nomineeList[0].nomineeDob.replace(/(\d{2})-(\d{2})-(\d{4})/,"$2/$1/$3"),"dd/MM/yyyy"),this.relationname=t.nomineeRelationship,this.nomineeAddress1=this.nomineeList[0].nomineeAddress1,this.nomineeAddress2=this.nomineeList[0].nomineeAddress2,this.stateValue=t.stateCode,this.cityValue=t.cityCode):this.errorCallBack(e.subActionId,t)})}errorCallBack(e,t){showToastMessage(t.Result,"error")}nomineeOverviewConfirm(){var e=this.datePipe.transform(this.DataService.nomineeDetailsData.dob,"dd-MM-yyyy"),t=this.DataService.activitySettingData.findIndex(e=>e.ACTIVITYNAME==this.DataService.endPoint.split("/")[1]);"Y"==this.DataService.activitySettingData[t].OTPALLOWED?(this.DataService.endPoint=this.constant.serviceName_ADDNOMINEEDATA,this.DataService.nomineeReceiptObj.nomineeName=this.DataService.nomineeDetailsData.nomineeName,this.DataService.nomineeReceiptObj.nomineeRelationship=this.DataService.nomineeDetailsData.nomineeDtl,this.DataService.nomineeReceiptObj.address1=this.DataService.nomineeDetailsData.address1,this.DataService.nomineeReceiptObj.address2=this.DataService.nomineeDetailsData.address2,this.DataService.nomineeReceiptObj.dateOfBirth=e,this.DataService.nomineeReceiptObj.minorFlag=this.DataService.nomineeDetailsData.minorFlag,this.DataService.nomineeReceiptObj.guardianName=this.DataService.nomineeDetailsData.guardianName,this.DataService.nomineeReceiptObj.guardianAddress=this.DataService.nomineeDetailsData.guardianAddress,this.DataService.nomineeReceiptObj.state=this.DataService.nomineeDetailsData.stateDtl,this.DataService.nomineeReceiptObj.city=this.DataService.nomineeDetailsData.cityDtl,this.DataService.authorizeHeader="Nominee Details",this.DataService.screenType="nomieeDetails",this.router.navigate(["/nomineeAuth"]),this.DataService.otpName="OTP"):"Y"==this.DataService.activitySettingData[t].TPINALLOWD&&(this.DataService.authorizeHeader="Nominee Details",this.DataService.screenType="nomieeDetails",this.router.navigate(["/nomineeAuth"]),this.DataService.otpName="TPIN")}}return e.\u0275fac=function(t){return new(t||e)(r.Yb(o.c),r.Yb(d.a),r.Yb(h.a),r.Yb(l.a),r.Yb(m.a),r.Yb(D),r.Yb(n.n),r.Yb(n.f),r.Yb(g.a))},e.\u0275cmp=r.Sb({type:e,selectors:[["app-nominee-overview"]],decls:27,vars:2,consts:[[1,"main","bg-m"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container","main-dashborad","manage-payee"],[1,"container-fluid"],[1,"row"],[1,"col-12","p-0"],[1,"breadcrumb"],[1,"lst-breadcrumb"],[4,"ngFor","ngForOf"],[1,"vspacer15","customize","d-none","d-md-block","d-lg-block","d-xl-block"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-9"],[1,"greencard2"],[1,"row1","hide-m"],[1,"col-md-8","col-12"],[1,"col-md-4","col-12"],["class","row1",4,"ngIf"],[1,"col-12","col-md-12","col-lg-12","col-xl-3","d-none","d-xl-block"],[1,"right-ads"],["src","assets/images/banner/my-card-banner.jpg"],[1,"vspacer30"],[3,"click"],["class","col-sm-12 col-12 col-md-12",4,"ngFor","ngForOf"],[1,"col-12","col-md-12"],["class","bottom-footer1",4,"ngIf"],[1,"col-sm-12","col-12","col-md-12"],[1,"white-box2","mt-0","p-0"],[1,"info-bottom","pad-custom"],[1,"info-details"],[4,"ngIf"],["class","info-details",4,"ngIf"],[1,"bottom-footer1"],[1,"btn-div"],[1,"ux-button","secondary","sm-mob",3,"click"],[1,"ux-button","primary","sm-mob",3,"click"]],template:function(e,t){1&e&&(r.ec(0,"div",0),r.ec(1,"div",1),r.ec(2,"div",2),r.ec(3,"div",3),r.ec(4,"div",4),r.ec(5,"div",5),r.ec(6,"div",6),r.ec(7,"div",7),r.ec(8,"ul",8),r.Rc(9,b,4,3,"li",9),r.dc(),r.dc(),r.dc(),r.dc(),r.Zb(10,"div",10),r.ec(11,"div",11),r.ec(12,"div",12),r.ec(13,"div",13),r.ec(14,"div",14),r.ec(15,"div",15),r.ec(16,"div",16),r.ec(17,"div",17),r.ec(18,"h4"),r.Sc(19,"Nominee Details Overview"),r.dc(),r.dc(),r.Zb(20,"div",18),r.dc(),r.Rc(21,I,5,3,"div",19),r.dc(),r.dc(),r.ec(22,"div",20),r.ec(23,"div",21),r.ec(24,"a"),r.Zb(25,"img",22),r.dc(),r.dc(),r.Zb(26,"div",23),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc()),2&e&&(r.Mb(9),r.uc("ngForOf",t.DataService.breadcrumblist),r.Mb(12),r.uc("ngIf",0!=t.nomineeList))},directives:[n.s,n.t],pipes:[S.a],styles:[""]}),e})()}];let w=(()=>{class e{}return e.\u0275mod=r.Wb({type:e}),e.\u0275inj=r.Vb({factory:function(t){return new(t||e)},imports:[[o.g.forChild(R)],o.g]}),e})(),k=(()=>{class e{}return e.\u0275mod=r.Wb({type:e}),e.\u0275inj=r.Vb({factory:function(t){return new(t||e)},imports:[[n.c,w,a.m,c.a,a.C]]}),e})()}}]);