(window.webpackJsonp=window.webpackJsonp||[]).push([[52,349],{"4oXj":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var c=i("fXoL"),s=i("5IsW"),a=i("fHQ/"),n=i("H9Rt"),o=i("EnSQ"),r=i("au7T"),l=i("oBZJ"),u=i("L7Xq");let d=(()=>{class t{constructor(t,e,i,c,s,a,n,o,r){this.constant=t,this.encryptDecryptService=e,this.storage=i,this.dataService=c,this.commonMethod=s,this.pluginService=a,this.localStorage=n,this.http=o,this.ngZone=r}getUserLocation(){this.latitude=this.dataService.latitude?this.dataService.latitude:"0",this.longitude=this.dataService.longitude?this.dataService.longitude:"0",this.userLocationName=this.dataService.userLocationName}setAddBenificiaryRequest(t,e,i,c){var s=this.dataService.ScanQrCodeData?this.dataService.ScanQrCodeData:{},a={[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_subAction]:this.constant.upiserviceName_ADDBENIFICIARY,[this.constant.key_upi_inputParam]:{[this.constant.key_upi_payeeName]:t.payeeName,[this.constant.key_upi_appVersion]:this.constant.val_upi_app_version,[this.constant.key_upi_nickName]:t.nickName,[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_language]:this.dataService.getSelectedLanguageCodeUPI(),[this.constant.key_upi_is_Favourite]:t.isFavourite,[this.constant.key_upi_appID]:this.constant.val_upi_psb,[this.constant.key_upi_device]:{[this.constant.key_upi_app]:this.constant.val_app_pakage_name,[this.constant.key_upi_capability]:this.constant.val_upi_capability,[this.constant.key_upi_lng]:this.longitude,[this.constant.key_upi_lat]:this.latitude,[this.constant.key_upi_os]:this.dataService.platform,[this.constant.key_upi_ip]:this.dataService.ipAddress,[this.constant.key_upi_location]:this.userLocationName,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_deviceID]:this.storage.getLocalStorage(this.constant.storage_deviceId)}}};return e?(a[this.constant.key_upi_inputParam][this.constant.key_upi_accNum]=this.dataService.upiBenfAccNo?this.dataService.upiBenfAccNo:s.qrAccountNo,a[this.constant.key_upi_inputParam][this.constant.key_upi_ifsc]=this.dataService.upiBenfIfsc?this.dataService.upiBenfIfsc:s.qrIfsc):i?a[this.constant.key_upi_inputParam][this.constant.key_upi_payeeVPA]=t.payeeVPA:c&&(a[this.constant.key_upi_inputParam][this.constant.key_upi_mmid]=this.dataService.upiBenfMMId),console.log("setAddBenificiaryRequest ",JSON.stringify(a)),this.getOmniRequestObject(a)}getOmniRequestObject(t){t=t;var e={[this.constant.key_entityId]:this.constant.getEntityId(this.constant.val_entityId_UMOB),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_upiRequest]:JSON.stringify(t)};return console.log("inputData => ",JSON.stringify(e)),this.getEncryptedOmniRequestObject(e)}getBenficiaryListReq(t,e){var i={[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_subAction]:this.constant.upiserviceName_GETBENIFICIARYLIST,[this.constant.key_upi_inputParam]:{[this.constant.key_upi_appVersion]:this.constant.val_upi_app_version,[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_beneListType]:t,[this.constant.key_upi_language]:this.dataService.getSelectedLanguageCodeUPI(),[this.constant.key_upi_beneListMode]:e,[this.constant.key_upi_device]:{[this.constant.key_upi_app]:this.constant.val_app_pakage_name,[this.constant.key_upi_capability]:this.constant.val_upi_capability,[this.constant.key_upi_lng]:this.longitude,[this.constant.key_upi_lat]:this.latitude,[this.constant.key_upi_os]:this.dataService.platform,[this.constant.key_upi_ip]:this.dataService.ipAddress,[this.constant.key_upi_location]:this.userLocationName,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_deviceID]:this.storage.getLocalStorage(this.constant.storage_deviceId)}}};return console.log("getBenficiaryListReq ",JSON.stringify(i)),this.getOmniRequestObject(i)}getEncryptedOmniRequestObject(t){console.log("session Key : ",this.storage.getSessionStorage(this.constant.val_sessionKey));let e=this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(t));return console.log("encryptDatagetOmniRequestObject => ",JSON.stringify(e)),e}getBenificiaryList(){return new Promise((t,e)=>{this.ngZone.run(()=>{this.dataService.fetchUPIbenificiaryLists?(this.getUserLocation(),this.fetchBenificiaryList(t)):t({recentBeneList:this.dataService.recentBeneficiaryList,FavBeneList:this.dataService.favPayeeList})})})}fetchBenificiaryList(t){var e=this.getBenficiaryListReq(this.constant.val_upi_benListType_ALL,this.constant.val_upi_ANY);this.UpiApiCall(e,t)}UpiApiCall(t,e){this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_PROCESSUPISERVICESESSION,!0).subscribe(t=>{var i,c,s,a;let n=t.responseParameter.upiResponse;if("00"==n.status)switch(n.subActionId){case this.constant.upiserviceName_GETBENIFICIARYLIST:this.dataService.recentBeneficiaryList=(null===(i=n.responseParameter)||void 0===i?void 0:i.beneficiaryList)?null===(c=n.responseParameter)||void 0===c?void 0:c.beneficiaryList:[],this.dataService.favPayeeList=(null===(s=n.responseParameter)||void 0===s?void 0:s.FavBeneList)?null===(a=n.responseParameter)||void 0===a?void 0:a.FavBeneList:[],e({recentBeneList:this.dataService.recentBeneficiaryList,FavBeneList:this.dataService.favPayeeList}),this.dataService.fetchUPIbenificiaryLists=!1}},t=>{console.log("ERROR!",t)})}}return t.\u0275fac=function(e){return new(e||t)(c.ic(s.a),c.ic(a.a),c.ic(n.a),c.ic(o.a),c.ic(r.a),c.ic(l.a),c.ic(n.a),c.ic(u.a),c.ic(c.H))},t.\u0275prov=c.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Geda:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var c=i("fXoL"),s=i("3Pt+"),a=i("au7T");let n=(()=>{class t{constructor(t,e){this.control=t,this.commonMethods=e,this.specialKeys=["Backspace","Tab"]}ngOnChanges(t){const e=+this.limitTo;if(-1===this.specialKeys.indexOf(t.key)&&!this.commonMethods.validateEmpty(this.control.value)&&this.control.value.length>=e){let t=this.control.value.substring(0,e);this.control.control.setValue(t)}}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(s.r),c.Yb(a.a))},t.\u0275dir=c.Tb({type:t,selectors:[["","limit-to",""]],hostBindings:function(t,e){1&t&&c.lc("input",(function(t){return e.ngOnChanges(t)}))},inputs:{limitTo:["limit-to","limitTo"]},features:[c.Kb]}),t})()},TaOT:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var c=i("fXoL"),s=i("fUdP");let a=(()=>{class t{constructor(t){this.customCurrencyPipe=t}markFormGroupTouched(t){Object.values(t.controls).forEach(t=>{t.markAsTouched(),t.controls&&t.controls.forEach(t=>this.markFormGroupTouched(t))})}markFormGroupUntouched(t){Object.values(t.controls).forEach(t=>{t.markAsUntouched(),t.controls&&t.controls.forEach(t=>this.markFormGroupUntouched(t))})}validationMessages(){return{required:"* This field is required",email:"* This email address is invalid",minlength:"* Length is too short",maxlength:"* Length is too long",invalid_characters:t=>{let e=t;return e=e.reduce((t,i,c)=>{let s=t;return s+=i,e.length!==c+1&&(s+=", "),s},""),"These characters are not allowed: "+e}}}validateForm(t,e,i){const c=t;for(const s in e)if(s){e[s]="";const t=c.get(s),a=this.validationMessages();if(t&&!t.valid&&(!i||t.dirty||t.touched))for(const i in t.errors)console.log("======>inside",i),e[s]=i&&"invalid_characters"!==i?e[s]||a[i]:e[s]||a[i](t.errors[i])}return e}formatCurrency(t,e,i){if("0"!=t)if(""!=t){let i=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==i.trim().replace(/[^.0-9]+/g,"")?e.contains("amount")&&e.get("amount").reset():"0"==i.trim().replace(/[^.0-9]+/g,"")?e.get("amount").reset():(console.log(i),e.patchValue({amount:i}))}else e.get("amount").reset("");else e.contains("amount")&&e.get("amount").reset()}formatTransLimit(t,e){if("0"!=t)if(""!=t){let i=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==i?e.contains("transactionLimit")&&e.get("transactionLimit").reset():"0"==i.trim()?e.get("transactionLimit").reset():(console.log(i),e.patchValue({transactionLimit:i}))}else e.get("transactionLimit").reset("");else e.contains("transactionLimit")&&e.get("transactionLimit").reset()}formatDynamicCurrency(t,e){$("#"+t).val()&&"\u20b9 0.00"!=$("#"+t).val()?e.patchValue({amount:$("#"+t).val()}):e.get("amount").reset("")}deFormatValue(t,e){e.patchValue({amount:t.replace(/[^0-9.]+/g,"")})}formatAmtCurrency(t,e,i){if("0"!=t)if(""!=t){let c=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==c?e.contains(i)&&e.get(i).reset():"0"==c.trim()?e.get(i).reset():e.controls[i].patchValue("\u20b9"+c)}else e.get(i).reset("");else e.contains(i)&&e.get(i).reset()}}return t.\u0275fac=function(e){return new(e||t)(c.ic(s.a))},t.\u0275prov=c.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},wz7t:function(t,e,i){"use strict";i.r(e),i.d(e,"CollectRecentRequestModule",(function(){return w}));var c=i("ofXK"),s=i("3Pt+"),a=i("fXoL"),n=i("4bKs"),o=i("tyNb"),r=i("EnSQ"),l=i("L7Xq"),u=i("0F53"),d=i("5IsW"),h=i("H9Rt"),p=i("TaOT"),v=i("oBZJ"),m=i("au7T"),g=i("4oXj"),f=i("Eioz"),b=i("Geda"),y=i("RZqO");function _(t,e){1&t&&(a.ec(0,"p",53),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t&&(a.Mb(1),a.Uc(" ",a.rc(2,1,"ENTER_UPI_ID_MOBILE_NUMBER_ERROR")," "))}function S(t,e){1&t&&(a.ec(0,"p",53),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t&&(a.Mb(1),a.Uc(" ",a.rc(2,1,"ENTER_VALID_UPI_ID_MOBILE_NO")," "))}function R(t,e){if(1&t){const t=a.fc();a.ec(0,"div",41),a.ec(1,"div",9),a.ec(2,"div",42),a.ec(3,"div",43),a.ec(4,"label",44),a.Sc(5),a.qc(6,"translate"),a.dc(),a.Zb(7,"input",45),a.qc(8,"translate"),a.ec(9,"a",46),a.lc("click",(function(){return a.Hc(t),a.pc().goToPage("searchContactList")})),a.Zb(10,"em",47),a.dc(),a.Rc(11,_,3,3,"p",48),a.Rc(12,S,3,3,"p",48),a.ec(13,"p",49),a.Sc(14,"e.g. name@psb/9820000000"),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(15,"div",50),a.ec(16,"div",9),a.Zb(17,"div",51),a.ec(18,"div",51),a.ec(19,"button",52),a.lc("click",(function(){return a.Hc(t),a.pc().verify()})),a.Sc(20),a.qc(21,"translate"),a.dc(),a.dc(),a.dc(),a.dc(),a.dc()}if(2&t){const t=a.pc();a.Mb(5),a.Tc(a.rc(6,6,"UPI_ID_MOBILE_NUMBER")),a.Mb(2),a.vc("placeholder",a.rc(8,8,"ENTER_UPI_ID_MOBILE_NUMBER")),a.Mb(4),a.uc("ngIf",t.collectRecentReqForm.controls.upiIdOrMobno.hasError("required")&&t.collectRecentReqForm.controls.upiIdOrMobno.touched),a.Mb(1),a.uc("ngIf",!t.collectRecentReqForm.controls.upiIdOrMobno.hasError("required")&&t.collectRecentReqForm.controls.upiIdOrMobno.touched&&t.collectRecentReqForm.controls.upiIdOrMobno.hasError("pattern")),a.Mb(7),a.uc("disabled",t.collectRecentReqForm.invalid),a.Mb(1),a.Tc(a.rc(21,10,"VERIFY"))}}function I(t,e){if(1&t&&(a.ec(0,"em"),a.Sc(1),a.dc()),2&t){const t=a.pc(2);a.Mb(1),a.Tc(null==t.DataService.validateAddressResp?null:t.DataService.validateAddressResp.mobileNumber)}}function L(t,e){if(1&t){const t=a.fc();a.ec(0,"div",54),a.ec(1,"div",55),a.ec(2,"div",56),a.ec(3,"span",57),a.ec(4,"h6"),a.Sc(5),a.qc(6,"firstLastChar"),a.dc(),a.dc(),a.dc(),a.ec(7,"div",58),a.ec(8,"h5"),a.Sc(9),a.dc(),a.ec(10,"h6"),a.Sc(11),a.qc(12,"translate"),a.dc(),a.Rc(13,I,2,1,"em",27),a.dc(),a.dc(),a.ec(14,"div",50),a.ec(15,"div",9),a.ec(16,"div",51),a.ec(17,"button",59),a.lc("click",(function(){return a.Hc(t),a.pc().cancel()})),a.Sc(18),a.qc(19,"translate"),a.dc(),a.dc(),a.ec(20,"div",60),a.lc("click",(function(){return a.Hc(t),a.pc().proceed()})),a.ec(21,"button",61),a.Sc(22),a.qc(23,"translate"),a.dc(),a.dc(),a.dc(),a.dc(),a.dc()}if(2&t){const t=a.pc();a.Mb(5),a.Tc(a.rc(6,7,t.DataService.validateAddressResp.MASKNAME)),a.Mb(4),a.Tc(t.DataService.validateAddressResp.MASKNAME),a.Mb(2),a.Vc("",a.rc(12,9,"UPI_ID")," : ",t.DataService.validateAddressResp.validatedVpa,""),a.Mb(2),a.uc("ngIf",null==t.DataService.validateAddressResp?null:t.DataService.validateAddressResp.mobileNumber),a.Mb(5),a.Tc(a.rc(19,11,"CANCEL")),a.Mb(4),a.Tc(a.rc(23,13,"PROCEED"))}}function P(t,e){1&t&&(a.ec(0,"div",62),a.ec(1,"h6"),a.Sc(2),a.qc(3,"translate"),a.dc(),a.dc()),2&t&&(a.Mb(2),a.Uc(" ",a.rc(3,1,"NO_RECENT_PAYEE_FOUND"),""))}function k(t,e){if(1&t&&a.Zb(0,"img",64),2&t){const t=a.pc().$implicit;a.uc("src",t.beneImageUrl,a.Jc)}}function M(t,e){if(1&t&&(a.ec(0,"h6"),a.Sc(1),a.qc(2,"firstLastChar"),a.dc()),2&t){const t=a.pc().$implicit;a.Mb(1),a.Uc("",a.rc(2,1,t.nickName)," ")}}function A(t,e){if(1&t){const t=a.fc();a.ec(0,"li"),a.ec(1,"a",46),a.lc("click",(function(){a.Hc(t);const i=e.$implicit;return a.pc(2).validatePayee("recent",i)})),a.ec(2,"span",57),a.Rc(3,k,1,1,"img",63),a.Rc(4,M,3,3,"h6",27),a.dc(),a.ec(5,"em"),a.Sc(6),a.qc(7,"truncate"),a.dc(),a.dc(),a.dc()}if(2&t){const t=e.$implicit;a.Mb(3),a.uc("ngIf",t.beneImageUrl),a.Mb(1),a.uc("ngIf",!t.beneImageUrl),a.Mb(2),a.Tc(a.rc(7,3,t.nickName))}}function D(t,e){if(1&t){const t=a.fc();a.ec(0,"li"),a.ec(1,"a",46),a.lc("click",(function(){return a.Hc(t),a.pc(2).searchContact("recent")})),a.ec(2,"span",65),a.Zb(3,"img",66),a.dc(),a.ec(4,"em"),a.Sc(5),a.qc(6,"translate"),a.dc(),a.dc(),a.dc()}2&t&&(a.Mb(5),a.Tc(a.rc(6,1,"VIEW_MORE")))}function q(t,e){if(1&t&&(a.ec(0,"ul",25),a.Rc(1,A,8,5,"li",26),a.Rc(2,D,7,3,"li",27),a.dc()),2&t){const t=a.pc();a.Mb(1),a.uc("ngForOf",t.recentPayeeReqList),a.Mb(1),a.uc("ngIf",t.recentPayeeReqList.length>0)}}function N(t,e){1&t&&(a.ec(0,"div",62),a.ec(1,"h6"),a.Sc(2),a.qc(3,"translate"),a.dc(),a.dc()),2&t&&(a.Mb(2),a.Uc(" ",a.rc(3,1,"NO_FAVORITE_PAYEE_FOUND"),""))}function E(t,e){if(1&t){const t=a.fc();a.ec(0,"li"),a.ec(1,"a",46),a.lc("click",(function(){a.Hc(t);const i=e.$implicit;return a.pc().validatePayee("fav",i)})),a.ec(2,"span",57),a.ec(3,"h6"),a.Sc(4),a.qc(5,"firstLastChar"),a.dc(),a.dc(),a.ec(6,"em"),a.Sc(7),a.qc(8,"truncate"),a.dc(),a.dc(),a.dc()}if(2&t){const t=e.$implicit;a.Mb(4),a.Tc(a.rc(5,2,t.nickName)),a.Mb(3),a.Tc(a.rc(8,4,t.nickName))}}function C(t,e){if(1&t){const t=a.fc();a.ec(0,"li"),a.ec(1,"a",46),a.lc("click",(function(){return a.Hc(t),a.pc().searchContact("favorite")})),a.ec(2,"span",65),a.Zb(3,"img",66),a.dc(),a.ec(4,"em"),a.Sc(5),a.qc(6,"translate"),a.dc(),a.dc(),a.dc()}2&t&&(a.Mb(5),a.Tc(a.rc(6,1,"VIEW_MORE")))}const T=[{path:"",component:(()=>{class t{constructor(t,e,i,c,s,a,n,o,r,l,u,d,h,p){this.loader=t,this.router=e,this.DataService=i,this.location=c,this.http=s,this.collectRecentReqService=a,this.constant=n,this.localStorage=o,this.formValidation=r,this.pluginService=l,this.commonMethod=u,this.beneficiaryService=d,this.translate=h,this.ngZone=p,this.showFavPayeeLength=10,this.showRecentPayeeLength=10,this.mobileContacts=[],this.headerdata={headerType:"backUpiIdHeader",titleName:"COLLECT",footertype:"none"},this.recentPayeeReqList=[],this.favPayeeList=[],this.showUserInfo=!1,this.firstLastChar="",this.showMoreFav=!1,this.showMoreRecentRequest=!1,this.errorMsg=""}ngOnInit(){this.initialize()}initialize(){this.DataService.fetchContacts=!1,this.DataService.changeMessage(this.headerdata),history.pushState({},"upiDashboard",this.location.prepareExternalUrl("upiDashboard")),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url)),this.defaultVPAAccountDetails=this.getDefaultVpaAccountDetails(),this.DataService.upiSearchCollectPayeeList=[],this.buildForm(),this.validateAddressByVPAorMobNo(),this.getBenificiaryList(),createGlobalNavMore(),this.DataService.contactPrevURL=this.router.url}buildForm(){this.collectRecentReqForm=new s.j({upiIdOrMobno:new s.g("",[s.G.required,s.G.pattern(/^(\d{10}|\w+[\w.-]+@[\w.-]+$)$/)])})}getBenificiaryList(){this.beneficiaryService.getBenificiaryList().then(t=>{this.recentPayeeReqList=[],t.recentBeneList.map((t,e)=>{"VPA"==t.txnMode&&this.recentPayeeReqList.push(t)}),this.favPayeeList=this.DataService.favPayeeList,this.recentPayeeReqList.length>10&&(this.showMoreRecentRequest=!0),this.favPayeeList.length>10&&(this.showMoreFav=!0)})}verify(){if(this.formValidation.markFormGroupTouched(this.collectRecentReqForm),this.collectRecentReqForm.valid){let e=this.collectRecentReqForm.get("upiIdOrMobno").value;if(/^\d{10}$/.test(e)){var t=this.collectRecentReqService.setDefaultVPARequest(e);this.UpiApiCall(t)}else this.pluginService.getTransactionId().subscribe(t=>{var e=this.collectRecentReqService.setValidateRequest(this.collectRecentReqForm.value,this.defaultVPAAccountDetails,t);this.UpiApiCall(e)})}}goToPage(t){"searchContactList"==t?(this.DataService.contactPrevURL=this.router.url,this.DataService.fetchContacts=!0):this.DataService.fetchContacts=!1,this.router.navigateByUrl(t)}searchContact(t){this.DataService.upiSearchCollectPayeeList="recent"==t?this.recentPayeeReqList:this.favPayeeList,this.DataService.upiCollectsearchType=t,this.router.navigateByUrl("/collectSearchContact")}cancel(){this.showUserInfo=!1,this.collectRecentReqForm.reset()}proceed(){this.DataService.resetUpiCollectData(),this.router.navigateByUrl("/collectAmount")}UpiApiCall(t){this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_PROCESSUPISERVICESESSION,!0).subscribe(t=>{let e=t.responseParameter.upiResponse;if("00"==e.status)switch(e.subActionId){case this.constant.upiserviceName_VALIDATEADDRESS:this.showUserInfo=!0,this.ngZone.run(()=>{this.DataService.validateAddressResp=e.responseParameter}),this.DataService.fromRecentTransaction&&this.proceed();break;case this.constant.upiserviceName_GETDEFAULTVPA:let t=e.responseParameter.defaultVpaDetail.paymentAddress;this.pluginService.getTransactionId().subscribe(e=>{var i=this.collectRecentReqService.setValidateRequest({upiIdOrMobno:t},this.defaultVPAAccountDetails,e);this.UpiApiCall(i)})}},t=>{console.log("ERROR!",t)})}validatePayee(t,e){var i;this.pluginService.getTransactionId().subscribe(t=>{i=this.collectRecentReqService.setValidateRequest({upiIdOrMobno:e.beneVpa},this.defaultVPAAccountDetails,t),this.UpiApiCall(i)})}validateAddressByVPAorMobNo(){if(this.DataService.upiCollectRequest.mobileNo){var t=this.collectRecentReqService.setDefaultVPARequest(this.DataService.upiCollectRequest.mobileNo);this.UpiApiCall(t)}this.DataService.upiCollectRequest.validatedVpaAdress&&this.pluginService.getTransactionId().subscribe(t=>{var e=this.collectRecentReqService.setValidateRequest({upiIdOrMobno:this.DataService.upiCollectRequest.validatedVpaAdress},this.defaultVPAAccountDetails,t);this.UpiApiCall(e)})}getDefaultVpaAccountDetails(){let t=this.DataService.vpaAddressList.find(t=>"Y"==t.default);if(t)return{vpaDetails:t,accountDetails:this.getDefaultAccountNoByVpa(t.accounts)}}getDefaultAccountNoByVpa(t){if(t.length>0)return t.find(t=>"Y"==t.isDefaultAccount)}showMore(t){"recent"==t?this.showRecentPayeeLength=this.recentPayeeReqList.length:this.showFavPayeeLength=this.favPayeeList.length}ngOnDestroy(){this.DataService.upiCollectRequest.mobileNo="",this.DataService.upiCollectRequest.validatedVpaAdress="",this.DataService.fromRecentTransaction=!1}scanQRCode(){this.DataService.platform.toLowerCase()==this.constant.val_android?cordova.plugins.diagnostic.requestCameraAuthorization(t=>{switch(t){case cordova.plugins.diagnostic.permissionStatus.GRANTED:cordova.plugins.QRCodeScannerPlugin.scan({invalidQRMsg:this.translate.transform(this.constant.QRCodeErrorDesc),pointQRMsg:this.translate.transform(this.constant.QRCodeDesc),scanGalleryMsg:this.translate.transform(this.constant.ScanGalleryDesc),recentPayees:""},t=>{console.log("QRDetals Success => ",t)},t=>{console.log("QRDetals Error => ",t)});break;case cordova.plugins.diagnostic.permissionStatus.DENIED_ALWAYS:return void this.openPopup("enable-camera-permissions")}},(function(t){console.error(t)})):this.DataService.platform.toLowerCase()==this.constant.val_ios?window.plugins.qrscan.startCamera(t=>{console.log("qrscan success",t),console.log("Other data => ",JSON.stringify({invalidQRMsg:this.translate.transform(this.constant.QRCodeErrorDesc),pointQRMsg:this.translate.transform(this.constant.QRCodeDesc),scanGalleryMsg:this.translate.transform(this.constant.ScanGalleryDesc),recentPayees:""})),"DENIED"!=t&&"Not Authorized"!=t||(this.DataService.cameraPermissionGrantedIos=!1,this.commonMethod.openPopup("div.popup-bottom.enable-camera-permission"))},t=>{console.log("qrscan error ",t)}):console.log("Unknown Platform...")}closePopup(t){this.commonMethod.closePopup("div.popup-bottom."+t)}openPopup(t){this.commonMethod.openPopup("div.popup-bottom."+t)}grant(){cordova.plugins.diagnostic.switchToSettings((function(){console.log("Successfully switched to Settings app")}),(function(t){console.error("The following error occurred: "+t)}))}canDeactivate(){return!this.DataService.disableBack}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(n.a),a.Yb(o.c),a.Yb(r.a),a.Yb(c.n),a.Yb(l.a),a.Yb(u.a),a.Yb(d.a),a.Yb(h.a),a.Yb(p.a),a.Yb(v.a),a.Yb(m.a),a.Yb(g.a),a.Yb(f.a),a.Yb(a.H))},t.\u0275cmp=a.Sb({type:t,selectors:[["app-collect-recent-request"]],decls:72,vars:29,consts:[[1,"main"],[1,"right-main-column","minus-rt-col","mar-custom"],[1,"right-col-container"],[1,"body-page-container"],[1,"container-fluid"],[3,"formGroup"],[1,"row"],[1,"bg-section"],[1,"col-12"],[1,"row1"],[1,"col-sm-12","col-12","col-md-12"],[1,"white-bg1"],["class","upiId",4,"ngIf"],["class","userinfo",4,"ngIf"],[1,"ux-nav-tabs",2,"margin","0"],[1,"responsive3"],["role","tablist",1,"nav","nav-tabs","nav-justified","bor-n"],[1,"nav-item"],["data-toggle","tab","href","#recent",1,"nav-link","active"],["data-toggle","tab","href","#favorite",1,"nav-link"],[1,"tab-content","custom-tab-content"],["id","recent",1,"tab-pane","active"],["class","unfound-info",4,"ngIf"],["class","payee-list1",4,"ngIf"],["id","favorite",1,"tab-pane","fade"],[1,"payee-list1"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"footer-container","sticky-actions"],[1,"footer-inactions","minus-rt-col"],[1,"col-12","col-md-12","col-lg-12","text-center"],[1,"powered-logo","mt-0"],["src","assets/images/logo/powered-upi-logo.svg","alt","powered-upi-logo"],[1,"sticky-actions-spacer"],[1,"popup-bottom","enable-camera-permissions"],[1,"text-center"],["src","assets/images/svg/information.svg","alt","information-icon"],[1,"row1","mt-2"],[1,"col-6","text-center"],[1,"ux-button","secondary","no","md","close-btn",3,"click"],[1,"logout-btn","ux-button","primary","md",3,"click"],[1,"upiId"],[1,"col-12","col-sm-12","col-md-12"],[1,"custom-input2","ux-input"],["for","upiId"],["type","text","name","upiId","autocomplete","off","autocapitalize","off","formControlName","upiIdOrMobno","name","upiId","limit-to","40","required","",3,"placeholder"],[3,"click"],[1,"show-phonebook2",2,"right","6px"],["class","error-message",4,"ngIf"],[1,"info-message"],[1,"mt-2"],[1,"col-6","col-sm-6","col-md-6"],["type","button",1,"verify","ux-button","sm2","primary","float-right",3,"disabled","click"],[1,"error-message"],[1,"userinfo"],[1,"payee-info"],[1,"info-lft"],[1,"green1"],[1,"info-rit"],["type","button",1,"cancel","ux-button","sm2","secondary",3,"click"],[1,"col-6","col-sm-6","col-md-6",3,"click"],[1,"proceed","ux-button","sm2","primary"],[1,"unfound-info"],["alt","user-img",3,"src",4,"ngIf"],["alt","user-img",3,"src"],[1,"white1"],["src","assets/images/svg/more.svg","alt","more-icon"]],template:function(t,e){1&t&&(a.ec(0,"div",0),a.ec(1,"div",1),a.ec(2,"div",2),a.ec(3,"div",3),a.ec(4,"div",4),a.ec(5,"form",5),a.ec(6,"div",6),a.ec(7,"div",7),a.ec(8,"div",8),a.ec(9,"div",9),a.ec(10,"div",10),a.ec(11,"div",11),a.ec(12,"div",6),a.ec(13,"h4"),a.Sc(14),a.qc(15,"translate"),a.dc(),a.dc(),a.Rc(16,R,22,12,"div",12),a.Rc(17,L,24,15,"div",13),a.dc(),a.dc(),a.ec(18,"div",10),a.ec(19,"div",14),a.ec(20,"div",15),a.ec(21,"ul",16),a.ec(22,"li",17),a.ec(23,"a",18),a.Sc(24),a.qc(25,"translate"),a.dc(),a.dc(),a.ec(26,"li",17),a.ec(27,"a",19),a.Sc(28),a.qc(29,"translate"),a.dc(),a.dc(),a.dc(),a.ec(30,"div",20),a.ec(31,"div",21),a.ec(32,"div",6),a.ec(33,"div",10),a.Rc(34,P,4,3,"div",22),a.Rc(35,q,3,2,"ul",23),a.dc(),a.dc(),a.dc(),a.ec(36,"div",24),a.ec(37,"div",6),a.ec(38,"div",10),a.Rc(39,N,4,3,"div",22),a.ec(40,"ul",25),a.Rc(41,E,9,6,"li",26),a.Rc(42,C,7,3,"li",27),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(43,"div",28),a.ec(44,"div",29),a.ec(45,"div",4),a.ec(46,"div",6),a.ec(47,"div",30),a.ec(48,"div",31),a.Zb(49,"img",32),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.Zb(50,"div",33),a.dc(),a.dc(),a.dc(),a.ec(51,"div",34),a.ec(52,"div",9),a.ec(53,"div",8),a.ec(54,"h4",35),a.Zb(55,"img",36),a.Sc(56),a.qc(57,"translate"),a.dc(),a.dc(),a.dc(),a.ec(58,"div",6),a.ec(59,"div",8),a.ec(60,"p"),a.Sc(61),a.qc(62,"translate"),a.dc(),a.dc(),a.dc(),a.ec(63,"div",37),a.ec(64,"div",38),a.ec(65,"button",39),a.lc("click",(function(){return e.closePopup("enable-camera-permissions")})),a.Sc(66),a.qc(67,"translate"),a.dc(),a.dc(),a.ec(68,"div",38),a.ec(69,"button",40),a.lc("click",(function(){return e.grant()})),a.Sc(70),a.qc(71,"translate"),a.dc(),a.dc(),a.dc(),a.dc()),2&t&&(a.Mb(5),a.uc("formGroup",e.collectRecentReqForm),a.Mb(9),a.Tc(a.rc(15,15,"NEW_REQUEST")),a.Mb(2),a.uc("ngIf",!e.showUserInfo),a.Mb(1),a.uc("ngIf",e.showUserInfo),a.Mb(7),a.Uc(" ",a.rc(25,17,"RECENT_PAYER")," "),a.Mb(4),a.Tc(a.rc(29,19,"FAVORITE_PAYER")),a.Mb(6),a.uc("ngIf",0==e.recentPayeeReqList.length),a.Mb(1),a.uc("ngIf",e.recentPayeeReqList.length>0),a.Mb(4),a.uc("ngIf",0==e.favPayeeList.length),a.Mb(2),a.uc("ngForOf",e.favPayeeList),a.Mb(1),a.uc("ngIf",e.favPayeeList.length>0),a.Mb(14),a.Uc(" ",a.rc(57,21,"INFORMATION"),""),a.Mb(5),a.Uc(" ",a.rc(62,23,"ENABLE_CAMERA_PERMISSION_MSG")," "),a.Mb(5),a.Tc(a.rc(67,25,"CANCEL")),a.Mb(4),a.Tc(a.rc(71,27,"GRANT")))},directives:[s.I,s.t,s.k,c.t,c.s,s.c,s.s,s.i,b.a,s.D],pipes:[f.a,y.a,y.c],styles:[""]}),t})()}];let O=(()=>{class t{}return t.\u0275mod=a.Wb({type:t}),t.\u0275inj=a.Vb({factory:function(e){return new(e||t)},imports:[[o.g.forChild(T)],o.g]}),t})();var U=i("PCNd");let w=(()=>{class t{}return t.\u0275mod=a.Wb({type:t}),t.\u0275inj=a.Vb({factory:function(e){return new(e||t)},imports:[[c.c,U.a,s.m,s.C,O]]}),t})()}}]);