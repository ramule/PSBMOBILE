(window.webpackJsonp=window.webpackJsonp||[]).push([[9,349],{"7GgT":function(t,e,c){"use strict";c.d(e,"a",(function(){return T}));var i=c("w3dz"),s=c("u+vE"),o=c("PqYM"),a=c("ma9j"),n=c("fXoL"),r=c("tyNb"),l=c("EnSQ"),d=c("QrBj"),p=c("L7Xq"),u=c("5IsW"),h=c("H9Rt"),m=c("SJkw"),g=c("au7T"),v=c("ofXK");const b=["mOtpRow"],S=function(t,e,c){return{active:t,completed:e,inprogress:c}};function f(t,e){if(1&t){const t=n.fc();n.ec(0,"li",79),n.ec(1,"input",80),n.lc("ngModelChange",(function(c){return n.Hc(t),e.$implicit.tabName=c})),n.dc(),n.ec(2,"span",81),n.Sc(3),n.dc(),n.ec(4,"b",82),n.Sc(5),n.dc(),n.dc()}if(2&t){const t=e.$implicit;n.uc("ngClass",n.Ac(6,S,t.stepActive,"completed"===t.stepStatus,"inprogress"===t.stepStatus)),n.Mb(1),n.uc("value",t.tabName)("ngModel",t.tabName)("checked",t.stepActive),n.Mb(2),n.Tc(t.stepIndex),n.Mb(2),n.Uc(" ",t.stepname,"")}}function I(t,e){if(1&t){const t=n.fc();n.ec(0,"div"),n.ec(1,"app-registration-cust-details",83),n.lc("nextEvent",(function(e){return n.Hc(t),n.pc().nextstep(e)}))("termsConditionEvent",(function(e){return n.Hc(t),n.pc().termsConditionPopup(e)})),n.dc(),n.dc()}}function P(t,e){if(1&t){const t=n.fc();n.ec(0,"div"),n.ec(1,"app-registration-validate-reg-details",84),n.lc("nextEvent2",(function(e){return n.Hc(t),n.pc().nextstep(e)}))("prevEvent",(function(e){return n.Hc(t),n.pc().prevstep(e)})),n.dc(),n.dc()}}function A(t,e){if(1&t){const t=n.fc();n.ec(0,"div"),n.ec(1,"app-registration-username",84),n.lc("nextEvent2",(function(e){return n.Hc(t),n.pc().nextstep(e)}))("prevEvent",(function(e){return n.Hc(t),n.pc().prevstep(e)})),n.dc(),n.dc()}}function M(t,e){if(1&t){const t=n.fc();n.ec(0,"div"),n.ec(1,"app-registration-create-upi",84),n.lc("nextEvent2",(function(e){return n.Hc(t),n.pc().nextstep(e)}))("prevEvent",(function(e){return n.Hc(t),n.pc().prevstep(e)})),n.dc(),n.dc()}}function y(t,e){if(1&t){const t=n.fc();n.ec(0,"div"),n.ec(1,"app-registration-mpin",84),n.lc("nextEvent2",(function(e){return n.Hc(t),n.pc().nextstep(e)}))("prevEvent",(function(e){return n.Hc(t),n.pc().prevstep(e)})),n.dc(),n.dc()}}function C(t,e){if(1&t){const t=n.fc();n.ec(0,"div"),n.ec(1,"app-registration-tpin",84),n.lc("nextEvent2",(function(e){return n.Hc(t),n.pc().nextstep(e)}))("prevEvent",(function(e){return n.Hc(t),n.pc().prevstep(e)})),n.dc(),n.dc()}}function N(t,e){if(1&t&&(n.ec(0,"span",85),n.Sc(1),n.qc(2,"formatTimer"),n.dc()),2&t){const t=n.pc();n.Mb(1),n.Tc(n.rc(2,1,t.counter))}}function D(t,e){if(1&t&&(n.ec(0,"p"),n.Sc(1),n.dc()),2&t){const t=n.pc();n.Mb(1),n.Tc(t.information)}}const k=function(){return{standalone:!0}};let T=(()=>{class t{constructor(t,e,c,i,s,o,a,n,r){this.router=t,this.DataService=e,this.otpService=c,this.http=i,this.constant=s,this.localStorage=o,this.regServices=a,this.commonMethod=n,this.location=r,this.activeTab="step1",this.curentTabIndex=1,this.information="",this.termsCondition="",this.otp1="",this.otp2="",this.otp3="",this.otp4="",this.otp5="",this.otp6="",this.counter=120,this.tick=1e3,this.invaildotp="",this.registrationsteps=[{stepIndex:1,stepname:"Account Details",stepActive:!0,stepStatus:"inprogress",tabName:"step1"},{stepIndex:2,stepname:"Channel Credentials",stepActive:!1,stepStatus:"incomplete",tabName:"step2"},{stepIndex:3,stepname:"Set Login Credentials",stepActive:!1,stepStatus:"incomplete",tabName:"step3"},{stepIndex:4,stepname:"Create UPI ID",stepActive:!1,stepStatus:"incomplete",tabName:"step4"},{stepIndex:5,stepname:"Set MPIN",stepActive:!1,stepStatus:"incomplete",tabName:"step5"},{stepIndex:6,stepname:"Set TPIN",stepActive:!1,stepStatus:"incomplete",tabName:"step6"}]}ngOnInit(){"loan"==this.DataService.regType?(this.initializeSteps(),this.DataService.isLoanRegistration=!0,this.DataService.showMigrated=!1):(this.DataService.isLoanRegistration=!1,this.DataService.showMigrated=!0),this.DataService.isCordovaAvailable&&(history.pushState({},"LandingPage",this.location.prepareExternalUrl("LandingPage")),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url))),this.setRegisteredStep()}initializeSteps(){this.registrationsteps=[{stepIndex:1,stepname:"Account Details",stepActive:!0,stepStatus:"inprogress",tabName:"step1"},{stepIndex:2,stepname:"Channel Credentials",stepActive:!1,stepStatus:"incomplete",tabName:"step2"},{stepIndex:3,stepname:"Set Login Credentials",stepActive:!1,stepStatus:"incomplete",tabName:"step3"},{stepIndex:4,stepname:"Set MPIN",stepActive:!1,stepStatus:"incomplete",tabName:"step5"},{stepIndex:5,stepname:"Set TPIN",stepActive:!1,stepStatus:"incomplete",tabName:"step6"}]}otpConfirmation(){if(console.log(this.otp1,this.otp2,this.otp3,this.otp4),""!=this.otp1&&""!=this.otp2&&""!=this.otp3&&""!=this.otp4&&""!=this.otp5&&""!=this.otp6){var t=this.otpService.getSendOTPReq(this.otp1+this.otp2+this.otp3+this.otp4+this.otp5+this.otp6);this.http.callBankingAPIService(t,this.localStorage.getLocalStorage("deviceId"),this.constant.serviceName_VALIDATEOTP).subscribe(t=>{console.log(t);var e=t.responseParameter;"00"==e.opstatus?(this.commonMethod.closeAllPopup(),console.log(t.responseParameter),this.nextstep(1),this.DataService.isFromOmniReg.isAlreadyRegister?(this.information="Mobile Number has already been registered",this.commonMethod.openPopup("div.popup-bottom.invalid-registration-dtl")):"N"==t.responseParameter.ISCBS&&(this.information="Not a CBS Customer",this.commonMethod.openPopup("div.popup-bottom.invalid-registration-dtl"))):"01"==e.opstatus?(this.invaildotp=(+e.invalidAttempts-1).toString()+" of 3 unsuccessful attempts, Please try again",this.otp1="",this.otp2="",this.otp3="",this.otp4="",this.otp5="",this.otp6=""):(this.invaildotp="",this.commonMethod.closeAllPopup())})}}setProgressStep(t){this.registrationsteps[t-1].stepActive=!0,this.registrationsteps[t-1].stepStatus="inprogress",this.activeTab="step"+t;for(var e=0;e<t-1;e++)this.registrationsteps[e].stepActive=!1,this.registrationsteps[e].stepStatus="incomplete"}closePopup(t){this.invaildotp="",this.commonMethod.closePopup("div.popup-bottom."+t)}validateCusIdAccNo(){}updateCustDtlApiCall(t){this.http.callBankingAPIService(t,this.localStorage.getLocalStorage("deviceId"),this.constant.serviceName_CUSTACCOUNTVALIDATION).subscribe(t=>{console.log(JSON.stringify(t));var e=t.responseParameter;"00"==e.opstatus?(console.log(t.responseParameter),this.isValidAccStatusFrmScheme(t.set.records[0].schemeCode)?1==this.DataService.regIsAtStep?this.child.testFunction():this.setProgressStep(this.DataService.regIsAtStep):this.commonMethod.openPopup("div.popup-bottom.show-valid-acc")):this.errorCallBack(t.subActionId,e)})}isValidAccStatusFrmScheme(t){var e=!1;switch(this.DataService.regType){case"loan":e=!0;break;case"retail":e="CAPPI"!=t&&"SBNRE"!=t&&"SBNRO"!=t&&"CANRE"!=t&&"CANRO"!=t&&"CCAGR"!=t&&"SBSRL"!=t&&"SBDCT"!=t&&"SBBAS"!=t&&"SBFIN"!=t&&"SBFIB"!=t&&"SBKID"!=t;break;case"nri":e="SBNRE"==t||"SBNRO"==t||"CANRE"==t||"CANRO"==t}return e}resendOtp(){var t=this.otpService.getResendOTPReq();this.http.callBankingAPIService(t,this.localStorage.getLocalStorage("deviceId"),this.constant.serviceName_RESENDOTP).subscribe(t=>{var e=t.responseParameter;"00"==e.opstatus?(showToastMessage(e.Result,"success"),this.timerCounter()):this.errorCallBack(t.subActionId,e)})}errorCallBack(t,e){}setRegisteredStep(){console.log(this.DataService.regIsAtStep);let t=this.DataService.regIsAtStep-1;for(let e=0;e<=t-1;e++)this.registrationsteps[e].stepStatus="completed",this.registrationsteps[e].stepActive=!1;this.registrationsteps[t].stepActive=!0,"completed"!=this.registrationsteps[t].stepStatus&&(this.registrationsteps[t].stepStatus="inprogress"),this.activeTab="step"+this.DataService.regIsAtStep,this.curentTabIndex=t=this.DataService.regIsAtStep}onstepChange(t,e){console.log(t,e),this.activeTab=t;for(let c=0;c<this.registrationsteps.length;c++)this.registrationsteps[c].stepActive=!1;this.registrationsteps[e-1].stepActive=!0}mobPrevclick(t){null!=t&&"cross"==t?this.router.navigateByUrl("/registrationMobCheck"):"web"==this.constant.getPlatform()?this.router.navigateByUrl("/nliLanding"):this.router.navigateByUrl("/LandingPage")}prevstep(t){let e=t-2;console.log(e),this.registrationsteps[e].stepActive=!0,this.registrationsteps[e+1].stepActive=!1,this.activeTab="step"+(t-1),console.log(t),this.curentTabIndex=t-1}nextstep(t){console.log(t);let e=t-1;console.log(e),"loan"==this.DataService.regType?(t+1>4&&(e=t-2),this.registrationsteps[e].stepStatus="completed",this.registrationsteps[e].stepActive=!1,this.registrationsteps[e+1].stepActive=!0,"completed"!=this.registrationsteps[e+1].stepStatus&&(this.registrationsteps[e+1].stepStatus="inprogress"),this.activeTab=t+1==4?"step"+(t+2):"step"+(t+1)):(this.registrationsteps[e].stepStatus="completed",this.registrationsteps[e].stepActive=!1,this.registrationsteps[e+1].stepActive=!0,"completed"!=this.registrationsteps[e+1].stepStatus&&(this.registrationsteps[e+1].stepStatus="inprogress"),this.activeTab="step"+(t+1)),this.curentTabIndex=t+1}timerCounter(){this.otp1="",this.otp2="",this.otp3="",this.otp4="",this.otp5="",this.otp6="",this.counter=120,this.countDown&&!this.countDown.closed&&this.countDown.unsubscribe(),this.countDown=Object(o.a)(0,this.tick).subscribe(()=>{1==this.counter&&this.countDown.unsubscribe(),--this.counter})}onKeyUp(t,e){this.invaildotp="";const c=e.which||e.keyCode;console.log(t),console.log(e.which),console.log(e.keyCode),1===this.getSpasswordElement(t).value.length&&(5!==t?this.getSpasswordElement(t+1).focus():(this.getSpasswordElement(t).blur(),this.otpConfirmation(),console.log("submit code "))),12===c&&1!==t&&this.getSpasswordElement(t-1).focus(),8!==c&&229!==c||"Unidentified"!=e.key&&this.getSpasswordElement(t-1).focus()}onFocus(t){for(let e=1;e<t;e++){const t=this.getSpasswordElement(e);if(!t.value){t.focus();break}}}getSpasswordElement(t){if(t<=5)return this.mobileOtp._results[t].nativeElement}closePopups(t){this.commonMethod.closePopup("div."+t)}skip(t){this.childUpiReg.skip(t)}backToPrevPage(){this.location.back()}termsConditionPopup(t){this.termsCondition="",this.termsCondition=t,console.log("registration steps :: ",t),this.childTermsReg.openPopupTerms()}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(r.c),n.Yb(l.a),n.Yb(d.a),n.Yb(p.a),n.Yb(u.a),n.Yb(h.a),n.Yb(m.a),n.Yb(g.a),n.Yb(v.n))},t.\u0275cmp=n.Sb({type:t,selectors:[["app-registration-steps"]],viewQuery:function(t,e){var c;1&t&&(n.Yc(i.a,!0),n.Yc(s.a,!0),n.Yc(a.a,!0),n.Yc(b,!0)),2&t&&(n.Dc(c=n.mc())&&(e.child=c.first),n.Dc(c=n.mc())&&(e.childUpiReg=c.first),n.Dc(c=n.mc())&&(e.childTermsReg=c.first),n.Dc(c=n.mc())&&(e.mobileOtp=c))},decls:355,vars:87,consts:[[1,"prelogin-page"],[1,"registration-steps"],[1,"row1"],[1,"col-12"],[1,"inner-header"],[1,"registration-container"],[1,"prev-tab",3,"click"],["src","assets/images/svg/left-arrow.svg"],[1,"close-registration"],["src","assets/images/svg/close-w.svg",3,"click"],[1,"registrationsteps-block","registration-container","clearfix"],[1,"steps-block"],[1,"close"],["src","assets/images/svg/close-b.svg"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"tab-block"],[4,"ngIf"],["id","numberConfirmation",1,"popup-bottom","sm-popup","opt-verification","popup1","numberConfirmation"],[1,"col-10"],[1,"col-2"],[1,"modal-body"],[1,"text-center"],["src","assets/images/icons/mobile.svg","alt","mobile-icon"],[1,"greentext","text-center"],[1,"col-12","pl-2","pr-2"],[1,"row3"],[1,"col-sm-2","col-2","col-md-2"],[1,"ux-input","password1","mb-1"],["id","otppassword1","type","password","maxlength","1","placeholder","\u25cf","numbersOnly","","tabindex","1",3,"ngModel","ngModelOptions","keyup","focus","ngModelChange"],["mOtpRow",""],["id","otppassword2","type","password","maxlength","1","placeholder","\u25cf","numbersOnly","","tabindex","2",3,"ngModel","ngModelOptions","keyup","focus","ngModelChange"],["id","otppassword3","type","password","maxlength","1","placeholder","\u25cf","numbersOnly","","tabindex","3",3,"ngModel","ngModelOptions","keyup","focus","ngModelChange"],["id","otppassword4","type","password","maxlength","1","placeholder","\u25cf","numbersOnly","","tabindex","4",3,"ngModel","ngModelOptions","keyup","focus","ngModelChange"],["id","otppassword5","type","password","maxlength","1","placeholder","\u25cf","numbersOnly","","tabindex","5",3,"ngModel","ngModelOptions","keyup","focus","ngModelChange"],["id","otppassword6","type","password","maxlength","1","placeholder","\u25cf","numbersOnly","","tabindex","6",3,"ngModel","ngModelOptions","keyup","focus","ngModelChange"],[1,"ux-input","password1","mt-0","mb-0"],[1,"error-message","pt-1"],[1,"col-6","col-md-6"],[1,"text-left","pt-1"],["class"," settimer",4,"ngIf"],[1,"text-right"],["tabindex","-1",1,"ux-linkbutton","default-underline","mt3",3,"ngClass","click"],["id","usernamePolicy","role","dialog",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"mh-bottom"],["href","javascript:;","data-dismiss","modal"],[1,"mh-cross"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"ux-button","sm","secondary"],["id","passwordPolicy","role","dialog",1,"modal","fade"],[1,"popup-bottom","invalid-registration-dtl"],["src","./assets/images/svg/information.svg","alt","information-icon"],[1,"row1","mt-2"],[1,"col-12","text-center",3,"click"],["type","button",1,"ux-button","primary","submit-btn"],[1,"popup-bottom","md-popup","username-popup"],[1,"text-left"],[1,"ux-button-icon","close-btn",3,"click"],["src","../assets/images/svg/close-b.svg","alt","cross-icon",1,"img-vsmall"],[1,"col-12","mt-2"],[1,"orderlist"],[1,"col-12","col-md-12","text-center"],[1,"ux-button","secondary","sm-mob",3,"click"],[1,"popup-bottom","md-popup","password-popup"],["src","assets/images/svg/close-b.svg","alt","cross-icon",1,"img-vsmall"],[1,"popup-bottom","md-popup","mpin-popup"],[1,"popup-bottom","md-popup","tpin-popup"],[1,"popup-bottom","show-valid-acc","sm-popup"],["src","assets/images/svg/information.svg","alt","information-icon"],[1,"popup-bottom","show-valid-user","sm-popup"],[1,"popup-bottom","sm-popup","entered-upi-error"],["src","assets/images/svg/information.svg","alt","error-icon"],[1,"col-12","mb-4"],[1,"col-12","text-center"],[1,"ux-button","submit-btn",3,"click"],[1,"popup-bottom","checkavailable-upi-error","sm-popup"],[3,"termsConditionType"],[3,"ngClass"],["type","radio","name","steps",3,"value","ngModel","checked","ngModelChange"],[1,"step-number"],[1,"step-name"],[3,"nextEvent","termsConditionEvent"],[3,"nextEvent2","prevEvent"],[1,"settimer"]],template:function(t,e){1&t&&(n.ec(0,"div",0),n.ec(1,"div",1),n.ec(2,"div",2),n.ec(3,"div",3),n.ec(4,"div",4),n.ec(5,"div",5),n.ec(6,"a",6),n.lc("click",(function(){return e.backToPrevPage()})),n.Zb(7,"img",7),n.Sc(8,"Back to Login"),n.dc(),n.ec(9,"h4"),n.Sc(10),n.qc(11,"translate"),n.dc(),n.ec(12,"a",8),n.ec(13,"img",9),n.lc("click",(function(){return e.mobPrevclick()})),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(14,"div",10),n.ec(15,"div",11),n.ec(16,"span",12),n.Zb(17,"img",13),n.dc(),n.ec(18,"ul"),n.Rc(19,f,6,10,"li",14),n.dc(),n.dc(),n.ec(20,"div",15),n.Rc(21,I,2,0,"div",16),n.Rc(22,P,2,0,"div",16),n.Rc(23,A,2,0,"div",16),n.Rc(24,M,2,0,"div",16),n.Rc(25,y,2,0,"div",16),n.Rc(26,C,2,0,"div",16),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(27,"div",17),n.ec(28,"div",2),n.Zb(29,"div",18),n.Zb(30,"div",19),n.dc(),n.ec(31,"div",2),n.ec(32,"div",20),n.ec(33,"div",2),n.ec(34,"div",3),n.ec(35,"div",21),n.Zb(36,"img",22),n.dc(),n.ec(37,"div",21),n.ec(38,"h4",23),n.Sc(39),n.qc(40,"translate"),n.dc(),n.dc(),n.ec(41,"p"),n.Sc(42),n.qc(43,"translate"),n.dc(),n.ec(44,"div",21),n.ec(45,"div",3),n.ec(46,"div",2),n.ec(47,"div",24),n.ec(48,"div",25),n.ec(49,"div",26),n.ec(50,"div",27),n.ec(51,"input",28,29),n.lc("keyup",(function(t){return e.onKeyUp(0,t)}))("focus",(function(){return e.onFocus(0)}))("ngModelChange",(function(t){return e.otp1=t})),n.dc(),n.dc(),n.dc(),n.ec(53,"div",26),n.ec(54,"div",27),n.ec(55,"input",30,29),n.lc("keyup",(function(t){return e.onKeyUp(1,t)}))("focus",(function(){return e.onFocus(1)}))("ngModelChange",(function(t){return e.otp2=t})),n.dc(),n.dc(),n.dc(),n.ec(57,"div",26),n.ec(58,"div",27),n.ec(59,"input",31,29),n.lc("keyup",(function(t){return e.onKeyUp(2,t)}))("focus",(function(){return e.onFocus(2)}))("ngModelChange",(function(t){return e.otp3=t})),n.dc(),n.dc(),n.dc(),n.ec(61,"div",26),n.ec(62,"div",27),n.ec(63,"input",32,29),n.lc("keyup",(function(t){return e.onKeyUp(3,t)}))("focus",(function(){return e.onFocus(3)}))("ngModelChange",(function(t){return e.otp4=t})),n.dc(),n.dc(),n.dc(),n.ec(65,"div",26),n.ec(66,"div",27),n.ec(67,"input",33,29),n.lc("keyup",(function(t){return e.onKeyUp(4,t)}))("focus",(function(){return e.onFocus(4)}))("ngModelChange",(function(t){return e.otp5=t})),n.dc(),n.dc(),n.dc(),n.ec(69,"div",26),n.ec(70,"div",27),n.ec(71,"input",34,29),n.lc("keyup",(function(t){return e.onKeyUp(5,t)}))("focus",(function(){return e.onFocus(5)}))("ngModelChange",(function(t){return e.otp6=t})),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(73,"div",2),n.ec(74,"div",3),n.ec(75,"div",35),n.ec(76,"p",36),n.Sc(77),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(78,"div",25),n.ec(79,"div",37),n.ec(80,"p",38),n.Rc(81,N,3,3,"span",39),n.dc(),n.dc(),n.ec(82,"div",37),n.ec(83,"div",40),n.ec(84,"button",41),n.lc("click",(function(){return e.resendOtp()})),n.Sc(85),n.qc(86,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(87,"div",42),n.ec(88,"div",43),n.ec(89,"div",44),n.ec(90,"div",45),n.ec(91,"div",46),n.ec(92,"div",2),n.ec(93,"div",18),n.ec(94,"h6"),n.Sc(95),n.qc(96,"translate"),n.dc(),n.dc(),n.ec(97,"div",19),n.ec(98,"a",47),n.Zb(99,"span",48),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(100,"div",20),n.ec(101,"h4"),n.Sc(102,"The following rules are applicable for setting/ modifying the Username"),n.dc(),n.ec(103,"ol"),n.ec(104,"li"),n.Sc(105," Omnichannel Digital Banking application username shall be a minimum of 8 and a maximum of 20 characters with no spaces in-between."),n.dc(),n.ec(106,"li"),n.Sc(107," Username can be alphanumeric with support for special characters like (. and _ )"),n.dc(),n.dc(),n.dc(),n.ec(108,"div",49),n.ec(109,"button",50),n.Sc(110),n.qc(111,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(112,"div",51),n.ec(113,"div",43),n.ec(114,"div",44),n.ec(115,"div",45),n.ec(116,"div",46),n.ec(117,"div",2),n.ec(118,"div",18),n.ec(119,"h6"),n.Sc(120),n.qc(121,"translate"),n.dc(),n.dc(),n.ec(122,"div",19),n.ec(123,"a",47),n.Zb(124,"span",48),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(125,"div",20),n.ec(126,"h4"),n.Sc(127," The following rules are applicable for setting/ modifying the password."),n.dc(),n.ec(128,"ol"),n.ec(129,"li"),n.Sc(130," Omnichannel Digital Banking application Password shall be a minimum of 8 and a maximum of 16 characters with no spaces in-between."),n.dc(),n.ec(131,"li"),n.Sc(132," Password shall be aphanumeric and should contain atleast."),n.dc(),n.ec(133,"ol"),n.ec(134,"li"),n.Sc(135," One Capital Alphabet."),n.dc(),n.ec(136,"li"),n.Sc(137," One Lower case Aplhabet."),n.dc(),n.ec(138,"li"),n.Sc(139," One numeral."),n.dc(),n.ec(140,"li"),n.Sc(141," one special character."),n.dc(),n.dc(),n.ec(142,"li"),n.Sc(143," Password can not consist of all characters of user-id."),n.dc(),n.ec(144,"li"),n.Sc(145," Modified password can not be same as any of previous 3 passwords."),n.dc(),n.ec(146,"li"),n.Sc(147," In case a customer does not log into Internet Banking for more than 180 days his password will expire."),n.dc(),n.dc(),n.dc(),n.ec(148,"div",49),n.ec(149,"button",50),n.Sc(150),n.qc(151,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(152,"div",52),n.ec(153,"div",2),n.ec(154,"div",3),n.ec(155,"h4",21),n.Zb(156,"img",53),n.Sc(157),n.qc(158,"translate"),n.dc(),n.dc(),n.dc(),n.ec(159,"div",2),n.ec(160,"div",3),n.Rc(161,D,2,1,"p",16),n.dc(),n.dc(),n.ec(162,"div",54),n.ec(163,"div",55),n.lc("click",(function(){return e.closePopup("invalid-registration-dtl")})),n.ec(164,"button",56),n.Sc(165),n.qc(166,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(167,"div",57),n.ec(168,"div",2),n.ec(169,"div",18),n.ec(170,"h4",58),n.Sc(171,"User Name Policy"),n.dc(),n.dc(),n.ec(172,"div",19),n.ec(173,"button",59),n.lc("click",(function(){return e.closePopups("username-popup")})),n.Zb(174,"img",60),n.dc(),n.dc(),n.dc(),n.ec(175,"div",2),n.ec(176,"div",3),n.ec(177,"h5",58),n.Sc(178,"The following rules are applicable for setting/modify the User Name."),n.dc(),n.dc(),n.ec(179,"div",61),n.ec(180,"ul",62),n.ec(181,"li"),n.Sc(182,"Omnichannel Digital Banking application username shall be a minimum of 8 and a maximum of 20 characters with no spaces in-between."),n.dc(),n.ec(183,"li"),n.Sc(184," Username can be alphanumeric with support for special characters like (. and _ )"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(185,"div",54),n.ec(186,"div",63),n.ec(187,"button",64),n.lc("click",(function(){return e.closePopups("username-popup")})),n.Sc(188,"OK"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(189,"div",65),n.ec(190,"div",2),n.ec(191,"div",18),n.ec(192,"h4",58),n.Sc(193,"Password Policy"),n.dc(),n.dc(),n.ec(194,"div",19),n.ec(195,"button",59),n.lc("click",(function(){return e.closePopups("password-popup")})),n.Zb(196,"img",66),n.dc(),n.dc(),n.dc(),n.ec(197,"div",2),n.ec(198,"div",3),n.ec(199,"h5",58),n.Sc(200,"The following rules are applicable for setting/modify the Password."),n.dc(),n.dc(),n.ec(201,"div",61),n.ec(202,"ol",62),n.ec(203,"li"),n.Sc(204," Omnichannel Digital Banking application Password shall be a minimum of 8 and a maximum of 16 characters with no spaces in-between."),n.dc(),n.ec(205,"li"),n.Sc(206," Password shall be aphanumeric and should contain atleast."),n.dc(),n.ec(207,"ol"),n.ec(208,"li"),n.Sc(209,"One Capital Alphabet."),n.dc(),n.ec(210,"li"),n.Sc(211,"One Lower case Aplhabet."),n.dc(),n.ec(212,"li"),n.Sc(213,"One numeral."),n.dc(),n.ec(214,"li"),n.Sc(215,"one special character."),n.dc(),n.dc(),n.ec(216,"li"),n.Sc(217,"Password cannot consist of all characters of user-id."),n.dc(),n.ec(218,"li"),n.Sc(219," Modified password can not be same as any of previous 3 passwords.."),n.dc(),n.ec(220,"li"),n.Sc(221,"In case a customer does not log into Internet Banking for more than 180 days his password will expire."),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(222,"div",54),n.ec(223,"div",63),n.ec(224,"button",64),n.lc("click",(function(){return e.closePopups("password-popup")})),n.Sc(225,"OK"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(226,"div",67),n.ec(227,"div",2),n.ec(228,"div",18),n.ec(229,"h4",58),n.Sc(230,"MPIN Policy"),n.dc(),n.dc(),n.ec(231,"div",19),n.ec(232,"button",59),n.lc("click",(function(){return e.closePopups("mpin-popup")})),n.Zb(233,"img",66),n.dc(),n.dc(),n.dc(),n.ec(234,"div",2),n.ec(235,"div",3),n.ec(236,"h5",58),n.Sc(237,"Below rules should be considered while setting the MPIN/ TPIN."),n.dc(),n.dc(),n.ec(238,"div",61),n.ec(239,"ul",62),n.ec(240,"li"),n.Sc(241,"MPIN/ TPIN should be 6-digit number."),n.dc(),n.ec(242,"li"),n.Sc(243," Set MPIN/ TPIN and Confirm MPIN/ TPIN should be equal."),n.dc(),n.ec(244,"li"),n.Sc(245,"MPIN/ TPIN should not be simple."),n.dc(),n.ec(246,"li"),n.Sc(247,"MPIN/ TPIN should not contain more than 2 sequential or 2 repeating numbers like 123456 or 111111 or 123123 etc."),n.dc(),n.ec(248,"li"),n.Sc(249,"MPIN/ TPIN can not be same as last three MPIN/ TPINs."),n.dc(),n.ec(250,"li"),n.Sc(251,"MPIN and TPIN should be different."),n.dc(),n.ec(252,"li"),n.Sc(253,"MPIN and TPIN shall be changed every 6 months.."),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(254,"div",54),n.ec(255,"div",63),n.ec(256,"button",64),n.lc("click",(function(){return e.closePopups("mpin-popup")})),n.Sc(257,"OK"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(258,"div",68),n.ec(259,"div",2),n.ec(260,"div",18),n.ec(261,"h4",58),n.Sc(262,"TPIN Policy"),n.dc(),n.dc(),n.ec(263,"div",19),n.ec(264,"button",59),n.lc("click",(function(){return e.closePopups("tpin-popup")})),n.Zb(265,"img",66),n.dc(),n.dc(),n.dc(),n.ec(266,"div",2),n.ec(267,"div",3),n.ec(268,"h5",58),n.Sc(269,"Below rules should be considered while setting the MPIN/ TPIN."),n.dc(),n.dc(),n.ec(270,"div",61),n.ec(271,"ul",62),n.ec(272,"li"),n.Sc(273,"MPIN/ TPIN should be 6-digit number."),n.dc(),n.ec(274,"li"),n.Sc(275," Set MPIN/ TPIN and Confirm MPIN/ TPIN should be equal."),n.dc(),n.ec(276,"li"),n.Sc(277,"MPIN/ TPIN should not be simple."),n.dc(),n.ec(278,"li"),n.Sc(279,"MPIN/ TPIN should not contain more than 2 sequential or 2 repeating numbers like 123456 or 111111 or 123123 etc."),n.dc(),n.ec(280,"li"),n.Sc(281,"MPIN/ TPIN can not be same as last three MPIN/ TPINs."),n.dc(),n.ec(282,"li"),n.Sc(283,"MPIN and TPIN should be different."),n.dc(),n.ec(284,"li"),n.Sc(285,"MPIN and TPIN shall be changed every 6 months.."),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(286,"div",54),n.ec(287,"div",63),n.ec(288,"button",64),n.lc("click",(function(){return e.closePopups("tpin-popup")})),n.Sc(289,"OK"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(290,"div",69),n.ec(291,"div",2),n.ec(292,"div",3),n.ec(293,"h4",21),n.Zb(294,"img",70),n.Sc(295),n.qc(296,"translate"),n.dc(),n.dc(),n.dc(),n.ec(297,"div",2),n.ec(298,"div",3),n.ec(299,"p"),n.Sc(300,"Please provide valid account details for registration"),n.dc(),n.dc(),n.dc(),n.ec(301,"div",54),n.ec(302,"div",55),n.lc("click",(function(){return e.closePopup("show-valid-acc")})),n.ec(303,"button",56),n.Sc(304),n.qc(305,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(306,"div",71),n.ec(307,"div",2),n.ec(308,"div",3),n.ec(309,"h4",21),n.Zb(310,"img",70),n.Sc(311),n.qc(312,"translate"),n.dc(),n.dc(),n.dc(),n.ec(313,"div",2),n.ec(314,"div",3),n.ec(315,"p"),n.Sc(316),n.dc(),n.dc(),n.dc(),n.ec(317,"div",54),n.ec(318,"div",55),n.lc("click",(function(){return e.closePopup("show-valid-user")})),n.ec(319,"button",56),n.Sc(320),n.qc(321,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(322,"div",72),n.ec(323,"div",2),n.ec(324,"div",3),n.ec(325,"h4",21),n.Zb(326,"img",73),n.Sc(327),n.qc(328,"translate"),n.dc(),n.dc(),n.dc(),n.ec(329,"div",2),n.ec(330,"div",74),n.ec(331,"p"),n.Sc(332,"We are unable to activate UPI for your Mobile/Account. Please get into touch with your Branch for more details"),n.dc(),n.dc(),n.dc(),n.ec(333,"div",54),n.ec(334,"div",75),n.ec(335,"button",76),n.lc("click",(function(){return e.skip("entered-upi-error")})),n.Sc(336),n.qc(337,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(338,"div",77),n.ec(339,"div",2),n.ec(340,"div",3),n.ec(341,"h4",21),n.Zb(342,"img",73),n.Sc(343),n.qc(344,"translate"),n.dc(),n.dc(),n.dc(),n.ec(345,"div",2),n.ec(346,"div",74),n.ec(347,"p"),n.Sc(348),n.dc(),n.dc(),n.dc(),n.ec(349,"div",54),n.ec(350,"div",75),n.ec(351,"button",76),n.lc("click",(function(){return e.closePopup("checkavailable-upi-error")})),n.Sc(352),n.qc(353,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.Zb(354,"app-terms-conditons",78)),2&t&&(n.Mb(10),n.Tc(n.rc(11,45,"RETAIL_ACCOUNT_REGISTRATION")),n.Mb(9),n.uc("ngForOf",e.registrationsteps),n.Mb(2),n.uc("ngIf","step1"==e.activeTab),n.Mb(1),n.uc("ngIf","step2"==e.activeTab),n.Mb(1),n.uc("ngIf","step3"==e.activeTab),n.Mb(1),n.uc("ngIf","step4"==e.activeTab),n.Mb(1),n.uc("ngIf","step5"==e.activeTab),n.Mb(1),n.uc("ngIf","step6"==e.activeTab),n.Mb(13),n.Tc(n.rc(40,47,"OTP_VERIFICATION")),n.Mb(3),n.Vc("",n.rc(43,49,"OTP_HELP_TEXT")," ",e.DataService.maskRegisternumber,""),n.Mb(9),n.uc("ngModel",e.otp1)("ngModelOptions",n.xc(81,k)),n.Mb(4),n.uc("ngModel",e.otp2)("ngModelOptions",n.xc(82,k)),n.Mb(4),n.uc("ngModel",e.otp3)("ngModelOptions",n.xc(83,k)),n.Mb(4),n.uc("ngModel",e.otp4)("ngModelOptions",n.xc(84,k)),n.Mb(4),n.uc("ngModel",e.otp5)("ngModelOptions",n.xc(85,k)),n.Mb(4),n.uc("ngModel",e.otp6)("ngModelOptions",n.xc(86,k)),n.Mb(6),n.Tc(e.invaildotp),n.Mb(4),n.uc("ngIf",e.counter>0),n.Mb(3),n.uc("ngClass",e.counter>0?"rsnd-lnk mydisabled":"rsnd-lnk resendActive"),n.Mb(1),n.Tc(n.rc(86,51,"RESEND")),n.Mb(10),n.Tc(n.rc(96,53,"USERNAME_\xa0POLICY")),n.Mb(15),n.Tc(n.rc(111,55,"OK")),n.Mb(10),n.Tc(n.rc(121,57,"PASSWORD_POLICY")),n.Mb(30),n.Tc(n.rc(151,59,"OK")),n.Mb(7),n.Uc("",n.rc(158,61,"INFORMATION")," "),n.Mb(4),n.uc("ngIf",""!=e.information),n.Mb(4),n.Tc(n.rc(166,63,"OK")),n.Mb(130),n.Uc("",n.rc(296,65,"INFORMATION")," "),n.Mb(9),n.Tc(n.rc(305,67,"OK")),n.Mb(7),n.Uc("",n.rc(312,69,"INFORMATION")," "),n.Mb(5),n.Tc(e.DataService.errorMsg),n.Mb(4),n.Tc(n.rc(321,71,"OK")),n.Mb(7),n.Uc(" ",n.rc(328,73,"INFORMATION")," "),n.Mb(9),n.Tc(n.rc(337,75,"SKIP")),n.Mb(7),n.Uc(" ",n.rc(344,77,"INFORMATION")," "),n.Mb(5),n.Tc(e.DataService.errorResult),n.Mb(4),n.Tc(n.rc(353,79,"CLOSE")),n.Mb(2),n.uc("termsConditionType",e.termsCondition))},styles:[""]}),t})()},Ly1F:function(t,e,c){"use strict";c.r(e),c.d(e,"RegistrationCustDetailsModule",(function(){return h}));var i=c("ofXK"),s=c("w3dz"),o=c("tyNb"),a=c("fXoL");const n=[{path:"",component:s.a}];let r=(()=>{class t{}return t.\u0275mod=a.Wb({type:t}),t.\u0275inj=a.Vb({factory:function(e){return new(e||t)},imports:[[o.g.forChild(n)],o.g]}),t})();var l=c("3Pt+"),d=c("PCNd"),p=c("AvjH"),u=c("7kUO");let h=(()=>{class t{}return t.\u0275mod=a.Wb({type:t}),t.\u0275inj=a.Vb({factory:function(e){return new(e||t)},imports:[[i.c,r,l.m,l.C,d.a,p.a,u.TermsConditonsModule]]}),t})()},QrBj:function(t,e,c){"use strict";c.d(e,"a",(function(){return r}));var i=c("fXoL"),s=c("5IsW"),o=c("fHQ/"),a=c("H9Rt"),n=c("EnSQ");let r=(()=>{class t{constructor(t,e,c,i,s){this.constant=t,this.encryptService=e,this.constants=c,this.localStorage=i,this.dataService=s}getResendOTPReq(t){var e;return e={[this.constants.key_entityId]:this.constant.getEntityId(),[this.constants.key_cbsType]:this.constants.val_cbsTypeTcs,[this.constants.key_mobPlatform]:this.constants.val_mobPlatform,[this.constants.key_mobileAppVersion]:this.constants.val_mobileAppVersion,[this.constant.key_deviceId]:null==this.localStorage.getLocalStorage("deviceId")?this.constant.val_DeviceID:this.localStorage.getLocalStorage("deviceId"),[this.constant.key_clientAppVersion]:this.constants.val_clientAppVersion,[this.constant.key_latitude]:this.constant.val_latitude,[this.constant.key_longitude]:this.constant.val_longitude,[this.constant.key_service_Type]:"Login"},this.constant.getEntityId()==this.constant.val_Desktop&&"/login"==t?e[this.constant.key_UserID]=this.localStorage.getLocalStorage("username"):e[this.constant.key_MobileNo]=this.localStorage.getLocalStorage("mobileNo"),console.log("resend OTP",JSON.stringify(e)),console.log("mobStaticEncKey ",this.dataService.mobStaticEncKey),this.encryptService.encryptText(this.dataService.mobStaticEncKey,JSON.stringify(e))}getSendOTPReq(t,e){var c;return c={[this.constants.key_entityId]:this.constant.getEntityId(),[this.constants.key_cbsType]:this.constants.val_cbsTypeTcs,[this.constants.key_mobPlatform]:this.constants.val_mobPlatform,[this.constants.key_mobileAppVersion]:this.constants.val_mobileAppVersion,[this.constant.key_deviceId]:this.localStorage.getLocalStorage("deviceId"),[this.constants.key_OTP]:t,[this.constant.key_clientAppVersion]:this.constants.val_clientAppVersion,[this.constant.key_latitude]:this.constant.val_latitude,[this.constant.key_longitude]:this.constant.val_longitude,[this.constant.key_service_Type]:this.constant.val_REGISTRATION},this.constant.getEntityId()==this.constant.val_Desktop&&"/login"==e?c[this.constant.key_UserID]=this.localStorage.getLocalStorage("username"):c[this.constant.key_MobileNo]=this.localStorage.getLocalStorage("mobileNo"),console.log(c),console.log("mobStaticEncKey ",this.dataService.mobStaticEncKey),this.encryptService.encryptText(this.dataService.mobStaticEncKey,JSON.stringify(c))}}return t.\u0275fac=function(e){return new(e||t)(i.ic(s.a),i.ic(o.a),i.ic(s.a),i.ic(a.a),i.ic(n.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},TaOT:function(t,e,c){"use strict";c.d(e,"a",(function(){return o}));var i=c("fXoL"),s=c("fUdP");let o=(()=>{class t{constructor(t){this.customCurrencyPipe=t}markFormGroupTouched(t){Object.values(t.controls).forEach(t=>{t.markAsTouched(),t.controls&&t.controls.forEach(t=>this.markFormGroupTouched(t))})}markFormGroupUntouched(t){Object.values(t.controls).forEach(t=>{t.markAsUntouched(),t.controls&&t.controls.forEach(t=>this.markFormGroupUntouched(t))})}validationMessages(){return{required:"* This field is required",email:"* This email address is invalid",minlength:"* Length is too short",maxlength:"* Length is too long",invalid_characters:t=>{let e=t;return e=e.reduce((t,c,i)=>{let s=t;return s+=c,e.length!==i+1&&(s+=", "),s},""),"These characters are not allowed: "+e}}}validateForm(t,e,c){const i=t;for(const s in e)if(s){e[s]="";const t=i.get(s),o=this.validationMessages();if(t&&!t.valid&&(!c||t.dirty||t.touched))for(const c in t.errors)console.log("======>inside",c),e[s]=c&&"invalid_characters"!==c?e[s]||o[c]:e[s]||o[c](t.errors[c])}return e}formatCurrency(t,e,c){if("0"!=t)if(""!=t){let c=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==c.trim().replace(/[^.0-9]+/g,"")?e.contains("amount")&&e.get("amount").reset():"0"==c.trim().replace(/[^.0-9]+/g,"")?e.get("amount").reset():(console.log(c),e.patchValue({amount:c}))}else e.get("amount").reset("");else e.contains("amount")&&e.get("amount").reset()}formatTransLimit(t,e){if("0"!=t)if(""!=t){let c=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==c?e.contains("transactionLimit")&&e.get("transactionLimit").reset():"0"==c.trim()?e.get("transactionLimit").reset():(console.log(c),e.patchValue({transactionLimit:c}))}else e.get("transactionLimit").reset("");else e.contains("transactionLimit")&&e.get("transactionLimit").reset()}formatDynamicCurrency(t,e){$("#"+t).val()&&"\u20b9 0.00"!=$("#"+t).val()?e.patchValue({amount:$("#"+t).val()}):e.get("amount").reset("")}deFormatValue(t,e){e.patchValue({amount:t.replace(/[^0-9.]+/g,"")})}formatAmtCurrency(t,e,c){if("0"!=t)if(""!=t){let i=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==i?e.contains(c)&&e.get(c).reset():"0"==i.trim()?e.get(c).reset():e.controls[c].patchValue("\u20b9"+i)}else e.get(c).reset("");else e.contains(c)&&e.get(c).reset()}}return t.\u0275fac=function(e){return new(e||t)(i.ic(s.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"u+vE":function(t,e,c){"use strict";c.d(e,"a",(function(){return P}));var i=c("3Pt+"),s=c("fXoL"),o=c("tyNb"),a=c("EnSQ"),n=c("4bKs"),r=c("L7Xq"),l=c("TaOT"),d=c("5IsW"),p=c("SJkw"),u=c("H9Rt"),h=c("au7T"),m=c("ofXK");function g(t,e){1&t&&s.Zb(0,"img",30)}function v(t,e){if(1&t){const t=s.fc();s.ec(0,"a",31),s.lc("click",(function(){return s.Hc(t),s.pc().checkAvailability()})),s.Sc(1,"Check Availability"),s.dc()}}function b(t,e){if(1&t&&(s.ec(0,"div",11),s.ec(1,"div",32),s.ec(2,"label"),s.Sc(3,"Linked Bank Account"),s.dc(),s.ec(4,"a",33),s.Zb(5,"img",34),s.ec(6,"div",35),s.ec(7,"span"),s.ec(8,"sup"),s.Sc(9,"**** **** ****"),s.dc(),s.Sc(10),s.dc(),s.ec(11,"b"),s.Sc(12),s.dc(),s.dc(),s.dc(),s.dc(),s.dc()),2&t){const t=s.pc();s.Mb(10),s.Uc("",t.getLast4digit(t.selVpaAcc.accNum)," "),s.Mb(2),s.Tc(t.selVpaAcc.accType)}}function S(t,e){if(1&t&&(s.ec(0,"a",33),s.Zb(1,"img",34),s.ec(2,"div",35),s.ec(3,"span"),s.ec(4,"sup"),s.Sc(5,"**** **** ****"),s.dc(),s.Sc(6),s.dc(),s.ec(7,"b"),s.Sc(8),s.qc(9,"titlecase"),s.dc(),s.dc(),s.dc()),2&t){const t=e.$implicit,c=s.pc(2);s.Mb(6),s.Uc("",c.getLast4digit(t.ACCNUMBER)," "),s.Mb(2),s.Tc(s.rc(9,2,t.accType))}}function f(t,e){if(1&t&&(s.ec(0,"div",11),s.ec(1,"div",32),s.ec(2,"label"),s.Sc(3,"Linked Bank Account"),s.dc(),s.Rc(4,S,10,4,"a",36),s.dc(),s.dc()),2&t){const t=s.pc();s.Mb(4),s.uc("ngForOf",t.vpaAddressList)}}const I=function(t){return{"ux-disabled-transperent":t}};let P=(()=>{class t{constructor(t,e,c,i,o,a,n,r,l,d){this.form=t,this.router=e,this.DataService=c,this.loader=i,this.http=o,this.formValidation=a,this.constant=n,this.regServices=r,this.localStorage=l,this.commonMethod=d,this.nextEvent2=new s.q,this.prevEvent=new s.q,this.commonPageComponent={headerType:"preloginHeader",sidebarNAv:!1,footer:"innerFooter",currentpageRoute:"/registration"},this.formErrorsstep1={upiId:""},this.isUpiAvailable=!1,this.upiVerified=!1,this.ifAlreadyLinked=!1,this.onGetAccList=!1,this.accountDtl=[],this.accDtl=[],this.addAccNo=!1}ngOnInit(){this.DataService.changeMessage(this.commonPageComponent),this.buildForm(),this.onCheckIsAccValidForVpa()}onCheckIsAccValidForVpa(){var t=this.regServices.getMobileList();this.getAccList(t)}getAccList(t){this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.key_deviceId),this.constant.serviceName_MOBILELIST).subscribe(t=>{console.log(t),"00"==t.responseParameter.opstatus?this._getUpiIfAvailable():(this.commonMethod.closeAllPopup(),this.commonMethod.openPopup("div.popup-bottom.entered-upi-error"))})}_getUpiIfAvailable(){var t=this.regServices.getVPAListRequestObject();this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.key_deviceId),this.constant.serviceName_GetPaymentAddressListDetails).subscribe(t=>{var e;if(console.log(t),"00"==t.responseParameter.opstatus){console.log(t.responseParameter),console.log(t);let s=t.responseParameter.upiResponse,o=(null===(e=s.responseParameter)||void 0===e?void 0:e.addresslist)?this.DataService.processVPAlist(s.responseParameter.addresslist):[];if(console.log(JSON.stringify(o)),o.length>0){if(o.forEach(t=>{var e=t.accounts.filter(t=>t.accNum==this.DataService.regFeildData.accNo);0!=e.length&&(this.accountDtl.push(e[0]),this.accDtl.push(t))}),1==this.accountDtl.length)console.log("in one record"),this.registrationFormUpiDtl.patchValue({upiId:this.accDtl[0].paymentAddress.split("@")[0]}),this.registrationFormUpiDtl.get("upiId").disable(),this.accountList=this.accountDtl[0],this.ifAlreadyLinked=!0,this.isUpiAvailable=!0,this.upiVerified=!0,this.selVpaAcc=this.accountList;else if(this.accountDtl.length>1){console.log("more than one record");var c=this.accDtl.filter(t=>"Y"==t.default);0!=c.length?(console.log("is default"),this.registrationFormUpiDtl.patchValue({upiId:c[0].paymentAddress.split("@")[0]}),this.registrationFormUpiDtl.get("upiId").disable(),this.accountList=c[0],this.selVpaAcc=this.accountList.accounts.filter(t=>t.accNum==this.DataService.regFeildData.accNo)[0]):(console.log("is not default"),this.registrationFormUpiDtl.patchValue({upiId:this.accDtl[0].paymentAddress.split("@")[0]}),this.registrationFormUpiDtl.get("upiId").disable(),this.accountList=this.accountDtl[0],this.selVpaAcc=this.accountList),this.ifAlreadyLinked=!0,this.isUpiAvailable=!0,this.upiVerified=!0,console.log("selVpaAcc =======>"),console.log(this.selVpaAcc),console.log(this.accountList)}else{o.forEach(t=>{"Y"==t.default&&(this.registrationFormUpiDtl.patchValue({upiId:t.paymentAddress.split("@")[0]}),this.registrationFormUpiDtl.get("upiId").disable())}),this.isUpiAvailable=!0,this.upiVerified=!0;var i=this.regServices.getAccountListParam(this.registrationFormUpiDtl.value.upiId);this.getAccountListApiCall(i,"onload")}console.log(this.accountDtl)}else i=this.regServices.checkUpiAddress(this.localStorage.getLocalStorage(this.constant.storage_mobileNo)),this.checkAvailabilityApiCall(i,"onload")}else i=this.regServices.checkUpiAddress(this.localStorage.getLocalStorage(this.constant.storage_mobileNo)),this.checkAvailabilityApiCall(i,"onload")})}getUpiIfAvailable(){var t=this.regServices.getVPAListRequestObject();this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.key_deviceId),this.constant.upiserviceName_GETPAYMENTADDRESSLISTDETAILS).subscribe(t=>{var e;if(console.log(t),"00"==t.responseParameter.opstatus){console.log(t.responseParameter),console.log(t);let i=t.responseParameter.upiResponse,s=(null===(e=i.responseParameter)||void 0===e?void 0:e.addresslist)?this.DataService.processVPAlist(i.responseParameter.addresslist):[];if(s.length>0)this.onGetAccList=!1,this.ifAlreadyLinked=!0,this.upiVerified=!0,s.length>0?(console.log(s),this.vpaAddressList=s,s.forEach(t=>{"Y"==t.default&&(this.registrationFormUpiDtl.patchValue({upiId:t.paymentAddress.split("@")[0]}),this.registrationFormUpiDtl.get("upiId").disable(),this.accountList=t.accounts,this.upiDtl=t)}),this.isUpiAvailable=!0):this.registrationFormUpiDtl.patchValue({upiId:this.localStorage.getLocalStorage(this.constant.storage_mobileNo)});else{var c=this.regServices.checkUpiAddress(this.registrationFormUpiDtl.value.upiId);this.checkAvailabilityApiCall(c,"onload")}}else this.checkAvailabilityApiCall(c,"onload")})}getLast4digit(t){return t.toString().substring(t.toString().length-4,t.toString().length)}buildForm(){this.registrationFormUpiDtl=new i.j({upiId:new i.g("",[i.G.required])}),this.registrationFormUpiDtl.valueChanges.subscribe(t=>{this.formErrorsstep1=this.formValidation.validateForm(this.registrationFormUpiDtl,this.formErrorsstep1,!0)})}submitStep4(){if(this.ifAlreadyLinked)this.nextEvent2.next(4);else if(this.addAccNo)this.addAccountAddress();else{var t=this.regServices._addPaymentAddressParam(this.vpaAddressList,this.registrationFormUpiDtl.value.upiId);this.addPaymentAddressApiCall(t)}}prevStep(){this.prevEvent.next(4)}validatesForm(){this.registrationFormUpiDtl.invalid&&this.formValidation.markFormGroupTouched(this.registrationFormUpiDtl)}checkAvailability(){if(this.validatesForm(),this.registrationFormUpiDtl.valid){console.log(this.registrationFormUpiDtl.value);var t=this.regServices.checkUpiAddress(this.registrationFormUpiDtl.value.upiId);this.checkAvailabilityApiCall(t)}else this.formErrorsstep1=this.formValidation.validateForm(this.registrationFormUpiDtl,this.formErrorsstep1,!0)}checkAvailabilityApiCall(t,e){this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.key_deviceId),this.constant.serviceName_VERIFYUPIPAYMENTADDRESS).subscribe(t=>{console.log(t);var c=t.responseParameter;if("00"==c.opstatus){console.log(t.responseParameter),"onload"==e&&(this.registrationFormUpiDtl.patchValue({upiId:this.localStorage.getLocalStorage(this.constant.storage_mobileNo)}),this.registrationFormUpiDtl.get("upiId").enable());var i=this.regServices.getAccountListParam(this.registrationFormUpiDtl.value.upiId);this.getAccountListApiCall(i)}else"onload"!=e&&(this.DataService.errorResult=c.Result,this.commonMethod.openPopup("div.popup-bottom.entered-upi-error"))})}getAccountListApiCall(t,e){this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.key_deviceId),this.constant.serviceName_GetAccountList).subscribe(t=>{console.log(t),"00"==t.responseParameter.opstatus?(console.log(t.responseParameter.upiResponse),t.responseParameter.hasOwnProperty("upiResponse")&&(this.vpaAddressList=t.responseParameter.upiResponse.responseParameter.RESULT.filter(t=>t.ACCNUMBER==this.DataService.regFeildData.accNo),this.ifAlreadyLinked=!1,this.onGetAccList=!0,this.upiVerified=!0,"onload"==e&&(this.addAccNo=!0))):this.commonMethod.openPopup("div.popup-bottom.entered-upi-error")})}skip(t){this.nextEvent2.next(4),this.commonMethod.closePopup("div.popup-bottom."+t)}closePopup(t){this.commonMethod.closePopup(t)}fetchAccountListApiCall(t){this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.key_deviceId),this.constant.serviceName_FETCHUPIACCOUNTLIST).subscribe(t=>{console.log(t),"00"==t.responseParameter.opstatus&&(console.log(t.responseParameter.upiResponse),t.responseParameter.hasOwnProperty("upiResponse")&&(this.upiDtl=JSON.parse(t.responseParameter.upiResponse)))})}addPaymentAddressApiCall(t){this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.key_deviceId),this.constant.serviceName_ADDUPIPAYMENTADDRESS).subscribe(t=>{console.log(t),"00"==t.responseParameter.opstatus&&(console.log(t.responseParameter),this.nextEvent2.next(4))})}addAccountAddress(){var t=this.regServices.addAccountAddress(this.registrationFormUpiDtl.value.upiId,this.vpaAddressList[0]);this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.key_deviceId),this.constant.serviceName_AddAccountToVpa).subscribe(t=>{console.log(t),"00"==t.responseParameter.opstatus&&(console.log(t.responseParameter),this.nextEvent2.next(4))})}_skip(){this.nextEvent2.next(4)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(i.f),s.Yb(o.c),s.Yb(a.a),s.Yb(n.a),s.Yb(r.a),s.Yb(l.a),s.Yb(d.a),s.Yb(p.a),s.Yb(u.a),s.Yb(h.a))},t.\u0275cmp=s.Sb({type:t,selectors:[["app-registration-create-upi"]],outputs:{nextEvent2:"nextEvent2",prevEvent:"prevEvent"},decls:54,vars:10,consts:[[1,"row1"],[1,"col-12","col-lg-6","col-md-12","col-sm-12","position-static"],[1,"col-12"],[1,"step-list"],[1,"step-matched"],[1,"primary"],[1,"secondary"],[1,"tab-header"],[1,"col-12","col-md-12"],[1,"link-text","mb-3"],[1,"details-section"],["Class","col-12 col-md-12"],[3,"formGroup"],[1,"ux-input","pb-0",3,"ngClass"],["for","upiId"],["src","assets/images/svg/completed.svg","class","tick-img",4,"ngIf"],["type","text","name","upiId","placeholder","Enter UPI ID/Mobile Number","value","","formControlName","upiId","autocomplete","off",3,"readonly"],[1,"show-info2",2,"background-color","transparent !important"],[1,"text-right"],["href","javascript:;","class","check-availability",3,"click",4,"ngIf"],["Class","col-12 col-md-12",4,"ngIf"],[1,"col-12","col-lg-10","col-md-12","col-sm-12","position-static"],[1,"ux-footer","border-n"],[1,"bottom-footer1"],[1,"btn-div","custom-mar"],[1,"ux-button","secondary","sm-mob",3,"click"],[1,"btn-div","custom-mar","w50"],[1,"create-upi","ux-button","primary","sm-mob",3,"disabled","click"],[1,"col-12","col-lg-6","col-md-2","col-sm-12","d-none","d-lg-block","d-xl-block"],["src","assets/images/svg/UPIID.svg",1,"right-regImg"],["src","assets/images/svg/completed.svg",1,"tick-img"],["href","javascript:;",1,"check-availability",3,"click"],[1,"link-upi-account"],[1,"clearfix"],["src","assets/images/logo/logo-small.png"],[1,"txt-block"],["class","clearfix",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(s.ec(0,"div",0),s.ec(1,"div",1),s.ec(2,"div",0),s.ec(3,"div",2),s.ec(4,"ul",3),s.ec(5,"li",4),s.ec(6,"em"),s.ec(7,"span",5),s.Sc(8,"STEP 4 "),s.dc(),s.ec(9,"span",6),s.Sc(10,"of STEP 6"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(11,"div",7),s.ec(12,"div",0),s.ec(13,"div",8),s.ec(14,"h4"),s.Sc(15,"Create UPI (Unified Payment Interface) ID"),s.dc(),s.dc(),s.dc(),s.ec(16,"div",0),s.ec(17,"div",8),s.ec(18,"small",9),s.Sc(19," UPI is an instant payment system helping in transferring the funds "),s.ec(20,"a"),s.Sc(21,"More"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(22,"div",2),s.ec(23,"div",10),s.ec(24,"div",0),s.ec(25,"div",11),s.ec(26,"form",12),s.ec(27,"div",13),s.ec(28,"label",14),s.Sc(29,"UPI ID "),s.Rc(30,g,1,0,"img",15),s.dc(),s.Zb(31,"input",16),s.ec(32,"span",17),s.Sc(33,"@psb"),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(34,"div",8),s.ec(35,"div",18),s.Rc(36,v,2,0,"a",19),s.dc(),s.dc(),s.dc(),s.ec(37,"div",0),s.Rc(38,b,13,2,"div",20),s.Rc(39,f,5,1,"div",20),s.dc(),s.dc(),s.dc(),s.ec(40,"div",21),s.ec(41,"div",22),s.ec(42,"div",0),s.ec(43,"div",8),s.ec(44,"ul",23),s.ec(45,"li"),s.ec(46,"div",24),s.ec(47,"button",25),s.lc("click",(function(){return e._skip()})),s.Sc(48,"Skip"),s.dc(),s.dc(),s.ec(49,"div",26),s.ec(50,"button",27),s.lc("click",(function(){return e.submitStep4()})),s.Sc(51,"Next"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(52,"div",28),s.Zb(53,"img",29),s.dc(),s.dc()),2&t&&(s.Mb(26),s.uc("formGroup",e.registrationFormUpiDtl),s.Mb(1),s.uc("ngClass",s.yc(8,I,!0===e.isUpiAvailable)),s.Mb(3),s.uc("ngIf",e.upiVerified),s.Mb(1),s.uc("readonly",1==e.isUpiAvailable),s.Mb(5),s.uc("ngIf",0==e.isUpiAvailable),s.Mb(2),s.uc("ngIf",e.ifAlreadyLinked),s.Mb(1),s.uc("ngIf",e.onGetAccList),s.Mb(11),s.uc("disabled",!e.upiVerified))},directives:[i.I,i.t,i.k,m.q,m.t,i.c,i.s,i.i,m.s],pipes:[m.F],styles:[".ux-disabled-transperent[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}"]}),t})()},w3dz:function(t,e,c){"use strict";c.d(e,"a",(function(){return x}));var i=c("3Pt+"),s=c("fXoL"),o=c("PqYM"),a=c("tyNb"),n=c("EnSQ"),r=c("4bKs"),l=c("L7Xq"),d=c("TaOT"),p=c("5IsW"),u=c("SJkw"),h=c("H9Rt"),m=c("faWQ"),g=c("QrBj"),v=c("au7T"),b=c("7GgT"),S=c("ofXK"),f=c("OXpz"),I=c("Geda"),P=c("Eioz");function A(t,e){1&t&&(s.ec(0,"span",37),s.Sc(1),s.qc(2,"translate"),s.dc()),2&t&&(s.Mb(1),s.Tc(s.rc(2,1,"OF_STEP_6")))}function M(t,e){1&t&&(s.ec(0,"span",37),s.Sc(1),s.qc(2,"translate"),s.dc()),2&t&&(s.Mb(1),s.Tc(s.rc(2,1,"OF_STEP_5")))}function y(t,e){1&t&&(s.ec(0,"p",38),s.Sc(1),s.qc(2,"translate"),s.dc()),2&t&&(s.Mb(1),s.Tc(s.rc(2,1,"PLEASE_ENTER_MOBILE_NO")))}function C(t,e){1&t&&(s.ec(0,"p",38),s.Sc(1),s.qc(2,"translate"),s.dc()),2&t&&(s.Mb(1),s.Tc(s.rc(2,1,"PLEASE_ENTER_VALID_MOBILE_NO")))}function N(t,e){1&t&&(s.ec(0,"p",38),s.Sc(1),s.qc(2,"translate"),s.dc()),2&t&&(s.Mb(1),s.Tc(s.rc(2,1,"PLEASE_ENTER_CUST_ID")))}function D(t,e){1&t&&(s.ec(0,"p",38),s.Sc(1),s.qc(2,"translate"),s.dc()),2&t&&(s.Mb(1),s.Tc(s.rc(2,1,"PLEASE_ENTER_VALID_CUST_ID")))}function k(t,e){1&t&&(s.ec(0,"p",38),s.Sc(1),s.qc(2,"translate"),s.dc()),2&t&&(s.Mb(1),s.Tc(s.rc(2,1,"PLEASE_ENTER_ACC")))}function T(t,e){1&t&&(s.ec(0,"p",38),s.Sc(1),s.qc(2,"translate"),s.dc()),2&t&&(s.Mb(1),s.Tc(s.rc(2,1,"PLEASE_ENTER_VALID_ACC")))}function E(t,e){1&t&&(s.ec(0,"p",38),s.Sc(1),s.qc(2,"translate"),s.dc()),2&t&&(s.Mb(1),s.Tc(s.rc(2,1,"PLEASE_ENTER_EMAILID")))}function w(t,e){1&t&&(s.ec(0,"p",38),s.Sc(1),s.qc(2,"translate"),s.dc()),2&t&&(s.Mb(1),s.Tc(s.rc(2,1,"PLEASE_ENTER_VALID_EMAIL")))}function L(t,e){1&t&&(s.ec(0,"div",21),s.ec(1,"div",39),s.ec(2,"label",23),s.Sc(3),s.qc(4,"translate"),s.Zb(5,"input",40),s.Zb(6,"span",26),s.dc(),s.dc(),s.dc()),2&t&&(s.Mb(3),s.Uc("",s.rc(4,1,"MIGRATED_USER")," "))}function O(t,e){1&t&&(s.ec(0,"p",41),s.Sc(1," Please select terms and conditions"),s.dc())}const R=function(t){return{"ux-disabled":t}};let x=(()=>{class t{constructor(t,e,c,i,o,a,n,r,l,d,p,u,h,m){this.form=t,this.router=e,this.DataService=c,this.loader=i,this.http=o,this.formValidation=a,this.constant=n,this.regServices=r,this.localStorage=l,this.registrationService=d,this.otpAPIService=p,this.commonMethods=u,this.regSteps=h,this.otpService=m,this.commonPageComponent={headerType:"preloginHeader",sidebarNAv:!1,footer:"innerFooter",currentpageRoute:"/registration"},this.formErrorsstep1={mobNumber:"",custId:"",accNo:""},this.counter=120,this.tick=1e3,this.termsCondition="",this.termsConditionEvent=new s.q,this.nextEvent=new s.q}ngOnInit(){this.isReadOnly=this.constant.getPlatform(),this.DataService.changeMessage(this.commonPageComponent),this.setDefaultValue(),this.buildForm(),this.bindForm(),console.log("inisede")}setDefaultValue(){this.DataService.regFeildData={custId:"",accNo:"",cardNumber1:"",cardNumber2:"",cardNumber3:"",cardNumber4:"",expDate1:"",expDate2:"",expDate3:"",expDate4:"",cardPin1:"",cardPin2:"",cardPin3:"",ibUserName:"",ibPassword:"",ibmpin:"",bankToken:"",username:"",password:"",confPassword:"",quest1:"",ans1:"",quest2:"",ans2:"",quest3:"",ans3:"",tpin:"",confTpin:"",mpin1:"",mpin2:"",mpin3:"",mpin4:"",mpin5:"",mpin6:"",confMpin1:"",confMpin2:"",confMpin3:"",confMpin4:"",confMpin5:"",confMpin6:""}}otpPopup(){this.regSteps.timerCounter(),this.commonMethods.openPopup("#numberConfirmation")}buildForm(){this.accountNumberLen=this.constant.val_accountNumberLength,this.registrationFormCustDtl=new i.j({mobNumber:new i.g("",[i.G.required,i.G.pattern(/^[6-9]\d{9}$/),i.G.minLength(10)]),custId:new i.g("",[i.G.required,i.G.maxLength(9)]),accNo:new i.g("",[i.G.required,i.G.maxLength(14)]),email:new i.g("",[i.G.pattern(this.constant.email_regex),i.G.required]),migrated:new i.g(""),termCondition:new i.g("",[i.G.required])}),this.registrationFormCustDtl.valueChanges.subscribe(t=>{this.formErrorsstep1=this.formValidation.validateForm(this.registrationFormCustDtl,this.formErrorsstep1,!0)})}testFunction(){this.nextEvent.next(this.DataService.regIsAtStep)}bindForm(){"web"!=this.isReadOnly&&this.registrationFormCustDtl.patchValue({mobNumber:this.localStorage.getLocalStorage(this.constant.storage_mobileNo)})}validatesForm(){this.registrationFormCustDtl.invalid&&this.formValidation.markFormGroupTouched(this.registrationFormCustDtl)}submit(){if(this.validatesForm(),this.registrationFormCustDtl.valid)if(this.isValidAccStatusFrmNo(this.registrationFormCustDtl.value.accNo))if(this.DataService.regFeildData.custId=this.registrationFormCustDtl.value.custId,this.DataService.regFeildData.accNo=this.registrationFormCustDtl.value.accNo,this.DataService.email=this.registrationFormCustDtl.value.email.toLowerCase(),this.DataService.isMigratedUser=this.registrationFormCustDtl.value.migrated,this.localStorage.setLocalStorage(this.constant.storage_mobileNo,this.registrationFormCustDtl.value.mobNumber),console.log(this.DataService.isMigratedUser),"web"==this.constant.getPlatform()){let t=this.regServices.getValidateCustDtlParam(this.DataService.regFeildData.custId,this.DataService.regFeildData.accNo,this.DataService.email.toLowerCase(),this.constant.deviceID);this.updateCustDtlApiCall(t)}else{let t=this.regServices.getValidateCustDtlMobParam(this.DataService.regFeildData.custId,this.DataService.regFeildData.accNo,this.DataService.email.toLowerCase(),this.localStorage.getLocalStorage("deviceId"));this.updateCustDtlApiCall(t)}else this.commonMethods.openPopup("div.popup-bottom.show-valid-acc");else this.formErrorsstep1=this.formValidation.validateForm(this.registrationFormCustDtl,this.formErrorsstep1,!0)}isValidAccStatusFrmNo(t){var e=!1;switch(this.DataService.regType){case"retail":e="10"==t.slice(4,6)||"11"==t.slice(4,6)||"13"==t.slice(4,6)||"16"==t.slice(4,6);break;case"loan":e="12"==t.slice(4,6);break;case"nri":e="10"==t.slice(4,6)||"11"==t.slice(4,6)||"20"==t.slice(4,6)||"21"==t.slice(4,6)||"30"==t.slice(4,6)||"31"==t.slice(4,6)}return e}cancel(){"web"==this.constant.getPlatform()?this.router.navigateByUrl("/nliLanding"):this.router.navigateByUrl("/LandingPage")}updateCustDtlApiCall(t){var e="",c="";"web"==this.constant.getPlatform()?(e=this.constant.serviceName_CIFACCOUNTMOBILECHECK,c=this.constant.deviceID):(e=this.constant.serviceName_CUSTACCOUNTVALIDATION,c=this.localStorage.getLocalStorage("deviceId")),this.http.callBankingAPIService(t,c,e).subscribe(t=>{var e;console.log(JSON.stringify(t));var c=t.responseParameter;"00"==c.opstatus?this.isValidAccStatusFrmScheme(null===(e=t.set)||void 0===e?void 0:e.records[0].schemeCode)?"web"==this.constant.getPlatform()?this.proceedWithRegistration(t):this.testFunction():this.commonMethods.openPopup("div.popup-bottom.show-valid-acc"):"02"==c.opstatus?"web"==this.constant.getPlatform()&&("N"==c.omniRegistrationStatus.toUpperCase()?this.proceedWithRegistration(t,!0):(this.DataService.errorMsg=c.Result,this.commonMethods.openPopup("div.popup-bottom.show-valid-user"))):this.errorCallBack(t.subActionId,c)})}proceedWithRegistration(t,e){var c;this.localStorage.setLocalStorage("deviceId",t.responseParameter.deviceId),this.DataService.registrationData=t.responseParameter,this.DataService.registrationSecQue=null!=t.set?null===(c=t.set)||void 0===c?void 0:c.records[0]:"",this.DataService.mobStaticEncKey=this.localStorage.getLocalStorage("mobileNo")+this.constant.mapEncryptKey,this.DataService.userRegStaus=this.DataService.registrationData.RegistrationSuccess,this.DataService.pendingAtToken=!1,this.DataService.regIsAtStep=1,this.DataService.maskRegisternumber=this.commonMethods.maskNumber(this.localStorage.getLocalStorage("mobileNo")),e?this.resendOtp():this.openOTPModal()}openOTPModal(){this.counter=120,this.countDown&&!this.countDown.closed&&this.countDown.unsubscribe(),this.countDown=Object(o.a)(0,this.tick).subscribe(()=>{1==this.counter&&this.countDown.unsubscribe(),--this.counter}),this.otpPopup()}resendOtp(){var t=this.otpService.getResendOTPReq();this.http.callBankingAPIService(t,this.localStorage.getLocalStorage("deviceId"),this.constant.serviceName_RESENDOTP).subscribe(t=>{var e=t.responseParameter;"00"==e.opstatus?this.openOTPModal():this.errorCallBack(t.subActionId,e)})}isValidAccStatusFrmScheme(t){var e=!1;switch(this.DataService.regType){case"loan":e=!0;break;case"retail":e="CAPPI"!=t&&"SBNRE"!=t&&"SBNRO"!=t&&"CANRE"!=t&&"CANRO"!=t&&"CCAGR"!=t&&"SBSRL"!=t&&"SBDCT"!=t&&"SBBAS"!=t&&"SBFIN"!=t&&"SBFIB"!=t&&"SBKID"!=t;break;case"nri":e="SBNRE"==t||"SBNRO"==t||"CANRE"==t||"CANRO"==t}return e}errorCallBack(t,e){"04"==e.opstatus&&console.log("redirect to bank account page")}closePopup(t){this.commonMethods.closePopup(t)}openPopUp(){this.termsCondition="termsConditionRegistration",this.termsConditionEvent.next(this.termsCondition)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(i.f),s.Yb(a.c),s.Yb(n.a),s.Yb(r.a),s.Yb(l.a),s.Yb(d.a),s.Yb(p.a),s.Yb(u.a),s.Yb(h.a),s.Yb(m.a),s.Yb(g.a),s.Yb(v.a),s.Yb(b.a),s.Yb(g.a))},t.\u0275cmp=s.Sb({type:t,selectors:[["app-registration-cust-details"]],outputs:{termsConditionEvent:"termsConditionEvent",nextEvent:"nextEvent"},decls:88,vars:56,consts:[[1,"row1"],[1,"col-12","col-lg-6","col-md-12","col-sm-12","position-static"],[3,"formGroup"],[1,"col-12"],[1,"step-list"],[1,"step-matched"],[1,"primary"],["class","secondary",4,"ngIf"],[1,"tab-header"],[1,"col-12","col-md-12"],[1,"details-section"],["Class","col-12 co-md-12 col-xl-10 col-lg-12"],[1,"ux-input",3,"ngClass"],["type","text","formControlName","mobNumber","numbersOnly","","limit-to","10","autocomplete","off",3,"placeholder","readonly"],["class","error-message",4,"ngIf"],[1,"ux-input"],["limit-to","9","type","tel","formControlName","custId","numbersOnly","","autocomplete","off",3,"placeholder"],["limit-to","14","type","tel","formControlName","accNo","numbersOnly","","autocomplete","off",3,"placeholder"],["type","text","formControlName","email","autocomplete","off",3,"placeholder"],[1,"info-message"],["Class","col-12 co-md-12 col-xl-10 col-lg-12 mt-2",4,"ngIf"],["Class","col-12 co-md-12 col-xl-10 col-lg-12 mt-2"],[1,"ux-selection","mt-3","ux-input"],[1,"ux-selection1"],["href","javascript:void(0)",1,"reg-txt",3,"click"],["type","checkbox","name","radioboxdemo","required","","formControlName","termCondition"],[1,"checkmark"],["class","error-message ml-3",4,"ngIf"],[1,"col-12","col-lg-10","col-md-12","col-sm-12","m-auto","position-static"],[1,"ux-footer","border-n"],[1,"bottom-footer1"],[1,"btn-div","custom-mar","hide-m"],["type","button",1,"ux-button","secondary","sm-mob","cancel-btn",3,"click"],[1,"btn-div","custom-mar","w100"],["type","submit",1,"otp-btn","ux-button","primary","sm-mob",3,"click"],[1,"col-12","col-lg-6","col-md-2","col-sm-12","d-none","d-lg-block","d-xl-block"],["src","assets/images/svg/regImg1.svg",1,"right-regImg"],[1,"secondary"],[1,"error-message"],[1,"ux-selection","float-none","display-block"],["type","checkbox","name","radioboxdemo","formControlName","migrated","autocomplete","off"],[1,"error-message","ml-3"]],template:function(t,e){1&t&&(s.ec(0,"div",0),s.ec(1,"div",1),s.ec(2,"form",2),s.ec(3,"div",0),s.ec(4,"div",3),s.ec(5,"ul",4),s.ec(6,"li",5),s.ec(7,"em"),s.ec(8,"span",6),s.Sc(9),s.qc(10,"translate"),s.qc(11,"translate"),s.dc(),s.Rc(12,A,3,3,"span",7),s.Rc(13,M,3,3,"span",7),s.dc(),s.dc(),s.dc(),s.ec(14,"div",8),s.ec(15,"div",0),s.ec(16,"div",9),s.ec(17,"h4"),s.Sc(18),s.qc(19,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(20,"div",3),s.ec(21,"div",10),s.ec(22,"div",0),s.ec(23,"div",11),s.ec(24,"div",12),s.ec(25,"label"),s.Sc(26),s.qc(27,"translate"),s.dc(),s.Zb(28,"input",13),s.qc(29,"translate"),s.Rc(30,y,3,3,"p",14),s.Rc(31,C,3,3,"p",14),s.dc(),s.dc(),s.ec(32,"div",11),s.ec(33,"div",15),s.ec(34,"label"),s.Sc(35),s.qc(36,"translate"),s.dc(),s.Zb(37,"input",16),s.qc(38,"translate"),s.Rc(39,N,3,3,"p",14),s.Rc(40,D,3,3,"p",14),s.dc(),s.dc(),s.ec(41,"div",11),s.ec(42,"div",15),s.ec(43,"label"),s.Sc(44),s.qc(45,"translate"),s.dc(),s.Zb(46,"input",17),s.qc(47,"translate"),s.Rc(48,k,3,3,"p",14),s.Rc(49,T,3,3,"p",14),s.dc(),s.dc(),s.ec(50,"div",11),s.ec(51,"div",15),s.ec(52,"label"),s.Sc(53,"Email ID"),s.dc(),s.Zb(54,"input",18),s.qc(55,"translate"),s.ec(56,"p",19),s.Sc(57,"This Email ID shall be updated in your Bank account"),s.dc(),s.Rc(58,E,3,3,"p",14),s.Rc(59,w,3,3,"p",14),s.dc(),s.dc(),s.Rc(60,L,7,3,"div",20),s.ec(61,"div",21),s.ec(62,"div",22),s.ec(63,"label",23),s.Sc(64,"I agree to the "),s.ec(65,"a",24),s.lc("click",(function(){return e.openPopUp()})),s.Sc(66),s.qc(67,"translate"),s.dc(),s.Zb(68,"input",25),s.Zb(69,"span",26),s.dc(),s.dc(),s.dc(),s.ec(70,"div",15),s.Rc(71,O,2,0,"p",27),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(72,"div",28),s.ec(73,"div",29),s.ec(74,"div",0),s.ec(75,"div",9),s.ec(76,"ul",30),s.ec(77,"li"),s.ec(78,"div",31),s.ec(79,"button",32),s.lc("click",(function(){return e.cancel()})),s.Sc(80),s.qc(81,"translate"),s.dc(),s.dc(),s.ec(82,"div",33),s.ec(83,"button",34),s.lc("click",(function(){return e.submit()})),s.Sc(84),s.qc(85,"translate"),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.dc(),s.ec(86,"div",35),s.Zb(87,"img",36),s.dc(),s.dc()),2&t&&(s.Mb(2),s.uc("formGroup",e.registrationFormCustDtl),s.Mb(7),s.Vc("",s.rc(10,28,"STEP")," ",s.rc(11,30,"1"),""),s.Mb(3),s.uc("ngIf","loan"!=e.DataService.regType),s.Mb(1),s.uc("ngIf","loan"==e.DataService.regType),s.Mb(5),s.Tc(s.rc(19,32,"ACCOUNT_INFO")),s.Mb(6),s.uc("ngClass",s.yc(54,R,"web"!=e.isReadOnly)),s.Mb(2),s.Tc(s.rc(27,34,"REG_MOBILE_NUMBER")),s.Mb(2),s.vc("placeholder",s.rc(29,36,"ENTER_MOBILE_NO")),s.uc("readonly","web"!=e.isReadOnly),s.Mb(2),s.uc("ngIf",e.registrationFormCustDtl.controls.mobNumber.touched&&e.registrationFormCustDtl.controls.mobNumber.hasError("required")),s.Mb(1),s.uc("ngIf",!e.registrationFormCustDtl.controls.mobNumber.hasError("required")&&e.registrationFormCustDtl.controls.mobNumber.hasError("pattern")),s.Mb(4),s.Tc(s.rc(36,38,"CUST_ID")),s.Mb(2),s.vc("placeholder",s.rc(38,40,"ENTER_CUST_ID")),s.Mb(2),s.uc("ngIf",e.registrationFormCustDtl.controls.custId.touched&&e.registrationFormCustDtl.controls.custId.hasError("required")),s.Mb(1),s.uc("ngIf",!e.registrationFormCustDtl.controls.custId.hasError("required")&&e.registrationFormCustDtl.controls.custId.hasError("pattern")),s.Mb(4),s.Tc(s.rc(45,42,"ACCOUNT_NUMBER")),s.Mb(2),s.vc("placeholder",s.rc(47,44,"ENTER_ACCOUNT_NUMBER")),s.Mb(2),s.uc("ngIf",e.registrationFormCustDtl.controls.accNo.touched&&e.registrationFormCustDtl.controls.accNo.hasError("required")),s.Mb(1),s.uc("ngIf",!e.registrationFormCustDtl.controls.accNo.hasError("required")&&e.registrationFormCustDtl.controls.accNo.hasError("pattern")),s.Mb(5),s.vc("placeholder",s.rc(55,46,"ENTER_EMAIL_ID")),s.Mb(4),s.uc("ngIf",e.registrationFormCustDtl.controls.email.touched&&e.registrationFormCustDtl.controls.email.hasError("required")),s.Mb(1),s.uc("ngIf",e.registrationFormCustDtl.controls.email.touched&&e.registrationFormCustDtl.controls.email.hasError("pattern")),s.Mb(1),s.uc("ngIf",e.DataService.showMigrated),s.Mb(6),s.Tc(s.rc(67,48,"TERMS_CONDITIONS")),s.Mb(5),s.uc("ngIf",e.registrationFormCustDtl.controls.termCondition.hasError("required")&&(e.registrationFormCustDtl.controls.termCondition.dirty||e.registrationFormCustDtl.controls.termCondition.touched)),s.Mb(9),s.Tc(s.rc(81,50,"CANCEL")),s.Mb(4),s.Tc(s.rc(85,52,"NEXT")))},directives:[i.I,i.t,i.k,S.t,S.q,i.c,i.s,i.i,f.d,I.a,i.b,i.a],pipes:[P.a],styles:[""]}),t})()}}]);