(window.webpackJsonp=window.webpackJsonp||[]).push([[38,65,109,349],{Fs5y:function(t,e,r){"use strict";r.r(e),r.d(e,"RegistrationMobCheckModule",(function(){return C}));var o=r("ofXK"),i=r("PCNd"),n=r("AvjH"),s=r("3Pt+"),c=r("kuSH"),a=r("fXoL"),l=r("tyNb"),u=r("EnSQ"),d=r("4bKs"),m=r("L7Xq"),h=r("faWQ"),b=r("5IsW"),g=r("H9Rt"),p=r("TaOT"),v=r("au7T"),f=r("Geda"),S=r("OXpz"),E=r("25X+"),y=r("Eioz");function T(t,e){1&t&&(a.ec(0,"span",39),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t&&(a.Mb(1),a.Tc(a.rc(2,1,"PLEASE_ENTER_MOBLIE_NO")))}function N(t,e){1&t&&(a.ec(0,"span",39),a.Sc(1),a.qc(2,"translate"),a.dc()),2&t&&(a.Mb(1),a.Tc(a.rc(2,1,"PLEASE_ENTER_VALID_MOB_NO")))}const k=[{path:"",component:(()=>{class t{constructor(t,e,r,o,i,n,s,c,a,l){this.form=t,this.router=e,this.DataService=r,this.loader=o,this.http=i,this.registrationService=n,this.constant=s,this.localStorage=c,this.formValidation=a,this.commonMethod=l,this.commonPageComponent={headerType:"preloginHeader",sidebarNAv:!1,footer:"innerFooter",currentpageRoute:"/registrationMobCheck"},this.formErrors={mobNumber:""}}ngOnInit(){this.buildForm(),this.registrationForm.controls.mobNumber.setValue(this.mobileNumber),this.DataService.changeMessage(this.commonPageComponent)}buildForm(){this.registrationForm=new s.j({mobNumber:new s.g("",[s.G.required,s.G.minLength(8),s.G.pattern("^[0-9]*$")])},{validators:[this.isValidMobileNo.bind(this)]})}validateForm(){this.registrationForm.get("mobNumber").markAsTouched(),this.formErrors=this.formValidation.validateForm(this.registrationForm,this.formErrors,!0)}submitregistration(){if(this.validateForm(),!this.registrationForm.invalid){console.log(this.registrationForm.value),this.mobileNumber=this.registrationForm.value.mobNumber;var t=this.registrationService.getmobileNoCheckParam(this.registrationForm.value);this.mobileNoCheckApiCall(t)}}ngOnDestroy(){}mobileNoCheckApiCall(t){this.http.callBankingAPIService(t,this.constant.deviceID,this.constant.serviceName_MOBILENOCHECK).subscribe(t=>{var e;console.log(t);var r=t.responseParameter;if("00"==r.opstatus){switch(console.log(t.responseParameter),this.DataService.registrationData=t.responseParameter,this.DataService.registrationSecQue=null!=t.set?null===(e=t.set)||void 0===e?void 0:e.records[0]:"",this.localStorage.setLocalStorage(this.constant.storage_mobileNo,this.mobileNumber),this.localStorage.setLocalStorage(this.constant.storage_deviceId,t.responseParameter.deviceId),this.DataService.mobStaticEncKey=this.localStorage.getLocalStorage(this.constant.storage_mobileNo)+this.constant.mapEncryptKey,this.DataService.userRegStaus=this.DataService.registrationData.RegistrationSuccess,this.DataService.userRegStaus){case c.f.ALREADY_REGISTERED:console.log("PENDING_AT_UPDTE_REG"),this.localStorage.setLocalStorage(this.constant.storage_omniRegisteredUser,"true"),this.constant.getPlatform();break;case c.f.USER_BLOCKED:this.commonMethod.openPopup("div.popup-bottom.blocked-user");break;default:this.DataService.regIsAtStep=1}this.DataService.otpPreviousPage="/registrationMobCheck",this.DataService.otpNextPage="/registration",this.router.navigate(["/otp"])}else this.errorCallBack(t.subActionId,r)})}errorCallBack(t,e){showToastMessage(e.Result,"error")}bindExistingRecord(t,e){var r=(e=e.substring(1,e.length-1)).split(",");console.log(r),console.log(),console.log(),this.DataService.regFeildData={custId:t.cifNumber,accNo:"",cardNumber:"",expDate:"",cardPin:"",ibUserName:"",ibPassword:"",ibmpin:t.MPIN,bankToken:"",username:t.userName,password:t.password,confPassword:t.password,quest1:r[0].split(":")[1].substring(1,r[0].split(":")[0].length-1),ans1:r[0].split(":")[1].substring(1,r[0].split(":")[1].length-1),quest2:r[1].split(":")[1].substring(1,r[1].split(":")[0].length-1),ans2:r[1].split(":")[1].substring(1,r[1].split(":")[1].length-1),quest3:r[2].split(":")[1].substring(1,r[2].split(":")[0].length-1),ans3:r[2].split(":")[1].substring(1,r[2].split(":")[1].length-1),tpin:"",confTpin:"",mpin:t.MPIN,confMpin:t.MPIN}}isValidMobileNo(t){const{value:e}=t.get("mobNumber");let r=0,o=0;if(null!=e){for(let t=0;t<e.length;t++)"0"==e[t]&&r++;console.log(e.length),console.log(r),o=e.length}return o!=r?null:{isInvalidMobileNo:!0}}closePopup(t){this.commonMethod.closePopup("div.popup-bottom."+t)}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(s.f),a.Yb(l.c),a.Yb(u.a),a.Yb(d.a),a.Yb(m.a),a.Yb(h.a),a.Yb(b.a),a.Yb(g.a),a.Yb(p.a),a.Yb(v.a))},t.\u0275cmp=a.Sb({type:t,selectors:[["app-registration-mob-check"]],decls:93,vars:45,consts:[[1,"main","prelogin-page"],[1,"full-container","full"],[1,"login-container"],[1,"central-box"],[1,"banner-container","bg"],[1,"left-content"],[1,"vspacer10"],["role","button",1,"ux-button","sm","primary","ml-0"],[1,"secure-img"],["src","assets/images/icons/secure.png","alt","secure"],[1,"keyboard-section"],[1,"keyboard-inner"],[1,"loginform-container"],[1,"login-form"],[1,"login-heading"],[1,"vspacer5"],[3,"formGroup","ngSubmit"],[1,"row1"],["Class","col-12"],[1,"ux-input"],["for","otp"],["type","text","formControlName","mobNumber","limit-to","10","numbersOnly",""],["class","errormsg",4,"ngIf"],[1,"col-12","col-md-12"],[1,"text-right"],[1,"vspacer20"],[1,"formfooter"],["type","submit","role","button",1,"ux-button","primary","d-block","w-100","m-0"],[1,"fgt-txt"],["routerLink","/login","role","button",1,"ux-button","secondary","d-block","w-100","m-0"],[1,"vspacer40"],[1,"popup-bottom","blocked-user","sm-popup"],[1,"col-12"],[1,"text-center"],["src","./assets/images/svg/information.svg","alt","error-icon"],[1,"col-12","mb-4"],[1,"row1","mt-2"],[1,"col-12","text-center"],[1,"ux-button","submit-btn",3,"click"],[1,"errormsg"]],template:function(t,e){1&t&&(a.ec(0,"div",0),a.ec(1,"div",1),a.ec(2,"div",2),a.ec(3,"div",3),a.ec(4,"div",4),a.ec(5,"div",5),a.ec(6,"h5"),a.Sc(7),a.qc(8,"translate"),a.dc(),a.Zb(9,"div",6),a.ec(10,"p"),a.Sc(11),a.qc(12,"translate"),a.Zb(13,"br"),a.Sc(14),a.qc(15,"translate"),a.Zb(16,"br"),a.Sc(17),a.qc(18,"translate"),a.dc(),a.Zb(19,"div",6),a.ec(20,"button",7),a.Sc(21),a.qc(22,"translate"),a.dc(),a.dc(),a.ec(23,"div",8),a.Zb(24,"img",9),a.dc(),a.ec(25,"div",10),a.Zb(26,"div",11),a.dc(),a.dc(),a.ec(27,"div",12),a.ec(28,"div",13),a.ec(29,"div",14),a.Zb(30,"div",15),a.ec(31,"h3"),a.Sc(32),a.qc(33,"translate"),a.dc(),a.ec(34,"h5"),a.Sc(35),a.qc(36,"translate"),a.dc(),a.dc(),a.Zb(37,"div",6),a.ec(38,"form",16),a.lc("ngSubmit",(function(){return e.submitregistration()})),a.ec(39,"div",17),a.ec(40,"div",18),a.ec(41,"div",19),a.ec(42,"label",20),a.Sc(43),a.qc(44,"translate"),a.dc(),a.Zb(45,"input",21),a.Rc(46,T,3,3,"span",22),a.Rc(47,N,3,3,"span",22),a.dc(),a.dc(),a.dc(),a.ec(48,"div",17),a.ec(49,"div",23),a.ec(50,"div",24),a.ec(51,"em"),a.Sc(52),a.qc(53,"translate"),a.dc(),a.dc(),a.dc(),a.dc(),a.Zb(54,"div",25),a.ec(55,"div",17),a.ec(56,"div",18),a.ec(57,"div",26),a.ec(58,"button",27),a.Sc(59),a.qc(60,"translate"),a.dc(),a.dc(),a.dc(),a.Zb(61,"div",25),a.ec(62,"div",18),a.ec(63,"div",28),a.Sc(64),a.qc(65,"translate"),a.dc(),a.dc(),a.Zb(66,"div",6),a.ec(67,"div",18),a.ec(68,"div",26),a.ec(69,"button",29),a.Sc(70),a.qc(71,"translate"),a.dc(),a.dc(),a.dc(),a.Zb(72,"div",6),a.Zb(73,"div",15),a.dc(),a.dc(),a.Zb(74,"div",30),a.Zb(75,"div",30),a.dc(),a.Zb(76,"app-footer-mobile"),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(77,"div",31),a.ec(78,"div",17),a.ec(79,"div",32),a.ec(80,"h4",33),a.Zb(81,"img",34),a.Sc(82),a.qc(83,"translate"),a.dc(),a.dc(),a.dc(),a.ec(84,"div",17),a.ec(85,"div",35),a.ec(86,"p"),a.Sc(87," Mobile Number Is Blocked.Please Contact Bank "),a.dc(),a.dc(),a.dc(),a.ec(88,"div",36),a.ec(89,"div",37),a.ec(90,"button",38),a.lc("click",(function(){return e.closePopup("blocked-user")})),a.Sc(91),a.qc(92,"translate"),a.dc(),a.dc(),a.dc(),a.dc()),2&t&&(a.Mb(7),a.Tc(a.rc(8,17,"IMP_SECURITY_INFO")),a.Mb(4),a.Uc(" ",a.rc(12,19,"BEST_VIEW_IN_IE"),""),a.Mb(3),a.Uc(" ",a.rc(15,21,"YOUR_LOGIN_PWD"),""),a.Mb(3),a.Uc(" ",a.rc(18,23,"ACCESS_TO_DATA")," "),a.Mb(4),a.Tc(a.rc(22,25,"SEQ_TIPS")),a.Mb(11),a.Tc(a.rc(33,27,"REGISTRATION")),a.Mb(3),a.Uc("",a.rc(36,29,"WELCOME_BACK_REG")," "),a.Mb(3),a.uc("formGroup",e.registrationForm),a.Mb(5),a.Tc(a.rc(44,31,"MOBILE_NUMBER")),a.Mb(3),a.uc("ngIf",e.registrationForm.controls.mobNumber.touched&&e.registrationForm.controls.mobNumber.hasError("required")),a.Mb(1),a.uc("ngIf",!e.registrationForm.controls.mobNumber.hasError("required")&&e.registrationForm.hasError("isInvalidMobileNo")&&e.registrationForm.controls.mobNumber.touched),a.Mb(5),a.Tc(a.rc(53,33,"OTP_WILL_BE_SENT")),a.Mb(7),a.Tc(a.rc(60,35,"REGISTER")),a.Mb(5),a.Uc("",a.rc(65,37,"ALREADY_A_CUST"),"?"),a.Mb(6),a.Tc(a.rc(71,39,"LOGIN_BTN")),a.Mb(12),a.Uc(" ",a.rc(83,41,"INFORMATION")," "),a.Mb(9),a.Tc(a.rc(92,43,"CLOSE")))},directives:[s.I,s.t,s.k,s.c,s.s,s.i,f.a,S.d,o.t,l.d,E.a],pipes:[y.a],styles:[""]}),t})()}];let M=(()=>{class t{}return t.\u0275mod=a.Wb({type:t}),t.\u0275inj=a.Vb({factory:function(e){return new(e||t)},imports:[[l.g.forChild(k)],l.g]}),t})(),C=(()=>{class t{}return t.\u0275mod=a.Wb({type:t}),t.\u0275inj=a.Vb({factory:function(e){return new(e||t)},imports:[[o.c,M,s.m,s.C,i.a,n.a]]}),t})()},Geda:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var o=r("fXoL"),i=r("3Pt+"),n=r("au7T");let s=(()=>{class t{constructor(t,e){this.control=t,this.commonMethods=e,this.specialKeys=["Backspace","Tab"]}ngOnChanges(t){const e=+this.limitTo;if(-1===this.specialKeys.indexOf(t.key)&&!this.commonMethods.validateEmpty(this.control.value)&&this.control.value.length>=e){let t=this.control.value.substring(0,e);this.control.control.setValue(t)}}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(i.r),o.Yb(n.a))},t.\u0275dir=o.Tb({type:t,selectors:[["","limit-to",""]],hostBindings:function(t,e){1&t&&o.lc("input",(function(t){return e.ngOnChanges(t)}))},inputs:{limitTo:["limit-to","limitTo"]},features:[o.Kb]}),t})()},OXpz:function(t,e,r){"use strict";r.d(e,"d",(function(){return n})),r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return a}));var o=r("fXoL"),i=r("3Pt+");let n=(()=>{class t{constructor(t){this.control=t,this.specialKeys=["Backspace","Tab"]}ngOnChanges(t){if(-1===this.specialKeys.indexOf(t.key)&&!/^[0-9]*$/.test(this.control.value)){let t=this.control.value.replace(/[^0-9]/g,"");this.control.control.setValue(t)}}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(i.r))},t.\u0275dir=o.Tb({type:t,selectors:[["","numbersOnly",""]],hostBindings:function(t,e){1&t&&o.lc("input",(function(t){return e.ngOnChanges(t)}))},features:[o.Kb]}),t})(),s=(()=>{class t{constructor(t){this.control=t,this.specialKeys=["Backspace","Tab"]}ngOnChanges(t){if(-1===this.specialKeys.indexOf(t.key)&&this.control.value){let t=this.control.value.replace(/[^.0-9]+/g,"");this.control.control.setValue(t)}}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(i.r))},t.\u0275dir=o.Tb({type:t,selectors:[["","digitOnly",""]],hostBindings:function(t,e){1&t&&o.lc("input",(function(t){return e.ngOnChanges(t)}))},features:[o.Kb]}),t})(),c=(()=>{class t{constructor(t){this.el=t,this.regex=new RegExp(/^\d*\.?\d{0,2}$/g),this.specialKeys=["Backspace","Tab","End","Home","-","ArrowLeft","ArrowRight","Del","Delete"]}onKeyDown(t){if(console.log(this.el.nativeElement.value),-1!==this.specialKeys.indexOf(t.key))return;let e=this.el.nativeElement.value;const r=this.el.nativeElement.selectionStart,o=[e.slice(0,r),"Decimal"==t.key?".":t.key,e.slice(r)].join("");o&&!String(o).match(this.regex)&&t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(o.o))},t.\u0275dir=o.Tb({type:t,selectors:[["","amountOnly",""]],hostBindings:function(t,e){1&t&&o.lc("keydown",(function(t){return e.onKeyDown(t)}))}}),t})(),a=(()=>{class t{constructor(t){this._el=t}onInputChange(t){const e=this._el.nativeElement.value;this._el.nativeElement.value=e.replace(/[^0-9]*/g,""),e!==this._el.nativeElement.value&&t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(o.o))},t.\u0275dir=o.Tb({type:t,selectors:[["input","numericOnly",""]],hostBindings:function(t,e){1&t&&o.lc("input",(function(t){return e.onInputChange(t)}))}}),t})()},TaOT:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var o=r("fXoL"),i=r("fUdP");let n=(()=>{class t{constructor(t){this.customCurrencyPipe=t}markFormGroupTouched(t){Object.values(t.controls).forEach(t=>{t.markAsTouched(),t.controls&&t.controls.forEach(t=>this.markFormGroupTouched(t))})}markFormGroupUntouched(t){Object.values(t.controls).forEach(t=>{t.markAsUntouched(),t.controls&&t.controls.forEach(t=>this.markFormGroupUntouched(t))})}validationMessages(){return{required:"* This field is required",email:"* This email address is invalid",minlength:"* Length is too short",maxlength:"* Length is too long",invalid_characters:t=>{let e=t;return e=e.reduce((t,r,o)=>{let i=t;return i+=r,e.length!==o+1&&(i+=", "),i},""),"These characters are not allowed: "+e}}}validateForm(t,e,r){const o=t;for(const i in e)if(i){e[i]="";const t=o.get(i),n=this.validationMessages();if(t&&!t.valid&&(!r||t.dirty||t.touched))for(const r in t.errors)console.log("======>inside",r),e[i]=r&&"invalid_characters"!==r?e[i]||n[r]:e[i]||n[r](t.errors[r])}return e}formatCurrency(t,e,r){if("0"!=t)if(""!=t){let r=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==r.trim().replace(/[^.0-9]+/g,"")?e.contains("amount")&&e.get("amount").reset():"0"==r.trim().replace(/[^.0-9]+/g,"")?e.get("amount").reset():(console.log(r),e.patchValue({amount:r}))}else e.get("amount").reset("");else e.contains("amount")&&e.get("amount").reset()}formatTransLimit(t,e){if("0"!=t)if(""!=t){let r=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==r?e.contains("transactionLimit")&&e.get("transactionLimit").reset():"0"==r.trim()?e.get("transactionLimit").reset():(console.log(r),e.patchValue({transactionLimit:r}))}else e.get("transactionLimit").reset("");else e.contains("transactionLimit")&&e.get("transactionLimit").reset()}formatDynamicCurrency(t,e){$("#"+t).val()&&"\u20b9 0.00"!=$("#"+t).val()?e.patchValue({amount:$("#"+t).val()}):e.get("amount").reset("")}deFormatValue(t,e){e.patchValue({amount:t.replace(/[^0-9.]+/g,"")})}formatAmtCurrency(t,e,r){if("0"!=t)if(""!=t){let o=this.customCurrencyPipe.transform(t.trim(),"decimal");" 0.00"==o?e.contains(r)&&e.get(r).reset():"0"==o.trim()?e.get(r).reset():e.controls[r].patchValue("\u20b9"+o)}else e.get(r).reset("");else e.contains(r)&&e.get(r).reset()}}return t.\u0275fac=function(e){return new(e||t)(o.ic(i.a))},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);