(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{f5N2:function(e,i,n){"use strict";n.d(i,"a",(function(){return N}));var c=n("3Pt+"),t=n("fXoL"),r=n("tyNb"),o=n("EnSQ"),s=n("4bKs"),a=n("L7Xq"),p=n("TaOT"),l=n("H9Rt"),d=n("5IsW"),u=n("au7T"),m=n("1nRG"),f=n("ofXK"),h=n("OXpz"),g=n("Eioz");const v=["sMpin"],M=["cMpin"];function y(e,i){1&e&&(t.ec(0,"span",46),t.Sc(1),t.qc(2,"translate"),t.qc(3,"translate"),t.dc()),2&e&&(t.Mb(1),t.Vc("",t.rc(2,2,"STEP")," ",t.rc(3,4,"5")," "))}function F(e,i){1&e&&(t.ec(0,"span",46),t.Sc(1),t.qc(2,"translate"),t.qc(3,"translate"),t.dc()),2&e&&(t.Mb(1),t.Vc("",t.rc(2,2,"STEP")," ",t.rc(3,4,"4")," "))}function b(e,i){1&e&&(t.ec(0,"span",47),t.Sc(1),t.qc(2,"translate"),t.dc()),2&e&&(t.Mb(1),t.Tc(t.rc(2,1,"OF_STEP_6")))}function w(e,i){1&e&&(t.ec(0,"span",47),t.Sc(1),t.qc(2,"translate"),t.dc()),2&e&&(t.Mb(1),t.Tc(t.rc(2,1,"OF_STEP_5")))}function S(e,i){1&e&&(t.ec(0,"div",0),t.ec(1,"div",39),t.ec(2,"small",48),t.Sc(3),t.qc(4,"translate"),t.dc(),t.dc(),t.dc()),2&e&&(t.Mb(3),t.Uc(" ",t.rc(4,1,"MPIN_ALREADY_SET")," "))}function D(e,i){1&e&&(t.ec(0,"p",49),t.Sc(1),t.qc(2,"translate"),t.dc()),2&e&&(t.Mb(1),t.Uc(" ",t.rc(2,1,"PLEASE_ENTER_MPIN")," "))}function V(e,i){1&e&&(t.ec(0,"p",49),t.Sc(1),t.qc(2,"translate"),t.dc()),2&e&&(t.Mb(1),t.Uc("",t.rc(2,1,"PLEASE_ENTER_MPIN")," "))}function E(e,i){1&e&&(t.ec(0,"p",49),t.Sc(1),t.qc(2,"translate"),t.dc()),2&e&&(t.Mb(1),t.Uc("",t.rc(2,1,"MPIN_DIDNOT_MATCH")," "))}function k(e,i){1&e&&(t.ec(0,"p",49),t.Sc(1),t.qc(2,"translate"),t.dc()),2&e&&(t.Mb(1),t.Uc("",t.rc(2,1,"MPIN_SIMPLE_ERROR")," "))}let N=(()=>{class e{constructor(e,i,n,c,r,o,s,a,p,l){this.form=e,this.router=i,this.DataService=n,this.loader=c,this.http=r,this.formValidation=o,this.localStorage=s,this.constant=a,this.commonMethod=p,this.regservice=l,this.commonPageComponent={headerType:"preloginHeader",sidebarNAv:!1,footer:"innerFooter",currentpageRoute:"/registration"},this.formErrorsstep6={mpin:"",confMpin:""},this.entermpin=!1,this.enterConfrmmpin=!1,this.mpinNotMatched=!1,this.isFormValid=!1,this.mpinValue="",this.isAlreadyMBUser="N",this.prevEvent=new t.q,this.nextEvent2=new t.q,this.mpinRepeatError=!1,this.mpinConsecutiveError=!1}ngOnInit(){window.innerWidth<767&&(this.commonPageComponent={headerType:"preloginHeader",sidebarNAv:!1,footer:"innerFooter",currentpageRoute:"/registration"}),this.DataService.changeMessage(this.commonPageComponent),console.log(this.DataService.registrationData),this.buildForm(),this.isAlreadyMBUser=this.localStorage.getLocalStorage(this.constant.storage_isMBUser),this.bindForm()}buildForm(){this.regiFormVerifyMpin=new c.j({mpin1:new c.g(""),mpin2:new c.g(""),mpin3:new c.g(""),mpin4:new c.g(""),mpin5:new c.g(""),mpin6:new c.g(""),confMpin1:new c.g(""),confMpin2:new c.g(""),confMpin3:new c.g(""),confMpin4:new c.g(""),confMpin5:new c.g(""),confMpin6:new c.g("")})}bindForm(){this.regiFormVerifyMpin.patchValue({mpin1:this.DataService.regFeildData.mpin1,mpin2:this.DataService.regFeildData.mpin2,mpin3:this.DataService.regFeildData.mpin3,mpin4:this.DataService.regFeildData.mpin4,mpin5:this.DataService.regFeildData.mpin5,mpin6:this.DataService.regFeildData.mpin6,confMpin1:this.DataService.regFeildData.confMpin1,confMpin2:this.DataService.regFeildData.confMpin2,confMpin3:this.DataService.regFeildData.confMpin3,confMpin4:this.DataService.regFeildData.confMpin4,confMpin5:this.DataService.regFeildData.confMpin5,confMpin6:this.DataService.regFeildData.confMpin6})}validatesForm(){var e=this.regiFormVerifyMpin.value.mpin1+this.regiFormVerifyMpin.value.mpin2+this.regiFormVerifyMpin.value.mpin3+this.regiFormVerifyMpin.value.mpin4+this.regiFormVerifyMpin.value.mpin5+this.regiFormVerifyMpin.value.mpin6,i=this.regiFormVerifyMpin.value.confMpin1+this.regiFormVerifyMpin.value.confMpin2+this.regiFormVerifyMpin.value.confMpin3+this.regiFormVerifyMpin.value.confMpin4+this.regiFormVerifyMpin.value.confMpin5+this.regiFormVerifyMpin.value.confMpin6;this.entermpin=!1,this.enterConfrmmpin=!1,this.mpinNotMatched=!1,this.isFormValid=!1,this.DataService.confmpin=i,""==this.regiFormVerifyMpin.value.mpin1||""==this.regiFormVerifyMpin.value.mpin2||""==this.regiFormVerifyMpin.value.mpin3||""==this.regiFormVerifyMpin.value.mpin4||""==this.regiFormVerifyMpin.value.mpin5||""==this.regiFormVerifyMpin.value.mpin6?this.entermpin=!0:""==this.regiFormVerifyMpin.value.confMpin1||""==this.regiFormVerifyMpin.value.confMpin2||""==this.regiFormVerifyMpin.value.confMpin3||""==this.regiFormVerifyMpin.value.confMpin4||""==this.regiFormVerifyMpin.value.confMpin5||""==this.regiFormVerifyMpin.value.confMpin6?this.enterConfrmmpin=!0:e!=i?this.mpinNotMatched=!0:(this.isFormValid=!0,this.mpinValue=e)}submit(){if(this.validatesForm(),this.mpinRepeatError=!1,this.mpinConsecutiveError=!1,this.mpinRepeatError=this.checkRepeatedDigits(this.mpinValue),this.mpinConsecutiveError=this.checkConsecutiveDigits(this.mpinValue),!this.isFormValid||this.mpinRepeatError||this.mpinConsecutiveError)this.formErrorsstep6=this.formValidation.validateForm(this.regiFormVerifyMpin,this.formErrorsstep6,!0);else{console.log(this.mpinValue);var e=this.regservice.getValidateMpinParam(this.mpinValue);this.setMpin(e)}}setMpin(e){this.http.callBankingAPIService(e,this.localStorage.getLocalStorage("deviceId"),this.constant.serviceName_SETUPDATEPIN).subscribe(e=>{console.log(e);var i=e.responseParameter;"00"==i.opstatus?(console.log(e.responseParameter),this.localStorage.setLocalStorage(this.constant.storage_isMBUser,"Y"),this.DataService.regFeildData.mpin1=this.regiFormVerifyMpin.value.mpin1,this.DataService.regFeildData.mpin2=this.regiFormVerifyMpin.value.mpin2,this.DataService.regFeildData.mpin3=this.regiFormVerifyMpin.value.mpin3,this.DataService.regFeildData.mpin4=this.regiFormVerifyMpin.value.mpin4,this.DataService.regFeildData.mpin5=this.regiFormVerifyMpin.value.mpin5,this.DataService.regFeildData.mpin6=this.regiFormVerifyMpin.value.mpin6,this.DataService.regFeildData.confMpin1=this.regiFormVerifyMpin.value.confMpin1,this.DataService.regFeildData.confMpin2=this.regiFormVerifyMpin.value.confMpin2,this.DataService.regFeildData.confMpin3=this.regiFormVerifyMpin.value.confMpin3,this.DataService.regFeildData.confMpin4=this.regiFormVerifyMpin.value.confMpin4,this.DataService.regFeildData.confMpin5=this.regiFormVerifyMpin.value.confMpin5,this.DataService.regFeildData.confMpin6=this.regiFormVerifyMpin.value.confMpin6,this.nextEvent2.next(5)):this.errorCallBack(e.subActionId,i)})}errorCallBack(e,i){}mpin(e){const{value:i}=e.get("mpin"),{value:n}=e.get("confMpin");return i===n?null:{mpinNotMatch:!0}}gotoPrevious(){this.prevEvent.next(5)}skipStep(){this.nextEvent2.next(5),this.localStorage.setLocalStorage(this.constant.storage_isMBUser,"N")}onKeyUp(e,i,n){const c=i.which||i.keyCode;console.log(e),console.log(i.which),console.log(i.keyCode),1===this.getSpasswordElement(e,n).value.length&&(5!==e?this.getSpasswordElement(e+1,n).focus():(this.getSpasswordElement(e,n).blur(),console.log("submit code "))),12===c&&1!==e&&this.getSpasswordElement(e-1,n).focus(),8!==c&&229!==c||"Unidentified"!=i.key&&(this.enterConfrmmpin=!1,this.mpinNotMatched=!1,this.mpinRepeatError=!1,this.mpinConsecutiveError=!1,this.getSpasswordElement(e-1,n).focus())}onFocus(e,i){for(let n=1;n<e;n++){const e=this.getSpasswordElement(n,i);if(!e.value){e.focus();break}}}getSpasswordElement(e,i){if("spassword"==i){if(e<=5)return this.sMpin._results[e].nativeElement}else if("cpassword"==i&&e<=5)return this.cMpin._results[e].nativeElement}checkRepeatedDigits(e){return console.log("checkRepeatedDigits val",e),/^([0-9])\1{5}$/.test(e)?(console.log("repeated true"),!0):(console.log("repeated false"),!1)}checkConsecutiveDigits(e){return console.log("checkConsecutiveDigits val === ",e),"012345"==e||"123456"==e||"234567"==e||"345678"==e||"456789"==e||"567890"==e||"987654"==e||"876543"==e||"765432"==e||"654321"==e||"543210"==e||"098765"==e?(console.log("consecutive true"),!0):(console.log("consecutive false"),!1)}mpinPolicy(){this.commonMethod.openPopup("div.mpin-popup")}}return e.\u0275fac=function(i){return new(i||e)(t.Yb(c.f),t.Yb(r.c),t.Yb(o.a),t.Yb(s.a),t.Yb(a.a),t.Yb(p.a),t.Yb(l.a),t.Yb(d.a),t.Yb(u.a),t.Yb(m.a))},e.\u0275cmp=t.Sb({type:e,selectors:[["app-registration-mpin"]],viewQuery:function(e,i){var n;1&e&&(t.Yc(v,!0),t.Yc(M,!0)),2&e&&(t.Dc(n=t.mc())&&(i.sMpin=n),t.Dc(n=t.mc())&&(i.cMpin=n))},outputs:{prevEvent:"prevEvent",nextEvent2:"nextEvent2"},decls:108,vars:22,consts:[[1,"row1"],[1,"col-12","col-lg-6","col-md-12","col-sm-12","position-static"],[3,"formGroup","ngSubmit"],[1,"col-12"],[1,"step-list"],[1,"step-matched"],["class","primary",4,"ngIf"],["class","secondary",4,"ngIf"],[1,"tab-header","clearfix"],[1,"col-6","col-md-6"],["class","row1",4,"ngIf"],[1,"col-sm-12","col-12","col-md-12","col-lg-10"],[1,"ux-input","mt-0","mb-0"],["for","enterTPIN"],[1,"mpin-info-btn",3,"click"],["src","assets/images/svg/information.svg",1,"right-img2"],[1,"row4"],[1,"col-sm-2","col-2","col-md-2"],[1,"ux-input","password1","mb-0"],["id","spassword1","type","tel","numbersOnly","","maxlength","1","placeholder","\u25cf","formControlName","mpin1",3,"keyup","focus"],["sMpin",""],["id","spassword2","type","tel","numbersOnly","","maxlength","1","placeholder","\u25cf","formControlName","mpin2",3,"keyup","focus"],["id","spassword3","type","tel","numbersOnly","","maxlength","1","placeholder","\u25cf","formControlName","mpin3",3,"keyup","focus"],["id","spassword4","type","tel","numbersOnly","","maxlength","1","placeholder","\u25cf","formControlName","mpin4",3,"keyup","focus"],["id","spassword5","type","tel","numbersOnly","","maxlength","1","placeholder","\u25cf","formControlName","mpin5",3,"keyup","focus"],["id","spassword6","type","tel","numbersOnly","","maxlength","1","placeholder","\u25cf","formControlName","mpin6",3,"keyup","focus"],[1,"row"],["class","error-message",4,"ngIf"],[1,"col-sm-12","col-12","col-md-12","col-lg-10","mt-4"],["for",""],["id","cpassword1","type","tel","numbersOnly","","maxlength","1","placeholder","\u25cf","formControlName","confMpin1",3,"keyup","focus"],["cMpin",""],["id","cpassword2","type","tel","numbersOnly","","maxlength","1","placeholder","\u25cf","formControlName","confMpin2",3,"keyup","focus"],["id","cpassword3","type","tel","numbersOnly","","maxlength","1","placeholder","\u25cf","formControlName","confMpin3",3,"keyup","focus"],["id","cpassword4","type","tel","numbersOnly","","maxlength","1","placeholder","\u25cf","formControlName","confMpin4",3,"keyup","focus"],["id","cpassword5","type","tel","numbersOnly","","maxlength","1","placeholder","\u25cf","formControlName","confMpin5",3,"keyup","focus"],["id","cpassword6","type","tel","numbersOnly","","maxlength","1","placeholder","\u25cf","formControlName","confMpin6",3,"keyup","focus"],[1,"col-12","col-lg-10","col-md-12","col-sm-12","position-static"],[1,"ux-footer","border-n"],[1,"col-12","col-md-12"],[1,"bottom-footer1"],[1,"btn-div","custom-mar","hide-m"],[1,"btn-div","custom-mar","w100"],[1,"ux-button","primary","sm-mob"],[1,"col-12","col-lg-6","col-md-2","col-sm-12","d-none","d-lg-block","d-xl-block"],["src","assets/images/svg/SetTPIN.svg",1,"right-regImg"],[1,"primary"],[1,"secondary"],[1,"link-text","mb-4"],[1,"error-message"]],template:function(e,i){1&e&&(t.ec(0,"div",0),t.ec(1,"div",1),t.ec(2,"form",2),t.lc("ngSubmit",(function(){return i.submit()})),t.ec(3,"div",0),t.ec(4,"div",3),t.ec(5,"ul",4),t.ec(6,"li",5),t.ec(7,"em"),t.Rc(8,y,4,6,"span",6),t.Rc(9,F,4,6,"span",6),t.Rc(10,b,3,3,"span",7),t.Rc(11,w,3,3,"span",7),t.dc(),t.dc(),t.dc(),t.ec(12,"div",8),t.ec(13,"div",0),t.ec(14,"div",9),t.ec(15,"h4"),t.Sc(16),t.qc(17,"translate"),t.dc(),t.dc(),t.dc(),t.Rc(18,S,5,3,"div",10),t.dc(),t.dc(),t.ec(19,"div",11),t.ec(20,"div",0),t.ec(21,"div",3),t.ec(22,"div",12),t.ec(23,"label",13),t.Sc(24),t.qc(25,"translate"),t.dc(),t.ec(26,"a",14),t.lc("click",(function(){return i.mpinPolicy()})),t.Zb(27,"img",15),t.dc(),t.dc(),t.dc(),t.dc(),t.ec(28,"div",16),t.ec(29,"div",17),t.ec(30,"div",18),t.ec(31,"input",19,20),t.lc("keyup",(function(e){return i.onKeyUp(0,e,"spassword")}))("focus",(function(){return i.onFocus(0,"spassword")})),t.dc(),t.dc(),t.dc(),t.ec(33,"div",17),t.ec(34,"div",18),t.ec(35,"input",21,20),t.lc("keyup",(function(e){return i.onKeyUp(1,e,"spassword")}))("focus",(function(){return i.onFocus(1,"spassword")})),t.dc(),t.dc(),t.dc(),t.ec(37,"div",17),t.ec(38,"div",18),t.ec(39,"input",22,20),t.lc("keyup",(function(e){return i.onKeyUp(2,e,"spassword")}))("focus",(function(){return i.onFocus(2,"spassword")})),t.dc(),t.dc(),t.dc(),t.ec(41,"div",17),t.ec(42,"div",18),t.ec(43,"input",23,20),t.lc("keyup",(function(e){return i.onKeyUp(3,e,"spassword")}))("focus",(function(){return i.onFocus(3,"spassword")})),t.dc(),t.dc(),t.dc(),t.ec(45,"div",17),t.ec(46,"div",18),t.ec(47,"input",24,20),t.lc("keyup",(function(e){return i.onKeyUp(4,e,"spassword")}))("focus",(function(){return i.onFocus(4,"spassword")})),t.dc(),t.dc(),t.dc(),t.ec(49,"div",17),t.ec(50,"div",18),t.ec(51,"input",25,20),t.lc("keyup",(function(e){return i.onKeyUp(5,e,"spassword")}))("focus",(function(){return i.onFocus(5,"spassword")})),t.dc(),t.dc(),t.dc(),t.dc(),t.ec(53,"div",26),t.ec(54,"div",3),t.ec(55,"div",12),t.Rc(56,D,3,3,"p",27),t.dc(),t.dc(),t.dc(),t.dc(),t.ec(57,"div",28),t.ec(58,"div",0),t.ec(59,"div",3),t.ec(60,"div",12),t.ec(61,"label",29),t.Sc(62),t.qc(63,"translate"),t.dc(),t.dc(),t.dc(),t.dc(),t.ec(64,"div",16),t.ec(65,"div",17),t.ec(66,"div",18),t.ec(67,"input",30,31),t.lc("keyup",(function(e){return i.onKeyUp(0,e,"cpassword")}))("focus",(function(){return i.onFocus(0,"cpassword")})),t.dc(),t.dc(),t.dc(),t.ec(69,"div",17),t.ec(70,"div",18),t.ec(71,"input",32,31),t.lc("keyup",(function(e){return i.onKeyUp(1,e,"cpassword")}))("focus",(function(){return i.onFocus(1,"cpassword")})),t.dc(),t.dc(),t.dc(),t.ec(73,"div",17),t.ec(74,"div",18),t.ec(75,"input",33,31),t.lc("keyup",(function(e){return i.onKeyUp(2,e,"cpassword")}))("focus",(function(){return i.onFocus(2,"cpassword")})),t.dc(),t.dc(),t.dc(),t.ec(77,"div",17),t.ec(78,"div",18),t.ec(79,"input",34,31),t.lc("keyup",(function(e){return i.onKeyUp(3,e,"cpassword")}))("focus",(function(){return i.onFocus(3,"cpassword")})),t.dc(),t.dc(),t.dc(),t.ec(81,"div",17),t.ec(82,"div",18),t.ec(83,"input",35,31),t.lc("keyup",(function(e){return i.onKeyUp(4,e,"cpassword")}))("focus",(function(){return i.onFocus(4,"cpassword")})),t.dc(),t.dc(),t.dc(),t.ec(85,"div",17),t.ec(86,"div",18),t.ec(87,"input",36,31),t.lc("keyup",(function(e){return i.onKeyUp(5,e,"cpassword")}))("focus",(function(){return i.onFocus(5,"cpassword")})),t.dc(),t.dc(),t.dc(),t.dc(),t.ec(89,"div",26),t.ec(90,"div",3),t.ec(91,"div",12),t.Rc(92,V,3,3,"p",27),t.Rc(93,E,3,3,"p",27),t.Rc(94,k,3,3,"p",27),t.dc(),t.dc(),t.dc(),t.dc(),t.ec(95,"div",37),t.ec(96,"div",38),t.ec(97,"div",0),t.ec(98,"div",39),t.ec(99,"ul",40),t.ec(100,"li"),t.Zb(101,"div",41),t.ec(102,"div",42),t.ec(103,"button",43),t.Sc(104),t.qc(105,"translate"),t.dc(),t.dc(),t.dc(),t.dc(),t.dc(),t.dc(),t.dc(),t.dc(),t.dc(),t.dc(),t.dc(),t.ec(106,"div",44),t.Zb(107,"img",45),t.dc(),t.dc()),2&e&&(t.Mb(2),t.uc("formGroup",i.regiFormVerifyMpin),t.Mb(6),t.uc("ngIf","loan"!=i.DataService.regType),t.Mb(1),t.uc("ngIf","loan"==i.DataService.regType),t.Mb(1),t.uc("ngIf","loan"!=i.DataService.regType),t.Mb(1),t.uc("ngIf","loan"==i.DataService.regType),t.Mb(5),t.Tc(t.rc(17,14,"SET_MPIN")),t.Mb(2),t.uc("ngIf","Y"==i.isAlreadyMBUser),t.Mb(6),t.Tc(t.rc(25,16,"SET_MPIN")),t.Mb(32),t.uc("ngIf",i.entermpin),t.Mb(6),t.Tc(t.rc(63,18,"CONFIRM_MPIN")),t.Mb(30),t.uc("ngIf",i.enterConfrmmpin),t.Mb(1),t.uc("ngIf",i.mpinNotMatched),t.Mb(1),t.uc("ngIf",i.mpinRepeatError||i.mpinConsecutiveError),t.Mb(10),t.Tc(t.rc(105,20,"NEXT")))},directives:[c.I,c.t,c.k,f.t,c.c,h.d,c.n,c.s,c.i],pipes:[g.a],styles:[""]}),e})()},rZ7T:function(e,i,n){"use strict";n.r(i),n.d(i,"RegistrationMpinModule",(function(){return u}));var c=n("ofXK"),t=n("f5N2"),r=n("tyNb"),o=n("fXoL");const s=[{path:"",component:t.a}];let a=(()=>{class e{}return e.\u0275mod=o.Wb({type:e}),e.\u0275inj=o.Vb({factory:function(i){return new(i||e)},imports:[[r.g.forChild(s)],r.g]}),e})();var p=n("3Pt+"),l=n("PCNd"),d=n("AvjH");let u=(()=>{class e{}return e.\u0275mod=o.Wb({type:e}),e.\u0275inj=o.Vb({factory:function(i){return new(i||e)},imports:[[c.c,a,p.m,p.C,l.a,d.a]]}),e})()}}]);