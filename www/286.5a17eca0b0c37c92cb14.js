(window.webpackJsonp=window.webpackJsonp||[]).push([[286],{FVor:function(t,e,i){"use strict";i.r(e),i.d(e,"PmjjbyModule",(function(){return k}));var a=i("ofXK"),c=i("wd/R"),o=i("fXoL"),r=i("tyNb"),s=i("EnSQ"),d=i("au7T"),n=i("98hj"),l=i("L7Xq"),h=i("H9Rt"),m=i("5IsW"),p=i("jhN1"),u=i("fHQ/");let b=(()=>{class t{constructor(t,e,i,a,c){this.constant=t,this.common=e,this.storage=i,this.dataService=a,this.encryptDecryptService=c}getJBYAccountDetailsCall(){var t;return t={[this.constant.key_entityId]:this.constant.getEntityId(),[this.constant.key_referenceNumber]:this.common.genRandomDigit(9),[this.constant.key_accountNo]:"00000000000000",[this.constant.key_MobileNoOrg]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_RRN]:this.common.genRandomDigit(9),[this.constant.key_jbyAccountData]:this.dataService.userDetails.cifNumber+"|"},console.log("getJBYDetailsParam",JSON.stringify(t)),this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(t))}}return t.\u0275fac=function(e){return new(e||t)(o.ic(m.a),o.ic(d.a),o.ic(h.a),o.ic(s.a),o.ic(u.a))},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=i("4bKs"),g=i("Eioz"),f=i("bhfF");function S(t,e){if(1&t){const t=o.fc();o.ec(0,"li"),o.ec(1,"a",40),o.lc("click",(function(){o.Hc(t);const i=e.$implicit;return o.pc().dataService.breadcrumroute(i.routeName)})),o.Sc(2),o.qc(3,"translate"),o.dc(),o.dc()}if(2&t){const t=e.$implicit;o.Mb(2),o.Tc(o.rc(3,1,t.currentRoute))}}function D(t,e){1&t&&o.Zb(0,"img",41)}function y(t,e){if(1&t&&(o.ec(0,"p"),o.Sc(1),o.dc()),2&t){const t=o.pc();o.Mb(1),o.Tc(null==t.dataService?null:t.dataService.errorMsg)}}const j=[{path:"",component:(()=>{class t{constructor(t,e,i,a,c,o,r,s,d,n,l,h,m){this.router=t,this.dataService=e,this.commonMethod=i,this.datePipe=a,this.profileDtlsService=c,this.http=o,this.storage=r,this.constant=s,this.domSanitizer=d,this.pmjjbyService=n,this.loader=l,this.translatePipe=h,this.location=m,this.customerObj={userName:"",mobileNo:"",emailId:"",custName:"",custBirthDate:"",accNo:"",communicationAdd:"",add1:"",add2:"",cityCode:"",addharCard:"",panCard:"",pin:"",gender:""},this.notenrolled=!1}ngOnInit(){var t;if(this.customOptions=this.dataService.getCustomOptions(),this.dataService.setShowThemeObservable(!0),this.dataService.setShowsideNavObservable(!0),this.dataService.setShowNotificationObservable(!0),this.dataService.getBreadcrumb("PMJJBY",this.router.url),this.dataService.setPageSettings("PMJJBY"),console.log("cust profile details: ",this.dataService.profiledateDetails),t=this.dataService.isCordovaAvailable?this.dataService.socialSecFromDashboard?"mobSocialLanding":"dashboardMobile":"dashboard",history.pushState({},t,this.location.prepareExternalUrl(t)),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url)),this.customerObj.mobileNo=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].mobileNo)?"-":this.dataService.profiledateDetails[0].mobileNo,this.customerObj.emailId=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].emailId)?"-":this.dataService.profiledateDetails[0].emailId,this.customerObj.custName=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].custName)?"-":this.dataService.profiledateDetails[0].custName,this.customerObj.custBirthDate=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].custBirthDate)?"-":this.dataService.profiledateDetails[0].custBirthDate,null==this.dataService.primaryAccountDtl||""==this.dataService.primaryAccountDtl)return this.dataService.information=this.translatePipe.transform("NO_ASSOCIATED_PRIMARY_AC"),this.dataService.informationLabel=this.translatePipe.transform("INFORMATION"),this.dataService.primaryBtnText=this.translatePipe.transform("OK"),this.commonMethod.openPopup("div.popup-bottom.show-common-info"),void this.router.navigateByUrl(this.dataService.isCordovaAvailable?"/dashboardMobile":"/dashboard");this.customerObj.accNo=this.dataService.primaryAccountDtl.sbAccount,this.customerObj.communicationAdd=(this.dataService.profiledateDetails[0].add1+", "+this.dataService.profiledateDetails[0].add2+", "+this.dataService.profiledateDetails[0].cityCode).replace(", ,",","),this.customerObj.add1=""==this.dataService.profiledateDetails[0].add1?this.dataService.profiledateDetails[0].permenantAdd1:this.dataService.profiledateDetails[0].add1,this.customerObj.add2=""==this.dataService.profiledateDetails[0].add2?this.dataService.profiledateDetails[0].permenantAdd2:this.dataService.profiledateDetails[0].add2,this.customerObj.cityCode=this.dataService.profiledateDetails[0].cityCode,this.customerObj.pin=""==this.dataService.profiledateDetails[0].pin?this.dataService.profiledateDetails[0].permenantPin:this.dataService.profiledateDetails[0].pin,this.customerObj.permanentAdd="-",this.customerObj.addharCard=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].aadharNumber)?"-":this.dataService.profiledateDetails[0].aadharNumber,this.customerObj.panCard=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].panNumber)?"-":this.dataService.profiledateDetails[0].panNumber,this.customerObj.gender=this.commonMethod.validateEmpty(this.dataService.profiledateDetails[0].gender)?"-":this.dataService.profiledateDetails[0].gender,this.todayDate=this.datePipe.transform(new Date,"yyyy-MM-dd"),this.customerObj.userName=this.storage.getLocalStorage(this.constant.storage_username),console.log("customer object: ",this.customerObj),this.getJBYAccountDetails()}goToPage(t){let e=this.customerObj.custBirthDate.split("-")[0],i=this.customerObj.custBirthDate.split("-")[1],a=this.customerObj.custBirthDate.split("-")[2];var c=new Date(i+"-"+e+"-"+a);console.log("converted Date: ",c)}getJBYAccountDetails(){this.loader.showLoader();var t=this.pmjjbyService.getJBYAccountDetailsCall();this.http.callBankingAPIService(t,this.storage.getLocalStorage(this.constant.storage_deviceId),this.constant.serviceName_JBYACCOUNTDETAILS).subscribe(t=>{console.log(t),this.loader.hideLoader();var e=t.responseParameter;if("00"==e.opstatus){var i=t.set.records[0];console.log("pmjjbyAccDetailsArr: ",i),this.router.navigateByUrl("/pmjjbyRecord",{state:{enrollmentDetails:i}})}"Not Enrolled to this scheme"==e.Result&&(this.notenrolled=!0)})}openPopUp(t){switch(t){case"ageVerification":this.commonMethod.openPopup("div.age-verification");break;case"ageVerify":this.commonMethod.openPopup("div.age-verification2")}}closePopup(){this.commonMethod.closeAllPopup()}calculateDateRange(){let t=this.customerObj.custBirthDate.split("-")[0],e=this.customerObj.custBirthDate.split("-")[1],i=this.customerObj.custBirthDate.split("-")[2];var a=parseInt(""+c().diff(i+"-"+e+"-"+t,"years",!0));a<50&&a>=18?this.router.navigateByUrl("/pmjjbyDetails",{state:{customerData:this.customerObj,age:a}}):this.commonMethod.openPopup("div.age-verification2")}calculateDiff(t){let e=new Date;return Math.floor((Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))/864e5)}onSchemeDetailsClick(){this.dataService.isCordovaAvailable?cordova.InAppBrowser.open("https://punjabandsindbank.co.in/content/pradhan-mantri-jeevan-jyoti","_blank","location=no"):window.open("https://punjabandsindbank.co.in/content/pradhan-mantri-jeevan-jyoti")}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(r.c),o.Yb(s.a),o.Yb(d.a),o.Yb(a.f),o.Yb(n.a),o.Yb(l.a),o.Yb(h.a),o.Yb(m.a),o.Yb(p.b),o.Yb(b),o.Yb(v.a),o.Yb(g.a),o.Yb(a.n))},t.\u0275cmp=o.Sb({type:t,selectors:[["app-pmjjby"]],decls:66,vars:7,consts:[[1,"main","bg-m"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container","main-dashborad","manage-payee"],[1,"container-fluid"],[1,"row"],[1,"col-12","p-0"],[1,"breadcrumb"],[1,"lst-breadcrumb"],[4,"ngFor","ngForOf"],[1,"vspacer15","customize","d-none","d-md-block","d-lg-block","d-xl-block"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-9"],[1,"greencard2"],[1,"col-sm-12","col-12","col-md-12"],[1,"widget-box5","mb-3"],[1,"bg-white1","pad-custom"],[3,"options"],["carouselSlide",""],[1,"row1","text-center"],[1,"col-12","col-sm-8","col-xl-6","mx-auto","text-center","mt-3"],[1,"col-6"],[1,"ux-button","secondary","md",3,"click"],["id","pmjjby-enrollnow-submit",1,"ux-button","primary","md",3,"click"],[1,"col-12","col-md-12","col-lg-12","col-xl-3","d-none","d-xl-block"],[1,"right-ads"],["src","assets/images/banner/my-card-banner.jpg"],[1,"vspacer30"],[1,"popup-bottom","sm-popup","age-verification2"],[1,"text-center"],["src","assets/images/svg/information.svg","alt","error-icon"],[1,"col-12","mb-4"],[1,"row1","mt-2"],[1,"col-12","text-center"],[1,"ux-button","primary","submit-btn",3,"click"],[1,"popup-bottom","show-common-error","sm-popup"],["src","./assets/images/svg/error.svg","alt","error-icon"],[4,"ngIf"],[3,"click"],["src","assets/images/banner/pmjjby-banner.png","alt","banner-img"]],template:function(t,e){1&t&&(o.ec(0,"div",0),o.ec(1,"div",1),o.ec(2,"div",2),o.ec(3,"div",3),o.ec(4,"div",4),o.ec(5,"div",5),o.ec(6,"div",6),o.ec(7,"div",7),o.ec(8,"ul",8),o.Rc(9,S,4,3,"li",9),o.dc(),o.dc(),o.dc(),o.dc(),o.Zb(10,"div",10),o.ec(11,"div",11),o.ec(12,"div",12),o.ec(13,"div",13),o.ec(14,"div",14),o.ec(15,"div",15),o.ec(16,"div",13),o.ec(17,"div",16),o.ec(18,"div",17),o.ec(19,"div",18),o.ec(20,"div",13),o.ec(21,"div",12),o.ec(22,"owl-carousel-o",19),o.cc(23),o.Rc(24,D,1,0,"ng-template",20),o.bc(),o.dc(),o.dc(),o.dc(),o.ec(25,"div",21),o.ec(26,"div",22),o.ec(27,"div",13),o.ec(28,"div",23),o.ec(29,"button",24),o.lc("click",(function(){return e.onSchemeDetailsClick()})),o.Sc(30,"Scheme Details"),o.dc(),o.dc(),o.ec(31,"div",23),o.ec(32,"button",25),o.lc("click",(function(){return e.calculateDateRange()})),o.Sc(33,"Enroll Now"),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(34,"div",26),o.ec(35,"div",27),o.ec(36,"a"),o.Zb(37,"img",28),o.dc(),o.dc(),o.Zb(38,"div",29),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(39,"div",30),o.ec(40,"div",13),o.ec(41,"div",12),o.ec(42,"h4",31),o.Zb(43,"img",32),o.Sc(44," Age Verification "),o.dc(),o.dc(),o.dc(),o.ec(45,"div",13),o.ec(46,"div",33),o.ec(47,"p"),o.Sc(48,"Sorry! You are not eligible to enroll this scheme"),o.dc(),o.dc(),o.dc(),o.ec(49,"div",34),o.ec(50,"div",35),o.ec(51,"button",36),o.lc("click",(function(){return e.closePopup()})),o.Sc(52,"OK"),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(53,"div",37),o.ec(54,"div",13),o.ec(55,"div",12),o.ec(56,"h4",31),o.Zb(57,"img",38),o.Sc(58),o.dc(),o.dc(),o.dc(),o.ec(59,"div",13),o.ec(60,"div",33),o.Rc(61,y,2,1,"p",39),o.dc(),o.dc(),o.ec(62,"div",34),o.ec(63,"div",35),o.ec(64,"button",36),o.lc("click",(function(){return e.closePopup()})),o.Sc(65),o.dc(),o.dc(),o.dc(),o.dc()),2&t&&(o.Mb(9),o.uc("ngForOf",e.dataService.breadcrumblist),o.Mb(6),o.Qb("showbanner",e.notenrolled),o.Mb(7),o.uc("options",e.customOptions),o.Mb(36),o.Uc(" ",e.dataService.informationLabel," "),o.Mb(3),o.uc("ngIf",""!=e.dataService.errorMsg),o.Mb(4),o.Tc(e.dataService.primaryBtnText))},directives:[a.s,f.a,f.c,a.t],pipes:[g.a],styles:[".showbanner[_ngcontent-%COMP%]{display:block}"]}),t})()}];let O=(()=>{class t{}return t.\u0275mod=o.Wb({type:t}),t.\u0275inj=o.Vb({factory:function(e){return new(e||t)},imports:[[r.g.forChild(j)],r.g]}),t})();var N=i("PCNd"),w=i("3Pt+"),M=i("z17N");let k=(()=>{class t{}return t.\u0275mod=o.Wb({type:t}),t.\u0275inj=o.Vb({factory:function(e){return new(e||t)},imports:[[a.c,O,N.a,w.m,w.C,M.d,M.f,f.b]]}),t})()}}]);