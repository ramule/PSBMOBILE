(window.webpackJsonp=window.webpackJsonp||[]).push([[329],{xBUN:function(t,e,c){"use strict";c.r(e),c.d(e,"SelfTransferModule",(function(){return _}));var s=c("ofXK"),i=c("tyNb"),o=c("fXoL"),n=c("EnSQ"),a=c("5IsW"),r=c("L7Xq"),d=c("H9Rt"),l=c("au7T"),p=c("fHQ/");let h=(()=>{class t{constructor(t,e,c,s,i){this.constant=t,this.storage=e,this.dataService=c,this.commonMethod=s,this.encryptDecryptService=i}getVpaAccountList(){var t={[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)),[this.constant.key_upi_subAction]:this.constant.upiserviceName_FETCHDISTINCTACCOUNTLIST,[this.constant.key_upi_inputParam]:{[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_language]:this.storage.hasKeyLocalStorage(this.constant.storage_language)?this.storage.getLocalStorage(this.constant.storage_language):this.constant.val_default_lang,[this.constant.key_upi_mobileNo]:this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo))}};return this.getOmniRequestObject(t)}getOmniRequestObject(t){t=t;var e={[this.constant.key_entityId]:this.constant.val_entityId_UMOB,[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_deviceId]:this.storage.getLocalStorage(this.constant.storage_deviceId),[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_upiRequest]:JSON.stringify(t)};return console.log("inputData => ",JSON.stringify(e)),this.getEncryptedOmniRequestObject(e)}getEncryptedOmniRequestObject(t){console.log("session Key : ",this.storage.getSessionStorage(this.constant.val_sessionKey));let e=this.encryptDecryptService.encryptText(this.storage.getSessionStorage(this.constant.val_sessionKey),JSON.stringify(t));return console.log("encryptDatagetOmniRequestObject => ",JSON.stringify(e)),e}}return t.\u0275fac=function(e){return new(e||t)(o.ic(a.a),o.ic(d.a),o.ic(n.a),o.ic(l.a),o.ic(p.a))},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=c("Eioz");function g(t,e){if(1&t){const t=o.fc();o.ec(0,"ul",29),o.ec(1,"li"),o.ec(2,"div",30),o.ec(3,"label",31),o.ec(4,"input",32),o.lc("change",(function(){o.Hc(t);const c=e.index;return o.pc(2).getAccountSelected("TRNS",c)})),o.dc(),o.Zb(5,"span",33),o.ec(6,"span"),o.Zb(7,"img",34),o.dc(),o.ec(8,"span",35),o.Sc(9),o.dc(),o.Zb(10,"br"),o.ec(11,"span",36),o.Sc(12),o.dc(),o.Zb(13,"br"),o.dc(),o.dc(),o.dc(),o.dc()}if(2&t){const t=e.$implicit;o.Mb(4),o.uc("checked",t.isSelected),o.Mb(5),o.Uc("",t.bankName," "),o.Mb(3),o.Vc("",t.accType," ",t.maskedAccountNumber,"")}}function f(t,e){if(1&t){const t=o.fc();o.ec(0,"ul",37),o.ec(1,"li"),o.ec(2,"div",30),o.ec(3,"label",31),o.ec(4,"input",38),o.lc("change",(function(){o.Hc(t);const c=e.index;return o.pc(2).getAccountSelected("DPST",c)})),o.dc(),o.Zb(5,"span",33),o.ec(6,"span"),o.Zb(7,"img",34),o.dc(),o.ec(8,"span",35),o.Sc(9),o.dc(),o.Zb(10,"br"),o.ec(11,"span",36),o.Sc(12),o.dc(),o.Zb(13,"br"),o.dc(),o.dc(),o.dc(),o.dc()}if(2&t){const t=e.$implicit;o.Mb(4),o.uc("checked",t.isDeposit),o.Mb(5),o.Uc("",t.bankName," "),o.Mb(3),o.Vc("",t.accType," ",t.maskedAccountNumber,"")}}function b(t,e){if(1&t){const t=o.fc();o.ec(0,"div",15),o.ec(1,"div",8),o.ec(2,"div",16),o.ec(3,"div",9),o.ec(4,"div",17),o.ec(5,"div",18),o.ec(6,"div",19),o.ec(7,"div",8),o.ec(8,"h4"),o.Sc(9),o.qc(10,"translate"),o.dc(),o.dc(),o.ec(11,"div",20),o.Rc(12,g,14,4,"ul",21),o.dc(),o.ec(13,"div",22),o.ec(14,"div",10),o.ec(15,"a",23),o.lc("click",(function(){return o.Hc(t),o.pc().goToPage("manageAccounts")})),o.Sc(16),o.qc(17,"translate"),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(18,"div",18),o.ec(19,"div",24),o.ec(20,"div",8),o.ec(21,"h4"),o.Sc(22),o.qc(23,"translate"),o.dc(),o.dc(),o.ec(24,"div",20),o.Rc(25,f,14,4,"ul",25),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(26,"div",26),o.ec(27,"div",27),o.Zb(28,"img",28),o.dc(),o.dc(),o.dc(),o.dc(),o.dc()}if(2&t){const t=o.pc();o.Mb(9),o.Tc(o.rc(10,5,"TRANSFER_FROM")),o.Mb(3),o.uc("ngForOf",t.transferActList),o.Mb(4),o.Tc(o.rc(17,7,"ADD_MORE_ACCOUNTS")),o.Mb(6),o.Tc(o.rc(23,9,"DEPOSIT_TO_ACCOUNT")),o.Mb(3),o.uc("ngForOf",t.depositActList)}}function m(t,e){if(1&t){const t=o.fc();o.ec(0,"div",39),o.ec(1,"div",40),o.ec(2,"div",15),o.ec(3,"div",8),o.ec(4,"div",9),o.ec(5,"button",41),o.lc("click",(function(){return o.Hc(t),o.pc().goToPage("selfTransferPayment")})),o.Sc(6),o.qc(7,"translate"),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc()}if(2&t){const t=o.pc();o.Mb(5),o.uc("disabled",t.proceedEnable),o.Mb(1),o.Tc(o.rc(7,2,"PROCEED"))}}const v=[{path:"",component:(()=>{class t{constructor(t,e,c,s,i,o,n,a,r){this.router=t,this.DataService=e,this.constant=c,this.http=s,this.localStorage=i,this.location=o,this.SelfTransferService=n,this.translate=a,this.commonMethod=r,this.headerdata={headerType:"CloseNewHeader",titleName:"Self Transfer",footertype:"none"},this.transferActList=[],this.depositActList=[],this.defaultVpaAccountArr=[],this.proceedEnable=!0}ngOnInit(){this.DataService.changeMessage(this.headerdata),console.log("coming from => ",this.DataService.previousPageUrl),this.upiAccountList(),history.pushState({},"payUpi",this.location.prepareExternalUrl("payUpi")),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url))}initialize(){}upiAccountList(){var t=this.SelfTransferService.getVpaAccountList();this.UpiApiCall(t)}UpiApiCall(t){this.http.callBankingAPIService(t,this.localStorage.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_PROCESSUPISERVICESESSION,!0).subscribe(t=>{let e=t.responseParameter.upiResponse;if("00"==e.status)switch(e.subActionId){case this.constant.upiserviceName_FETCHDISTINCTACCOUNTLIST:if(this.depositActList=[],this.transferActList=[],this.DataService.selfTransferActList=e.responseParameter.accountlist,this.DataService.selfTransferActList.length>1){this.DataService.selfTransferActList.forEach((t,e)=>{0==e?t.isSelected=!0:(t.isSelected=!1,this.depositActList.push(t)),this.transferActList.push(t)}),this.getAccountSelected("TRNS",0);break}this.showPopup("selfTransferAlert")}else"01"==e.status&&this.goToPage("payUpi")},t=>{console.log("ERROR!",t)})}getAccountSelected(t,e){"TRNS"==t?(this.transferAct={},this.depositActList=[],this.proceedEnable=!0,this.transferActList.forEach((t,c)=>{e==c?(t.isSelected=!0,t.isDeposit=!1,this.transferAct=t):(t.isSelected=!1,t.isDeposit=!1,this.depositActList.push(t))})):(this.depositAct={},this.proceedEnable=!1,this.depositActList.forEach((t,c)=>{e==c?(t.isDeposit=!0,this.depositAct=t):t.isDeposit=!1})),this.DataService.selfTransferActList.depositAct=this.depositAct,console.log("depositAct => ",this.DataService.selfTransferActList.depositAct),this.DataService.selfTransferActList.transferAct=this.transferAct,console.log("tansferAct => ",this.DataService.selfTransferActList.transferAct)}getDepstActSelected(t,e){"DPST"==t&&this.depositActList.forEach((t,c)=>{e==c&&(t.isSelected=!0,t.isDeposit=!0,this.depositAct.push(t))})}showPopup(t,e){this.commonMethod.openPopup("div.popup-bottom."+t)}closePopup(t){this.commonMethod.closePopup("div.popup-bottom."+t)}goToPage(t){this.DataService.resetSelfTransReceiptObjData(),this.router.navigateByUrl("/"+t)}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(i.c),o.Yb(n.a),o.Yb(a.a),o.Yb(r.a),o.Yb(d.a),o.Yb(s.n),o.Yb(h),o.Yb(u.a),o.Yb(l.a))},t.\u0275cmp=o.Sb({type:t,selectors:[["app-self-transfer"]],decls:27,vars:14,consts:[[1,"main"],[1,"right-main-column","minus-rt-col","mar-custom"],[1,"right-col-container"],[1,"body-page-container"],["class","container-fluid",4,"ngIf"],["class","footer-container sticky-actions bg-transparent",4,"ngIf"],[1,"sticky-actions-spacer"],[1,"popup-bottom","selfTransferAlert"],[1,"row"],[1,"col-12"],[1,"text-center"],[1,"row1","mt-2"],[1,"col-6","text-center"],[1,"ux-button","secondary","no","md","close-btn",3,"click"],[1,"ux-button","primary","md",3,"click"],[1,"container-fluid"],[1,"bg-section"],[1,"row1"],[1,"col-sm-12","col-12","col-md-12"],[1,"white-bg1"],[1,"col-sm-12","col-12","col-md-12","p-0"],["class","radio-list mt-0",4,"ngFor","ngForOf"],[1,"col-12","col-md-12"],[1,"link-txt",3,"click"],[1,"grey-bg3","mar-custom","pb-0","mb-4"],["class","radio-list mt-0 mb-0",4,"ngFor","ngForOf"],[1,"col-12","text-center"],[1,"powered-logo"],["src","assets/images/logo/powered-upi-logo.svg","alt","powered-upi-logo"],[1,"radio-list","mt-0"],[1,"ux-selection","w-100"],[1,"ux-selection6","pad-custom1","mb-0"],["type","radio","name","radioboxdemo",3,"checked","change"],[1,"checkmark"],["src","assets/images/icons/psb-icon.png","alt","psb-icon"],[1,"fs-1"],[1,"fs-2"],[1,"radio-list","mt-0","mb-0"],["type","radio","name","radioboxdemo1",3,"checked","change"],[1,"footer-container","sticky-actions","bg-transparent"],[1,"footer-inactions","minus-rt-col"],[1,"ux-button","primary","md",3,"disabled","click"]],template:function(t,e){1&t&&(o.ec(0,"div",0),o.ec(1,"div",1),o.ec(2,"div",2),o.ec(3,"div",3),o.Rc(4,b,29,11,"div",4),o.dc(),o.dc(),o.dc(),o.dc(),o.Rc(5,m,8,4,"div",5),o.Zb(6,"div",6),o.ec(7,"div",7),o.ec(8,"div",8),o.ec(9,"div",9),o.ec(10,"h4",10),o.Sc(11),o.qc(12,"translate"),o.dc(),o.dc(),o.dc(),o.ec(13,"div",8),o.ec(14,"div",9),o.ec(15,"p"),o.Sc(16),o.qc(17,"translate"),o.dc(),o.dc(),o.dc(),o.ec(18,"div",11),o.ec(19,"div",12),o.ec(20,"button",13),o.lc("click",(function(){return e.goToPage("payUpi")})),o.Sc(21),o.qc(22,"translate"),o.dc(),o.dc(),o.ec(23,"div",12),o.ec(24,"button",14),o.lc("click",(function(){return e.goToPage("manageAccounts")})),o.Sc(25),o.qc(26,"translate"),o.dc(),o.dc(),o.dc(),o.dc()),2&t&&(o.Mb(4),o.uc("ngIf",e.depositActList.length>0&&e.transferActList.length>0),o.Mb(1),o.uc("ngIf",e.depositActList.length>0&&e.transferActList.length>0),o.Mb(6),o.Tc(o.rc(12,6,"ALERT")),o.Mb(5),o.Uc(" ",o.rc(17,8,"ONLY_ONE_ACCOUNT_LINKED_TO_YOUR_ACCOUNT_KINDLY_ADD_MORE_ACCOUNT_TO_PROCEED_WITH_SELF_TRANSFER")," "),o.Mb(5),o.Tc(o.rc(22,10,"NO")),o.Mb(4),o.Tc(o.rc(26,12,"ADD_NEW_ACCOUNT")))},directives:[s.t,s.s],pipes:[u.a],styles:[""]}),t})()}];let S=(()=>{class t{}return t.\u0275mod=o.Wb({type:t}),t.\u0275inj=o.Vb({factory:function(e){return new(e||t)},imports:[[i.g.forChild(v)],i.g]}),t})();var A=c("PCNd"),y=c("3Pt+");let _=(()=>{class t{}return t.\u0275mod=o.Wb({type:t}),t.\u0275inj=o.Vb({factory:function(e){return new(e||t)},imports:[[s.c,S,A.a,y.m,y.C]]}),t})()}}]);