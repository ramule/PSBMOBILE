(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{OXpz:function(t,e,i){"use strict";i.d(e,"d",(function(){return o})),i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return r})),i.d(e,"c",(function(){return a}));var s=i("fXoL"),c=i("3Pt+");let o=(()=>{class t{constructor(t){this.control=t,this.specialKeys=["Backspace","Tab"]}ngOnChanges(t){if(-1===this.specialKeys.indexOf(t.key)&&!/^[0-9]*$/.test(this.control.value)){let t=this.control.value.replace(/[^0-9]/g,"");this.control.control.setValue(t)}}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(c.r))},t.\u0275dir=s.Tb({type:t,selectors:[["","numbersOnly",""]],hostBindings:function(t,e){1&t&&s.lc("input",(function(t){return e.ngOnChanges(t)}))},features:[s.Kb]}),t})(),n=(()=>{class t{constructor(t){this.control=t,this.specialKeys=["Backspace","Tab"]}ngOnChanges(t){if(-1===this.specialKeys.indexOf(t.key)&&this.control.value){let t=this.control.value.replace(/[^.0-9]+/g,"");this.control.control.setValue(t)}}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(c.r))},t.\u0275dir=s.Tb({type:t,selectors:[["","digitOnly",""]],hostBindings:function(t,e){1&t&&s.lc("input",(function(t){return e.ngOnChanges(t)}))},features:[s.Kb]}),t})(),r=(()=>{class t{constructor(t){this.el=t,this.regex=new RegExp(/^\d*\.?\d{0,2}$/g),this.specialKeys=["Backspace","Tab","End","Home","-","ArrowLeft","ArrowRight","Del","Delete"]}onKeyDown(t){if(console.log(this.el.nativeElement.value),-1!==this.specialKeys.indexOf(t.key))return;let e=this.el.nativeElement.value;const i=this.el.nativeElement.selectionStart,s=[e.slice(0,i),"Decimal"==t.key?".":t.key,e.slice(i)].join("");s&&!String(s).match(this.regex)&&t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(s.o))},t.\u0275dir=s.Tb({type:t,selectors:[["","amountOnly",""]],hostBindings:function(t,e){1&t&&s.lc("keydown",(function(t){return e.onKeyDown(t)}))}}),t})(),a=(()=>{class t{constructor(t){this._el=t}onInputChange(t){const e=this._el.nativeElement.value;this._el.nativeElement.value=e.replace(/[^0-9]*/g,""),e!==this._el.nativeElement.value&&t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(s.o))},t.\u0275dir=s.Tb({type:t,selectors:[["input","numericOnly",""]],hostBindings:function(t,e){1&t&&s.lc("input",(function(t){return e.onInputChange(t)}))}}),t})()},leST:function(t,e,i){"use strict";i.r(e),i.d(e,"DeregisterModule",(function(){return P}));var s=i("ofXK"),c=i("tyNb"),o=i("3Pt+"),n=i("fXoL"),r=i("RVMx"),a=i("jhN1"),l=i("EnSQ"),p=i("H9Rt"),d=i("5IsW"),u=i("fHQ/"),h=i("au7T");let m=(()=>{class t{constructor(t,e,i,s,c){this.dataService=t,this.storage=e,this.constant=i,this.encryptDecryptService=s,this.commonMethod=c}initData(){this.deviceId=this.storage.getLocalStorage(this.constant.storage_deviceId)?this.storage.getLocalStorage(this.constant.storage_deviceId):"16115505318289004432367",this.mobileNumber=this.storage.getLocalStorage(this.constant.storage_mobileNo)?this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)):"9004432367",this.upiReqMobNo=this.storage.getLocalStorage(this.constant.storage_mobileNo)?this.commonMethod.processPhoneNo(this.storage.getLocalStorage(this.constant.storage_mobileNo)):"91"+this.mobileNumber,this.encryptKey=this.storage.getSessionStorage(this.constant.val_sessionKey)?this.storage.getSessionStorage(this.constant.val_sessionKey):"",console.log("this.encryptKey =>",this.encryptKey),this.platform=this.dataService.platform?this.dataService.platform:"Android",this.getUserLocation()}getUserLocation(){this.latitude=this.dataService.latitude?this.dataService.latitude:"0",this.longitude=this.dataService.longitude?this.dataService.longitude:"0",this.userLocationName=this.dataService.userLocationName}getOmniRequestObject(t){return this.inputData={[this.constant.key_entityId]:this.constant.getEntityId(this.constant.val_entityId_UMOB),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_deviceId]:this.deviceId,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_upiRequest]:JSON.stringify(t)},console.log("inputData => ",JSON.stringify(this.inputData)),this.encryptDecryptService.encryptText(this.encryptKey,JSON.stringify(this.inputData))}getEncryptedOmniRequestObject(t){return console.log("encrypt key => ",this.encryptKey),this.encryptDecryptService.encryptText(this.encryptKey,JSON.stringify(this.inputData))}omniUpiValidateMpinRequestObject(t){let e={[this.constant.key_entityId]:this.constant.getEntityId(this.constant.val_entityId_UMOB),[this.constant.key_mobPlatform]:this.platform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_mobileNumber]:this.storage.getLocalStorage(this.constant.storage_mobileNo),[this.constant.key_MPIN]:this.encryptDecryptService.createMD5Value(t)};return console.log("UPI/UPIVALIDATEMPIN ====>"+JSON.stringify(e)),this.encryptDecryptService.encryptText(this.encryptKey,JSON.stringify(e))}deregisterUpiRequestObject(){let t={[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.upiReqMobNo,[this.constant.key_upi_subAction]:this.constant.upiserviceName_DEREGISTERMOBILE,[this.constant.key_upi_inputParam]:{[this.constant.key_upi_appVersion]:this.constant.val_mobileAppVersion,[this.constant.key_upi_language]:this.dataService.getSelectedLanguageCodeUPI(),[this.constant.key_upi_entityID]:this.constant.val_upi_psb,[this.constant.key_upi_mobileNo]:this.upiReqMobNo,[this.constant.key_upi_device]:{[this.constant.key_upi_app]:"com.infra.psbupiuat",[this.constant.key_upi_capability]:"10000000001",[this.constant.key_upi_os]:this.platform,[this.constant.key_upi_lat]:this.latitude,[this.constant.key_upi_lng]:this.longitude,[this.constant.key_upi_ip]:this.dataService.ipAddress,[this.constant.key_upi_location]:this.userLocationName,[this.constant.key_upi_mobileNo]:this.upiReqMobNo,[this.constant.key_upi_deviceID]:this.deviceId}}};return this.inputData={[this.constant.key_entityId]:this.constant.getEntityId(this.constant.val_entityId_UMOB),[this.constant.key_cbsType]:this.constant.val_cbsTypeTcs,[this.constant.key_mobPlatform]:this.constant.val_mobPlatform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_deviceId]:this.deviceId,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_upiRequest]:JSON.stringify(t)},console.log("inputData => ",JSON.stringify(this.inputData)),this.encryptDecryptService.encryptText(this.encryptKey,JSON.stringify(this.inputData))}omniUpiDeactivateRequestObject(){this.getEncryptedOmniRequestObject({[this.constant.key_entityId]:"UPIDESKTOP",[this.constant.key_mobPlatform]:this.platform,[this.constant.key_mobileAppVersion]:this.constant.val_mobileAppVersion,[this.constant.key_clientAppVersion]:this.constant.val_clientAppVersion,[this.constant.key_mobileNumber]:this.mobileNumber})}}return t.\u0275fac=function(e){return new(e||t)(n.ic(l.a),n.ic(p.a),n.ic(d.a),n.ic(u.a),n.ic(h.a))},t.\u0275prov=n.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=i("L7Xq"),v=i("4bKs"),b=i("oBZJ"),y=i("OXpz"),S=i("Eioz");const f=["mPINformRow"];function _(t,e){if(1&t){const t=n.fc();n.ec(0,"div",43),n.ec(1,"div",44),n.ec(2,"input",45,46),n.lc("keyup",(function(i){n.Hc(t);const s=e.index;return n.pc().onKeyUpEvent(s,i)}))("focus",(function(){n.Hc(t);const i=e.index;return n.pc().onFocusEvent(i)})),n.dc(),n.dc(),n.dc()}if(2&t){const t=e.$implicit,i=e.index;n.Mb(2),n.wc("id","spassword",i,""),n.vc("formControlName",t)}}const I=[{path:"",component:(()=>{class t{constructor(t,e,i,s,c,o,n,r,a,l){this.translate=t,this.domSanitizer=e,this.dataService=i,this.deregisterService=s,this.commonMethod=c,this.httpService=o,this.constant=n,this.localStorageService=r,this.loader=a,this.pluginService=l,this.headerdata={headerType:"CloseNewHeader",titleName:"Deregister Application",footertype:"none"},this.customerName="",this.formInput=["mpinInput1","mpinInput2","mpinInput3","mpinInput4","mpinInput5","mpinInput6"]}ngOnInit(){this.dataService.changeMessage(this.headerdata),this.MPINForm=this.toFormGroup(this.formInput),deregister(),this.deregisterService.initData(),this.customerName=this.dataService.regUPICustData.customerName,console.log("this.customerName",this.customerName),console.log("ProfileImg => "),console.log(this.dataService.profileImage)}toFormGroup(t){const e={};return t.forEach(t=>{e[t]=new o.g("",o.G.required)}),new o.j(e)}getMPINValue(){var t="";console.log(this.MPINForm.controls);for(const e in this.MPINForm.controls){const i=this.MPINForm.get(e);console.log("value",i.value),i.hasError("required")||(t+=i.value,console.log(t))}return t}getSpasswordElement(t){if(console.log(this.mPinRows),t<=5)return this.mPinRows._results[t].nativeElement}onKeyUpEvent(t,e){const i=e.which||e.keyCode;console.log(t),console.log(e.which),console.log(e.keyCode),1===this.getSpasswordElement(t).value.length&&(5!==t?this.getSpasswordElement(t+1).focus():(this.getSpasswordElement(t).blur(),console.log("submit code "))),12===i&&1!==t&&this.getSpasswordElement(t-1).focus(),8!==i&&229!==i||"Unidentified"!=e.key&&(this.MPINForm.get(this.formInput[t]).setValue(""),this.getSpasswordElement(t-1).focus())}onFocusEvent(t){for(let e=1;e<t;e++){const t=this.getSpasswordElement(e);if(!t.value){t.focus();break}}}getCpasswordElement(t){return document.getElementById("cpassword"+t)}showPopup(t){this.commonMethod.openPopup("div.popup-bottom."+t)}closePopup(t){this.commonMethod.closePopup("div.popup-bottom."+t)}validateForm(t){"mpin"==t&&this.MPINForm.invalid&&this.MPINForm.markAllAsTouched()}deregisterUser(){this.closePopup("deregisterConfirmationPopup"),this.loader.showLoader();let t=this.getMPINValue(),e=this.deregisterService.omniUpiValidateMpinRequestObject(t);this.httpService.callBankingAPIService(e,this.localStorageService.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_UPIVALIDATEMPIN,!0).subscribe(t=>{console.log(t),"00"==t.responseParameter.opstatus?this.UpiApiCall(this.constant.upiserviceName_DEREGISTERMOBILE):this.MPINForm.reset()},t=>{console.log("Error => ",t)})}UpiApiCall(t,e){let i=this.deregisterService.deregisterUpiRequestObject();this.httpService.callBankingAPIService(i,this.localStorageService.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_PROCESSUPISERVICESESSION,!0).subscribe(e=>{if(console.log("success",e),"00"==e.responseParameter.opstatus){let i=e.responseParameter.upiResponse;switch(console.log("upiResponseData => ",i),i.subActionId){case this.constant.upiserviceName_DEREGISTERMOBILE:console.log("DEREGISTERMOBILE response handling..."),"00"==i.status&&this.omniDeactivateApiCall();break;default:console.log("Default => ",t)}}else console.log(e.responseParameter.opstatus)},t=>{console.log(t)})}omniDeactivateApiCall(){if(this.validateForm("mpin"),console.log(this.MPINForm),this.MPINForm.valid){let t=this.getMPINValue(),e=this.deregisterService.omniUpiValidateMpinRequestObject(t);this.httpService.callBankingAPIService(e,this.localStorageService.getLocalStorage(this.constant.storage_deviceId),this.constant.upiserviceName_UPIDEACTIVATE,!0).subscribe(t=>{console.log(t),"00"==t.responseParameter.opstatus&&(this.loader.hideLoader(),this.dataService.platform.toLowerCase()==this.constant.val_android?(this.dataService.clearAppInfo(),this.pluginService.enableSmartIntent(!1)):this.dataService.platform.toLowerCase()==this.constant.val_ios&&this.dataService.clearAppInfoIos(),this.showPopup("deregisterSuccessPopup"))},t=>{console.log("Error => ",t)})}}clearAppData(t,e){if(this.closePopup(t),device.platform.toLowerCase()==this.constant.val_android)e&&navigator.app.exitApp();else{var i=this;setTimeout((function(){i.dataService.routeWithNgZone("/LandingPage")}),3e3)}}onLoadData(){this.dataService.upiCommonObservable.subscribe(t=>{this.profileImage=this.domSanitizer.bypassSecurityTrustUrl("data:image/jpg;base64,"+t.base64Image)})}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(r.a),n.Yb(a.b),n.Yb(l.a),n.Yb(m),n.Yb(h.a),n.Yb(g.a),n.Yb(d.a),n.Yb(p.a),n.Yb(v.a),n.Yb(b.a))},t.\u0275cmp=n.Sb({type:t,selectors:[["app-deregister"]],viewQuery:function(t,e){var i;1&t&&n.Yc(f,!0),2&t&&n.Dc(i=n.mc())&&(e.mPinRows=i)},decls:107,vars:57,consts:[[1,"main"],[1,"right-main-column","minus-rt-col","mar-custom"],[1,"right-col-container"],[1,"body-page-container"],[1,"container-fluid"],[1,"row"],[1,"bg-section"],[1,"col-12"],[1,"row1"],[1,"col-sm-12","col-12","col-md-12"],[1,"white-bg1"],[1,"info-section1"],[1,"round-circle"],["onerror","this.src='./assets/images/svg/user-profile-w.svg'","alt","user-img",3,"src"],[1,"col-sm-12","col-12","col-md-12","mt-4","mb-4"],[1,"ux-input","password1","p1"],["for","sapassword",1,"mb0"],["id","mpin-form",3,"formGroup"],[1,"row3"],["class","col-sm-2 col-2 col-md-2",4,"ngFor","ngForOf"],[1,"ux-input","input-error","password1","p1","mt-0","mb-0"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mt-2"],[1,"custom-h5"],[1,"unorderlist","mar-b"],[1,"footer-container","sticky-actions"],[1,"footer-inactions","minus-rt-col"],[1,"col-12","text-center"],[1,"deregister-procced","ux-button","primary","md",3,"disabled","click"],[1,"sticky-actions-spacer"],[1,"popup-bottom","deregisterConfirmationPopup"],[1,"text-center"],[1,"row1","mt-2"],[1,"col-6","text-center"],[1,"ux-button","secondary","no","md","close-btn",3,"click"],[1,"deregister-submit","ux-button","primary","md",3,"click"],[1,"popup-bottom","deregisterSuccessPopup"],[1,"row","mt-3"],[1,"success"],["src","assets/images/svg/check.svg","alt","success-icon"],[1,"row1","mt-3"],[1,"ux-button","primary","md","submit-btn",3,"click"],[1,"popup-bottom","deregisterRejectPopup"],[1,"ux-button","primary","md","submit-btn1",3,"click"],[1,"col-sm-2","col-2","col-md-2"],[1,"ux-input","password1","p1","mb-0"],["type","tel","maxlength","1","placeholder","\u25cf","pattern","\\d*","numbersOnly","",3,"id","formControlName","keyup","focus"],["mPINformRow",""]],template:function(t,e){1&t&&(n.ec(0,"div",0),n.ec(1,"div",1),n.ec(2,"div",2),n.ec(3,"div",3),n.ec(4,"div",4),n.ec(5,"div",5),n.ec(6,"div",6),n.ec(7,"div",7),n.ec(8,"div",8),n.ec(9,"div",9),n.ec(10,"div",10),n.ec(11,"div"),n.ec(12,"div",11),n.ec(13,"h5"),n.ec(14,"span",12),n.Zb(15,"img",13),n.dc(),n.Sc(16),n.dc(),n.dc(),n.dc(),n.ec(17,"div",5),n.ec(18,"div",14),n.ec(19,"div",5),n.ec(20,"div",7),n.ec(21,"div",15),n.ec(22,"label",16),n.Sc(23),n.qc(24,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(25,"form",17),n.ec(26,"div",18),n.Rc(27,_,4,2,"div",19),n.qc(28,"slice"),n.dc(),n.dc(),n.ec(29,"div",5),n.ec(30,"div",7),n.ec(31,"div",20),n.Zb(32,"p"),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(33,"div",21),n.ec(34,"h5",22),n.Sc(35),n.qc(36,"translate"),n.dc(),n.ec(37,"ul",23),n.ec(38,"li"),n.Sc(39),n.qc(40,"translate"),n.dc(),n.ec(41,"li"),n.Sc(42),n.qc(43,"translate"),n.dc(),n.ec(44,"li"),n.Sc(45),n.qc(46,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(47,"div",24),n.ec(48,"div",25),n.ec(49,"div",4),n.ec(50,"div",5),n.ec(51,"div",26),n.ec(52,"button",27),n.lc("click",(function(){return e.showPopup("deregisterConfirmationPopup")})),n.Sc(53),n.qc(54,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.dc(),n.Zb(55,"div",28),n.dc(),n.dc(),n.dc(),n.ec(56,"div",29),n.ec(57,"div",8),n.ec(58,"div",7),n.ec(59,"h4",30),n.Sc(60),n.qc(61,"translate"),n.dc(),n.dc(),n.dc(),n.ec(62,"div",8),n.ec(63,"div",7),n.ec(64,"p"),n.Sc(65),n.qc(66,"translate"),n.dc(),n.dc(),n.dc(),n.ec(67,"div",31),n.ec(68,"div",32),n.ec(69,"button",33),n.lc("click",(function(){return e.closePopup("deregisterConfirmationPopup")})),n.Sc(70),n.qc(71,"translate"),n.dc(),n.dc(),n.ec(72,"div",32),n.ec(73,"button",34),n.lc("click",(function(){return e.deregisterUser()})),n.Sc(74),n.qc(75,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(76,"div",35),n.ec(77,"div",36),n.ec(78,"div",37),n.Zb(79,"img",38),n.ec(80,"h3"),n.Sc(81),n.qc(82,"translate"),n.dc(),n.ec(83,"h5"),n.Sc(84),n.qc(85,"translate"),n.dc(),n.dc(),n.dc(),n.ec(86,"div",39),n.ec(87,"div",26),n.ec(88,"button",40),n.lc("click",(function(){return e.clearAppData("deregisterSuccessPopup",!0)})),n.Sc(89),n.qc(90,"translate"),n.dc(),n.dc(),n.dc(),n.dc(),n.ec(91,"div",41),n.ec(92,"div",8),n.ec(93,"div",7),n.ec(94,"h4",30),n.Sc(95),n.qc(96,"translate"),n.dc(),n.dc(),n.dc(),n.ec(97,"div",8),n.ec(98,"div",7),n.ec(99,"p"),n.Sc(100),n.qc(101,"translate"),n.dc(),n.dc(),n.dc(),n.ec(102,"div",31),n.ec(103,"div",26),n.ec(104,"button",42),n.lc("click",(function(){return e.clearAppData("deregisterRejectPopup")})),n.Sc(105),n.qc(106,"translate"),n.dc(),n.dc(),n.dc(),n.dc()),2&t&&(n.Mb(15),n.uc("src",e.dataService.profileImage,n.Jc),n.Mb(1),n.Uc(" ",e.customerName," "),n.Mb(7),n.Uc(" ",n.rc(24,21,"ENTER_LOGIN_MPIN")," "),n.Mb(2),n.uc("formGroup",e.MPINForm),n.Mb(2),n.uc("ngForOf",n.tc(28,23,e.formInput,0,6)),n.Mb(8),n.Uc(" ",n.rc(36,27,"NOTE")," "),n.Mb(4),n.Uc(" ",n.rc(40,29,"DEREGISTER_DESC_1")," "),n.Mb(3),n.Uc(" ",n.rc(43,31,"DEREGISTER_DESC_2")," "),n.Mb(3),n.Uc(" ",n.rc(46,33,"DEREGISTER_DESC_3")," "),n.Mb(7),n.uc("disabled",e.MPINForm.invalid),n.Mb(1),n.Uc(" ",n.rc(54,35,"PROCEED")," "),n.Mb(7),n.Uc(" ",n.rc(61,37,"DEREGISTER_UPI_SERVICES")," "),n.Mb(5),n.Uc(" ",n.rc(66,39,"DEREGISTER_PROCEED_CONFIRMATION")," "),n.Mb(5),n.Uc(" ",n.rc(71,41,"NO")," "),n.Mb(4),n.Uc(" ",n.rc(75,43,"YES")," "),n.Mb(7),n.Uc(" ",n.rc(82,45,"SUCCESS")," "),n.Mb(3),n.Uc(" ",n.rc(85,47,"DEREGISTER_SUCCESS")," "),n.Mb(5),n.Uc(" ",n.rc(90,49,"OK")," "),n.Mb(6),n.Uc(" ",n.rc(96,51,"DEREGISTER_UPI_SERVICES")," "),n.Mb(5),n.Uc(" ",n.rc(101,53,"DEREGISTER_NOT_ALLOWED")," "),n.Mb(5),n.Uc(" ",n.rc(106,55,"OK")," "))},directives:[o.I,o.t,o.k,s.s,o.c,o.n,o.z,y.d,o.s,o.i],pipes:[S.a,s.E],styles:[""]}),t})()}];let E=(()=>{class t{}return t.\u0275mod=n.Wb({type:t}),t.\u0275inj=n.Vb({factory:function(e){return new(e||t)},imports:[[c.g.forChild(I)],c.g]}),t})();var k=i("PCNd"),N=i("AvjH");let P=(()=>{class t{}return t.\u0275mod=n.Wb({type:t}),t.\u0275inj=n.Vb({factory:function(e){return new(e||t)},imports:[[s.c,E,k.a,o.m,o.C,N.a]]}),t})()}}]);