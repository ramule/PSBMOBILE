(window.webpackJsonp=window.webpackJsonp||[]).push([[43,65,109,349],{Geda:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var i=c("fXoL"),s=c("3Pt+"),o=c("au7T");let a=(()=>{class e{constructor(e,t){this.control=e,this.commonMethods=t,this.specialKeys=["Backspace","Tab"]}ngOnChanges(e){const t=+this.limitTo;if(-1===this.specialKeys.indexOf(e.key)&&!this.commonMethods.validateEmpty(this.control.value)&&this.control.value.length>=t){let e=this.control.value.substring(0,t);this.control.control.setValue(e)}}}return e.\u0275fac=function(t){return new(t||e)(i.Yb(s.r),i.Yb(o.a))},e.\u0275dir=i.Tb({type:e,selectors:[["","limit-to",""]],hostBindings:function(e,t){1&e&&i.lc("input",(function(e){return t.ngOnChanges(e)}))},inputs:{limitTo:["limit-to","limitTo"]},features:[i.Kb]}),e})()},K7oJ:function(e,t,c){"use strict";c.r(t),c.d(t,"CreateUpiModule",(function(){return K}));var i=c("ofXK"),s=c("tyNb"),o=c("3Pt+"),a=c("Q9Ys"),n=c("wd/R"),r=c("XNiG"),l=c("fXoL"),d=c("EnSQ"),p=c("Eioz"),u=c("L7Xq"),h=c("H9Rt"),m=c("5IsW"),v=c("fHQ/"),b=c("au7T"),g=c("OJ+w"),S=c("TiA8"),A=c("Ygbc"),f=c("oBZJ"),U=c("4bKs"),I=c("TaOT"),P=c("OXpz"),E=c("3aHd"),k=c("Geda"),D=c("KyFs");const T=["mPINformRow"],C=["expiryDateRow"];function y(e,t){1&e&&(l.ec(0,"p",93),l.Sc(1),l.qc(2,"translate"),l.dc()),2&e&&(l.Mb(1),l.Uc(" ",l.rc(2,1,"UPI_ID_ALREADY_USED")," "))}function w(e,t){1&e&&(l.ec(0,"p",93),l.Sc(1),l.qc(2,"translate"),l.dc()),2&e&&(l.Mb(1),l.Uc(" ",l.rc(2,1,"PLEASE_ENTER_UPI_ID")," "))}function N(e,t){1&e&&(l.ec(0,"p",93),l.Sc(1),l.qc(2,"translate"),l.dc()),2&e&&(l.Mb(1),l.Uc(" ",l.rc(2,1,"UPI_ID_LENGTH_TOO_SHORT")," "))}function _(e,t){if(1&e){const e=l.fc();l.ec(0,"div",85),l.ec(1,"div",8),l.ec(2,"div",86),l.ec(3,"form",36),l.ec(4,"div",46),l.ec(5,"label",87),l.Sc(6),l.qc(7,"translate"),l.dc(),l.ec(8,"input",88),l.lc("change",(function(){return l.Hc(e),l.pc().onUpiIdChange()})),l.dc(),l.ec(9,"span",89),l.Sc(10,"@psb"),l.dc(),l.ec(11,"p",90),l.Sc(12),l.qc(13,"translate"),l.dc(),l.Zb(14,"div",91),l.Rc(15,y,3,3,"p",92),l.Rc(16,w,3,3,"p",92),l.Rc(17,N,3,3,"p",92),l.dc(),l.dc(),l.dc(),l.dc(),l.dc()}if(2&e){const e=l.pc();l.Mb(3),l.uc("formGroup",e.createUpiIdForm),l.Mb(3),l.Uc(" ",l.rc(7,6,"UPI_ID")," "),l.Mb(6),l.Uc(" ",l.rc(13,8,"UPI_ID_DESC")," "),l.Mb(3),l.uc("ngIf",e.upiIdAlreadyUsed),l.Mb(1),l.uc("ngIf",e.emptyUpiId),l.Mb(1),l.uc("ngIf",e.createUpiIdForm.controls.upiId.hasError("minlength")&&e.createUpiIdForm.controls.upiId.touched)}}function F(e,t){if(1&e&&(l.ec(0,"div",8),l.ec(1,"div",86),l.ec(2,"h6"),l.Sc(3),l.qc(4,"translate"),l.dc(),l.ec(5,"h5"),l.Sc(6),l.dc(),l.dc(),l.dc()),2&e){const e=l.pc();l.Mb(3),l.Uc(" ",l.rc(4,2,"UPI_ID")," "),l.Mb(3),l.Uc("",e.linkAccUpiId," ")}}function O(e,t){1&e&&(l.ec(0,"div",94),l.ec(1,"div",9),l.ec(2,"div",95),l.Zb(3,"img",96),l.ec(4,"h6"),l.Sc(5),l.qc(6,"translate"),l.dc(),l.dc(),l.dc(),l.dc()),2&e&&(l.Mb(5),l.Uc(" ",l.rc(6,1,"NO_ACCOUNT_FOUND")," "))}function L(e,t){if(1&e){const e=l.fc();l.ec(0,"li"),l.ec(1,"div",100),l.ec(2,"label",101),l.Sc(3),l.ec(4,"input",102),l.lc("click",(function(){l.Hc(e);const c=t.$implicit;return l.pc(2).setBankName(c)})),l.dc(),l.Zb(5,"span",103),l.dc(),l.dc(),l.dc()}if(2&e){const e=t.$implicit;l.Mb(3),l.Uc(" ",e.bankName," ")}}function M(e,t){if(1&e){const e=l.fc();l.ec(0,"div",97),l.ec(1,"div",9),l.ec(2,"div",46),l.ec(3,"input",98),l.lc("ngModelChange",(function(t){return l.Hc(e),l.pc().searchBanks=t})),l.qc(4,"translate"),l.dc(),l.Zb(5,"p"),l.dc(),l.dc(),l.ec(6,"ul",99),l.Rc(7,L,6,1,"li",40),l.qc(8,"searchFilter"),l.dc(),l.dc()}if(2&e){const e=l.pc();l.Mb(3),l.vc("placeholder",l.rc(4,3,"SEARCH_BANKS")),l.uc("ngModel",e.searchBanks),l.Mb(4),l.uc("ngForOf",l.tc(8,5,e.otherBankList,"bankName",e.searchBanks))}}function R(e,t){1&e&&(l.ec(0,"p",93),l.Sc(1),l.qc(2,"translate"),l.dc()),2&e&&(l.Mb(1),l.Uc(" ",l.rc(2,1,"UOD_ACCOUNT_MSG")," "))}function x(e,t){if(1&e){const e=l.fc();l.ec(0,"li"),l.ec(1,"div",100),l.ec(2,"label",104),l.Sc(3),l.Zb(4,"br"),l.Sc(5),l.Zb(6,"br"),l.ec(7,"span"),l.Sc(8),l.dc(),l.ec(9,"input",105),l.lc("click",(function(){l.Hc(e);const c=t.$implicit,i=l.pc();return i.setSelectedAccount(c),i.closePopup("selectAccountPopup")})),l.dc(),l.Zb(10,"span",103),l.dc(),l.Rc(11,R,3,3,"p",92),l.dc(),l.dc()}if(2&e){const e=t.$implicit,c=l.pc();l.Mb(3),l.Uc(" ",e.MASKED_ACCNUMBER," "),l.Mb(2),l.Uc(" ",c.selectedBankName," "),l.Mb(3),l.Uc(" ","SOD"==e.accType||"UOD"==e.accType?"Overdraft":e.accType," "),l.Mb(1),l.uc("value",e.ACCNUMBER)("checked",c.checked),l.Mb(2),l.uc("ngIf","UOD"==e.accType)}}function B(e,t){if(1&e){const e=l.fc();l.ec(0,"div",58),l.ec(1,"div",106),l.ec(2,"input",107,108),l.lc("keyup",(function(c){l.Hc(e);const i=t.index;return l.pc().onKeyUpEvent(i,c)}))("focus",(function(){l.Hc(e);const c=t.index;return l.pc().onFocusEvent(c)})),l.dc(),l.dc(),l.dc()}if(2&e){const e=t.$implicit,c=t.index;l.Mb(2),l.wc("id","spassword",c,""),l.vc("formControlName",e)}}const Y=[{path:"",component:(()=>{class e{constructor(e,t,c,i,s,o,a,n,r,l,d,p,u,h,m,v,b,g){this.router=e,this.form=t,this.dataService=c,this.translate=i,this.http=s,this.localStorageService=o,this.constant=a,this.encryptDecryptService=n,this.commonMethod=r,this.location=l,this.createUpiService=d,this.npciAndroidService=p,this.npciIosService=u,this.pluginService=h,this.pageLoaderService=m,this.formValidationService=v,this.ngZone=b,this.loaderService=g,this.selectedBankError=!1,this.otherBankList=[],this.upiIdSuggestionStatic=[],this.upiIdAlreadyUsed=!1,this.migratedUser=!1,this.showDebitCardForm=!1,this.showOtherBankList=!1,this.linkAccountFlow=!1,this.disableFooterSubmitButton=!1,this.disableSelectAccountSubmitButton=!1,this.disableDebitSubmitButton=!1,this.showFormat1Screen=!1,this.showFormat2Screen=!0,this.isMbeba="N",this.headerdata={headerType:"createUpiIdHeader",titleName:"Create UPI ID",footertype:"none"},this.formErrorsDebitCard={cardNumber:"",expDate:"",cardPin:""},this.showAccountListPopup=!1,this.searchBanks="",this.psbSelected=!1,this.emptyUpiId=!1,this.formInput=["spassword1","spassword2","spassword3","spassword4","spassword5","spassword6"],this.formInputExp=["expdate1","expdate2","expdate3","expdate4"]}ngOnInit(){this.prevPageUrl=this.dataService.previousPageUrl?this.dataService.previousPageUrl:"",console.log("Coming from => ",this.prevPageUrl),"manageAccounts"==this.prevPageUrl||"payUpi"==this.prevPageUrl?(this.dataService.isLinkAccountFlow?(console.log("Manage Accounts => Link Account Flow"),this.continueLinkAccountFlow()):(console.log("Manage Accounts => Create VPA Flow"),this.continueCreateVpaFlow()),this.dataService.prevUrlForCreateVpaSuccess="manageAccounts"):"upiDashboard"==this.prevPageUrl||""==this.prevPageUrl?(this.dataService.prevUrlForCreateVpaSuccess="upiDashboard",this.dataService.vpaAddressList.length>0?this.continueLinkAccountFlow():this.continueCreateVpaFlow()):"myProfile"==this.prevPageUrl?(this.dataService.prevUrlForCreateVpaSuccess="upiDashboard",this.continueCreateVpaFlow()):(this.dataService.prevUrlForCreateVpaSuccess="upiRegSuccess",this.continueCreateVpaFlow(),"setMpin"==this.prevPageUrl&&(this.prevPageUrl="upiRegSuccess")),console.log(this.prevPageUrl),history.pushState({},this.prevPageUrl,this.location.prepareExternalUrl(this.prevPageUrl)),history.pushState({},"self",this.location.prepareExternalUrl(this.router.url)),this.selectedBankError=!1,this.dataService.changeMessage(this.headerdata),moboVerification(),this.createUpiService.initData(),this.isBankAccountAvailable=!0,console.log("isBankAccountAvailable = ",this.isBankAccountAvailable),console.log("linkAccountFlow = ",this.linkAccountFlow),console.log("omniApiName = ",this.createUpiService.omniApiName),this.upiIdSuggestionStatic=["rajesh9omprakashs","rajeshomprakashs.7109","rajesh.7210"],this.buildCreateUpiIdForm(),this.buildDebitCardForm(),this.buildSelectAccountForm(),this.disableFooterSubmitButton=!0,this.disableSelectAccountSubmitButton=!0,this.disableDebitSubmitButton=!0,this.UpiApiCall(this.constant.upiserviceName_GETBANKDETAILLIST)}continueLinkAccountFlow(){this.linkAccountFlow=!0,console.log("UPI Id => ",this.dataService.linkAccSelectedVpaDetails),this.linkAccUpiId=this.dataService.linkAccSelectedVpaDetails.paymentAddress?this.dataService.linkAccSelectedVpaDetails.paymentAddress:"",this.createUpiService.paymentAddress=this.linkAccUpiId,this.headerdata.titleName="Link Account"}continueCreateVpaFlow(){console.log("Registration => Create UPI Id Flow"),this.linkAccountFlow=!1,this.headerdata.titleName="Create UPI ID"}buildCreateUpiIdForm(){this.upiId=0==this.dataService.vpaAddressList.length?this.localStorageService.getLocalStorage(this.constant.storage_mobileNo):"",this.linkAccountFlow&&(this.upiId=this.linkAccUpiId),this.createUpiIdForm=new o.j({upiId:new o.g(this.upiId,[o.G.required,o.G.minLength(4)])}),"manageAccounts"!=this.prevPageUrl&&"upiDashboard"!=this.prevPageUrl?(this.createUpiIdForm.get("upiId").setValue(this.upiId),this.createUpiService.paymentAddress=this.createUpiIdForm.get("upiId").value+"@psb"):this.createUpiService.paymentAddress=this.linkAccUpiId,this.createUpiIdForm.get("upiId").valueChanges.subscribe(e=>{e&&(console.log("RESET!! changed data => ",e),this.paymentAddress=e+"@psb",console.log("this.paymentAddress",this.paymentAddress))})}setBankName(e){this.selectedBankName=e.bankName,this.createUpiService.bankName=e.bankName,this.disableFooterSubmitButton=!1,this.createUpiService.selectedBankIfsc=e.ifsc,"PSIB"==e.ifsc&&this.showOtherBankList&&(this.showOtherBankList=!1),console.log("Calling upiserviceName_GETACCOUNTLIST.."),this.UpiApiCall(this.constant.upiserviceName_GETACCOUNTLIST)}verifyUpiId(e){this.linkAccountFlow||(e==this.constant.val_bankName_PSB&&(this.userBankName=e),this.UpiApiCall(this.constant.upiserviceName_VERIFYPAYMENTADDRESS))}showOtherBanksList(){this.showOtherBankList=!0,console.log("showOtherBankList = ",this.showOtherBankList),this.isBankAccountAvailable||(this.isBankAccountAvailable=!0)}buildDebitCardForm(){this.debitCardForm=new o.j({spassword1:new o.g("",[o.G.required,o.G.minLength(1),o.G.maxLength(1)]),spassword2:new o.g("",[o.G.required,o.G.minLength(1),o.G.maxLength(1)]),spassword3:new o.g("",[o.G.required,o.G.minLength(1),o.G.maxLength(1)]),spassword4:new o.g("",[o.G.required,o.G.minLength(1),o.G.maxLength(1)]),spassword5:new o.g("",[o.G.required,o.G.minLength(1),o.G.maxLength(1)]),spassword6:new o.g("",[o.G.required,o.G.minLength(1),o.G.maxLength(1)]),expdate1:new o.g("",[o.G.required,o.G.minLength(1),o.G.maxLength(1)]),expdate2:new o.g("",[o.G.required,o.G.minLength(1),o.G.maxLength(1)]),expdate3:new o.g("",[o.G.required,o.G.minLength(1),o.G.maxLength(1)]),expdate4:new o.g("",[o.G.required,o.G.minLength(1),o.G.maxLength(1)])})}buildSelectAccountForm(){this.selectAccountForm=new o.j({account:new o.g("",[o.G.required])})}validateCreateUpiForm(){if(this.createUpiIdForm.invalid)return this.createUpiIdForm.get("upiId").markAsTouched(),this.createUpiIdForm.get("selectAccount").markAsTouched(),void this.createUpiIdForm.get("otherbank").markAsTouched()}upiSubmit(){this.validateCreateUpiForm(),this.createUpiIdForm.valid&&(this.createUpiIdForm.value.otherbank||this.createUpiIdForm.value.selectAccount?this.router.navigate(["/upiOtherBanks"]):(console.log("smebank"),this.selectedBankError=!0))}bankTabclick(e){"ownBank"==e?(this.selectedBanktype=1,this.createUpiIdForm.controls.otherbank.reset()):(this.selectedBanktype=2,this.createUpiIdForm.controls.selectAccount.reset())}checkUpiId(e){console.log(e),this.createUpiIdForm.controls.upiId.reset()}proceedWithPIN(){this.isMbeba="Y",this.closePopup("allowSetUpiPinPopup"),this.showPopup("debitcard-info")}proceedWithoutPIN(){this.isMbeba="N",this.closePopup("allowSetUpiPinPopup"),this.UpiApiCall(this.linkAccountFlow?this.constant.upiserviceName_ADDACCOUNTTOVPA:this.constant.upiserviceName_ADDPAYMENTADDRESS)}goToPage(e){"searchContactList"==e&&(this.dataService.payFetchContacts=!0),this.dataService.routeWithNgZone(e)}back(){this.location.back()}setSelectedAccount(e){this.disableSelectAccountSubmitButton=!1;let t={mbeba:e.MBEBA?e.MBEBA:"",bankName:this.selectedBankName,ifsc:e.IFSC?e.IFSC:"",accType:e.ACCTYPE?e.ACCTYPE:"",accNum:e.ACCNUMBER?e.ACCNUMBER:"",custName:e.NAME?e.NAME:"",maskedAccountNumber:e.MASKED_ACCNUMBER?e.MASKED_ACCNUMBER:"",paymentAddress:this.createUpiIdForm.get("upiId").value+"@psb",credType:e.CRED_TYPE?e.CRED_TYPE:"",credDType:e.CRED_DTYPE?e.CRED_DTYPE:"",credSubType:e.CRED_SUB_TYPE?e.CRED_SUB_TYPE:"",credDLength:e.CRED_DLENGTH?e.CRED_DLENGTH:"",atmDType:e.ATM_CRED_DTYPE?e.ATM_CRED_DTYPE:"",atmCredType:e.ATM_CRED_TYPE?e.ATM_CRED_TYPE:"",atmCredSubType:e.ATM_CRED_SUB_TYPE?e.ATM_CRED_SUB_TYPE:"",atmDLength:e.ATM_CRED_DLENGTH?e.ATM_CRED_DLENGTH:"",otpCredType:e.OTP_TYPE?e.OTP_TYPE:"",otpCredDType:e.OTP_DTYPE?e.OTP_DTYPE:"",otpCredSubType:e.OTP_SUB_TYPE?e.OTP_SUB_TYPE:"",otpCredDLength:e.OTP_CRED_DLENGTH?e.OTP_CRED_DLENGTH:""};this.selectedAccount=(new a.a).deserialize(t),console.log("this.selectedAccount"),console.log(this.selectedAccount),this.createUpiService.selectedAccountDetails=this.selectedAccount,this.linkAccountFlow?this.checkMbebaFlag():this.dataService.createDefaultVPAFlag?0==this.dataService.vpaAddressList.length?this.setDefaultVpa(!0):this.showPopup("setDefaultVpaPopup"):(this.createUpiService.isDefaultVpa="N",this.checkMbebaFlag())}checkMbebaFlag(){"Y"==this.selectedAccount.mbeba?this.UpiApiCall(this.linkAccountFlow?this.constant.upiserviceName_ADDACCOUNTTOVPA:this.constant.upiserviceName_ADDPAYMENTADDRESS):(this.showPopup("allowSetUpiPinPopup"),this.dataService.isEmpty(this.selectedAccount.atmCredType)?(this.showFormat1Screen=!0,this.showFormat2Screen=!1):(this.showFormat1Screen=!1,this.showFormat2Screen=!0),console.log("this.showFormat1Screen",this.showFormat1Screen),console.log("this.showFormat2Screen",this.showFormat2Screen))}checkUpiPinStatus(){"Y"==this.selectedAccount.mbeba?this.goToPage("/upiDashboard"):this.showPopup("allowSetUpiPinPopup")}UpiApiCall(e){switch(this.pageLoaderService.showLoader(),e){case this.constant.upiserviceName_GETPAYMENTADDRESS:this.createUpiIdForm.get("upiId").value&&(this.createUpiService.paymentAddress=this.createUpiIdForm.get("upiId").value.includes("@psb")?this.createUpiIdForm.get("upiId").value:this.createUpiIdForm.get("upiId").value+"@psb",this.createUpiService.getPaymentAddressRequestObject());break;case this.constant.upiserviceName_VERIFYPAYMENTADDRESS:this.createUpiIdForm.get("upiId").value?this.createUpiIdForm.get("upiId").value.includes("@psb")?this.createUpiService.verifyPaymentAddressRequestObject(this.createUpiIdForm.get("upiId").value):this.createUpiService.verifyPaymentAddressRequestObject(this.createUpiIdForm.get("upiId").value+"@psb"):(this.errorText="Please enter a valid UPI Id",this.showPopup("errorPopup"));break;case this.constant.upiserviceName_GETACCOUNTPROVIDERLIST:this.createUpiService.getAccountProviderListRequestObject();break;case this.constant.upiserviceName_GETBANKDETAILLIST:this.createUpiService.getBankDetailListRequestObject();break;case this.constant.upiserviceName_GETACCOUNTLIST:this.createUpiIdForm.get("upiId").value?(this.createUpiService.paymentAddress=this.createUpiIdForm.get("upiId").value.includes("@psb")?this.createUpiIdForm.get("upiId").value:this.createUpiIdForm.get("upiId").value+"@psb",this.createUpiService.getAccountListRequestObject()):console.log("upiId not found ");break;case this.constant.upiserviceName_ADDPAYMENTADDRESS:this.createUpiIdForm.get("upiId").value?(this.createUpiService.paymentAddress=this.createUpiIdForm.get("upiId").value.includes("@psb")?this.createUpiIdForm.get("upiId").value:this.createUpiIdForm.get("upiId").value+"@psb",this.createUpiService.addPaymentAddressRequestObject(this.createUpiService.paymentAddress,this.isMbeba)):console.log("upiId not found ");break;case this.constant.upiserviceName_REQUESTOTP:this.createUpiService.requestOTPRequestObject();break;case this.constant.upiserviceName_REGMOBILE:this.createUpiIdForm.get("upiId").value?(this.createUpiService.paymentAddress=this.createUpiIdForm.get("upiId").value.includes("@psb")?this.createUpiIdForm.get("upiId").value:this.createUpiIdForm.get("upiId").value+"@psb",this.createUpiService.regMobileRequestObject(this.finalCredResponse)):console.log("upiId not found ");break;case this.constant.upiserviceName_ADDACCOUNTTOVPA:this.createUpiIdForm.get("upiId").value?(this.createUpiService.paymentAddress=this.createUpiIdForm.get("upiId").value.includes("@psb")?this.createUpiIdForm.get("upiId").value:this.createUpiIdForm.get("upiId").value+"@psb",this.createUpiService.addAccountToVpaRequestObject(this.selectedAccount)):console.log("upiId not found ");break;default:console.log("Default case => apiName = ",e)}var t=this.createUpiService.getEncryptedOmniRequestObject();this.http.callBankingAPIService(t,this.localStorageService.getLocalStorage(this.constant.storage_deviceId),this.createUpiService.omniApiName,!0).subscribe(e=>{if(this.pageLoaderService.hideLoader(),console.log("success",e),"00"==e.responseParameter.opstatus){let t=e.responseParameter.upiResponse;switch(console.log("upiResponseData => ",t),t.subActionId){case this.constant.upiserviceName_GETPAYMENTADDRESS:console.log("GETPAYMENTADDRESS Response handling...");break;case this.constant.upiserviceName_VERIFYPAYMENTADDRESS:console.log("VERIFYPAYMENTADDRESS Response handling..."),"00"==t.status?(this.upiIdAlreadyUsed=!1,this.psbSelected?this.setBankName(this.psbBankDetails):this.showOtherBanksList()):this.upiIdAlreadyUsed=!0;break;case this.constant.upiserviceName_GETACCOUNTPROVIDERLIST:console.log("GETACCOUNTPROVIDERLIST Response handling..."),"00"==t.status&&(this.otherBankList=t.responseParameter.AccPvdList,console.log("this.otherBankList",this.otherBankList),this.dataService.accountProviderList=t.responseParameter.AccPvdList,this.UpiApiCall(this.constant.upiserviceName_GETBANKDETAILLIST));break;case this.constant.upiserviceName_GETBANKDETAILLIST:console.log("GETBANKDETAILLIST Response handling..."),console.log("upiResponseData",t),"00"==t.status&&(this.bankDetailsArray=t.responseParameter.BankList,this.bankDetailsArray.forEach(e=>{"PSIB"!=e.ifsc?this.otherBankList.push(e):this.psbBankDetails=e}));break;case this.constant.upiserviceName_GETACCOUNTLIST:console.log("GETACCOUNTLIST Response handling..."),"00"==t.status?(this.accountList=t.responseParameter.RESULT,this.selectAccountForm.reset(),this.accountList.length>0?(this.isBankAccountAvailable=!0,this.showOtherBankList&&(this.showOtherBankList=!1),this.showPopup("selectAccountPopup")):(this.isBankAccountAvailable=!1,this.showOtherBankList=!1)):(this.isBankAccountAvailable=!1,this.showOtherBankList=!1);break;case this.constant.upiserviceName_ADDPAYMENTADDRESS:console.log("ADDPAYMENTADDRESS Response handling..."),"00"==t.status&&(this.dataService.upiIdDetails=t.responseParameter,this.dataService.vpaAddressList=[],console.log("this.dataService.upiIdDetails",this.dataService.upiIdDetails),"manageAccounts"!=this.prevPageUrl?"N"==this.isMbeba?this.dataService.routeWithNgZone("createUpiSuccess"):(this.showFormat1Screen||this.showFormat2Screen)&&(this.finalCredResponse?this.UpiApiCall(this.constant.upiserviceName_REGMOBILE):this.dataService.routeWithNgZone("createUpiSuccess")):(this.dataService.isSetVpaDtl=!0,this.dataService.vpaDtls=this.dataService.linkAccSelectedVpaDetails));break;case this.constant.upiserviceName_REQUESTOTP:console.log("REQUESTOTP response handling..."),"00"==t.status&&(console.log("this.showFormat1Screen",this.showFormat1Screen),console.log("this.showFormat2Screen",this.showFormat2Screen),this.showFormat1Screen&&(this.dataService.platform.toLowerCase()==this.constant.val_android?this.npciAndroidService.credTypeValue=this.constant.val_npci_credTypeSetUpiPin:this.dataService.platform.toLowerCase()==this.constant.val_ios?this.npciIosService.credTypeValue=this.constant.val_npci_credTypeSetUpiPin:console.log("Unknown platform.."),this.callNpciLibrary(this.selectedAccount)),this.showFormat2Screen&&(this.dataService.platform.toLowerCase()==this.constant.val_android?this.npciAndroidService.credTypeValue=this.constant.val_npci_credTypeSetUPIPinWithATM:this.dataService.platform.toLowerCase()==this.constant.val_ios?this.npciIosService.credTypeValue=this.constant.val_npci_credTypeSetUPIPinWithATM:console.log("Unknown platform.."),this.callNpciLibrary(this.selectedAccount)));break;case this.constant.upiserviceName_REGMOBILE:console.log("REGMOBILE response handling..."),this.dataService.routeWithNgZone(this.linkAccountFlow?"linkAccountSuccess":"createUpiSuccess"),this.dataService.regMobileAPIResponse=t;break;case this.constant.upiserviceName_ADDACCOUNTTOVPA:"00"==t.status&&("manageAccounts"==this.prevPageUrl||"upiDashboard"==this.prevPageUrl?(this.dataService.vpaAddressList=[],this.dataService.linkedAccountDetails=t,this.dataService.linkedAccountDetails.bankName=this.selectedAccount.bankName,this.dataService.linkedAccountDetails.maskedAccNo=this.selectedAccount.maskedAccountNumber,this.dataService.linkedAccountDetails.accType=this.selectedAccount.accType,this.dataService.linkedAccountDetails.actualAccType="SOD"==this.selectedAccount.accType||"UOD"==this.selectedAccount.accType?"Overdraft":this.selectedAccount.accType,"Y"==this.selectedAccount.mbeba?this.dataService.routeWithNgZone("linkAccountSuccess"):"Y"==this.isMbeba?this.UpiApiCall(this.constant.upiserviceName_REGMOBILE):this.dataService.routeWithNgZone("linkAccountSuccess")):console.log("ELSE Coming from => ",this.prevPageUrl));break;default:console.log("DEFAULT => subAction Id = ",t.subActionId)}}else console.log("FAILURE")},e=>{console.log("ERROR!",e)})}callNpciLibrary(e){if(console.log("calling npci library..."),console.log("accountData",e),this.loaderService.showLoader(),window.hasOwnProperty("cordova"))if(this.dataService.platform.toLowerCase()==this.constant.val_android){console.log("Calling NPCI Android service..."),this.npciAndroidService.initData();var t=new r.a;this.npciAndroidService.getTransactionId().subscribe(c=>{this.npciAndroidService.transactionId=c,this.createUpiService.txnID=c,console.log("Setting txnId => ",this.npciAndroidService.transactionId),this.npciAndroidService.androidStartCLLibrary(e,this.constant.val_npci_flow_setUpiPin_android,t).subscribe(e=>{let t=e;console.log("Android StartCLLibrary Success NPCIResponse => ",t),t.hasOwnProperty("status")&&"00"==t.status&&(this.finalCredResponse=t,this.UpiApiCall(this.linkAccountFlow?this.constant.upiserviceName_ADDACCOUNTTOVPA:this.constant.upiserviceName_ADDPAYMENTADDRESS))},e=>{console.log("Android StartCLLibrary error => ",e)})})}else if(this.dataService.platform.toLowerCase()==this.constant.val_ios){console.log("Calling NPCI iOS service..."),this.npciIosService.initData();let t=new r.a;this.npciIosService.getTransactionId().subscribe(c=>{console.log("transactionId Received => ",c),this.npciIosService.txnId=c,this.createUpiService.txnID=c,this.npciIosService.iosStartCLLibrary(e,this.constant.val_npci_flow_setUpiPin,t).subscribe(e=>{let t=e;console.log("iOS StartCLLibrary Success => ",t),t&&t.credkey?(this.finalCredResponse=t,this.UpiApiCall(this.linkAccountFlow?this.constant.upiserviceName_ADDACCOUNTTOVPA:this.constant.upiserviceName_ADDPAYMENTADDRESS)):console.log("NPCI flow cancelled...")},e=>{console.log("iOS StartCLLibrary error => ",e)})})}else console.log("unknown platform = ",this.dataService.platform);else console.log("Cordova not available... unable to start NPCI Library on web")}showPopup(e){this.commonMethod.openPopup("div.popup-bottom."+e)}closePopup(e){this.commonMethod.closePopup("div.popup-bottom."+e)}openDatePicker(){this.minDate=n().toDate(),this.maxDate=n().add(20,"years").toDate(),this.pluginService.openDatePicker("date",new Date,this.minDate,this.maxDate).subscribe(e=>{console.log("Success date",e),e&&(this.debitCardForm.get("expiryDate").setValue(n(e).format("YYYY/MM")),this.disableDebitSubmitButton=!1,this.createUpiService.debitCardExpiryDate=n(e).format("MMYY"))})}setDefaultVpa(e){this.closePopup("setDefaultVpaPopup"),this.createUpiService.isDefaultVpa=e?"Y":"N",this.checkMbebaFlag()}callAPIAndNpci(){this.closePopup("debitcard-info"),this.createUpiService.debitCardNumber=this.getMPINValue(),this.createUpiService.debitCardExpiryDate=this.getExpDate(),console.log("this.createUpiService.debitCardNumber",this.createUpiService.debitCardNumber),console.log("this.createUpiService.debitCardExpiryDate",this.createUpiService.debitCardExpiryDate),this.dataService.platform.toLowerCase()==this.constant.val_android?this.npciAndroidService.getTransactionId().subscribe(e=>{this.createUpiService.requestOtpTxnId=e,console.log("requestOtpTxnId => ",this.createUpiService.requestOtpTxnId),this.UpiApiCall(this.constant.upiserviceName_REQUESTOTP)}):this.dataService.platform.toLowerCase()==this.constant.val_ios&&this.npciIosService.getTransactionId().subscribe(e=>{this.createUpiService.requestOtpTxnId=e,console.log("requestOtpTxnId => ",this.createUpiService.requestOtpTxnId),this.UpiApiCall(this.constant.upiserviceName_REQUESTOTP)})}psbBankFlow(){this.ngZone.run(()=>{if(this.createUpiIdForm.valid){if(("manageAccounts"==this.prevPageUrl||"upiDashboard"==this.prevPageUrl)&&""==this.createUpiService.paymentAddress)return void(this.emptyUpiId=!0);if("manageAccounts"!=this.prevPageUrl&&"upiDashboard"!=this.prevPageUrl&&""==this.createUpiIdForm.value.upiId)return void(this.emptyUpiId=!0);console.log("this.emptyUpiId",this.emptyUpiId),this.psbSelected=!0,this.linkAccountFlow?this.setBankName(this.psbBankDetails):this.UpiApiCall(this.constant.upiserviceName_VERIFYPAYMENTADDRESS)}else console.log("form is invalid"),console.log(this.createUpiIdForm),this.errorText="Please enter a valid UPI Id",this.showPopup("errorPopup")})}otherBankFlow(){this.ngZone.run(()=>{if(this.createUpiIdForm.valid){if("manageAccounts"==this.prevPageUrl||"upiDashboard"==this.prevPageUrl){if(""==this.createUpiService.paymentAddress)return void(this.emptyUpiId=!0)}else if(""==this.createUpiIdForm.value.upiId)return void(this.emptyUpiId=!0);this.psbSelected=!1,this.linkAccountFlow?this.showOtherBanksList():this.UpiApiCall(this.constant.upiserviceName_VERIFYPAYMENTADDRESS)}else console.log("form is invalid"),console.log(this.createUpiIdForm),this.errorText="Please enter a valid UPI Id",this.showPopup("errorPopup")})}showDebitCardFailedPopup(){this.closePopup("debitcard-info"),this.showPopup("debitCardFail")}proceedWithVpaCreation(){this.closePopup("debitCardFail"),this.UpiApiCall(this.linkAccountFlow?this.constant.upiserviceName_ADDACCOUNTTOVPA:this.constant.upiserviceName_ADDPAYMENTADDRESS)}onUpiIdChange(){this.selectAccountForm.reset(),this.debitCardForm.reset(),this.accountList=[],this.emptyUpiId=!1,this.upiIdAlreadyUsed=!1}getSpasswordElement(e,t){if("mpin"==t){if(e<=5)return this.mPinRows._results[e].nativeElement}else if("expdate"==t&&e<=4)return this.expDateRows._results[e].nativeElement}onKeyUpEvent(e,t){const c=t.which||t.keyCode;console.log("onKeyUpEvent"),console.log(e),console.log(t.which),console.log(t.keyCode),1===this.getSpasswordElement(e,"mpin").value.length&&5!==e&&this.getSpasswordElement(e+1,"mpin").focus(),12===c&&1!==e&&this.getSpasswordElement(e-1,"mpin").focus(),8!==c&&229!==c||"Unidentified"!=t.key&&(this.debitCardForm.get(this.formInput[e]).setValue(""),this.getSpasswordElement(e-1,"mpin").focus())}onFocusEvent(e){for(let t=1;t<e;t++){const e=this.getSpasswordElement(t,"mpin");if(!e.value){e.focus();break}}}keyUpEvent(e,t){const c=t.which||t.keyCode;console.log("keyupevent"),console.log(e),console.log(t.which),console.log(t.keyCode),1===this.getSpasswordElement(e,"expdate").value.length&&3!==e&&this.getSpasswordElement(e+1,"expdate").focus(),12===c&&1!==e&&this.getSpasswordElement(e-1,"expdate").focus(),8!==c&&229!==c||"Unidentified"!=t.key&&(this.debitCardForm.get(this.formInputExp[e]).setValue(""),this.getSpasswordElement(e-1,"expdate").focus())}focusEvent(e){for(let t=1;t<e;t++){const e=this.getSpasswordElement(t,"expdate");if(!e.value){e.focus();break}}}getMPINValue(){var e="";for(const t in this.debitCardForm.controls){const c=this.debitCardForm.get(t);c.hasError("required")||-1!=this.formInputExp.indexOf(t)||(e+=c.value)}return e}getExpDate(){var e="";for(const t in this.debitCardForm.controls){const c=this.debitCardForm.get(t);c.hasError("required")||-1!=this.formInput.indexOf(t)||(e+=c.value)}return e}}return e.\u0275fac=function(t){return new(t||e)(l.Yb(s.c),l.Yb(o.f),l.Yb(d.a),l.Yb(p.a),l.Yb(u.a),l.Yb(h.a),l.Yb(m.a),l.Yb(v.a),l.Yb(b.a),l.Yb(i.n),l.Yb(g.a),l.Yb(S.a),l.Yb(A.a),l.Yb(f.a),l.Yb(U.a),l.Yb(I.a),l.Yb(l.H),l.Yb(U.a))},e.\u0275cmp=l.Sb({type:e,selectors:[["app-create-upi"]],viewQuery:function(e,t){var c;1&e&&(l.Yc(T,!0),l.Yc(C,!0)),2&e&&(l.Dc(c=l.mc())&&(t.mPinRows=c),l.Dc(c=l.mc())&&(t.expDateRows=c))},decls:240,vars:106,consts:[[1,"main"],[1,"right-main-column","minus-rt-col"],[1,"right-col-container","cust-pb"],[1,"body-page-container"],[1,"container-fluid"],[1,"row"],[1,"bg-section"],[1,"col-12"],[1,"row1"],[1,"col-sm-12","col-12","col-md-12"],[1,"white-bg1"],["class","upiId",4,"ngIf"],["class","row1",4,"ngIf"],[1,"col-12","col-md-12"],[1,"grey-bg","mar-top"],["role","tablist",1,"tabs","info-list"],["role","presentation"],[1,"nav-link","p-0","active","account-details",3,"click"],[1,"round-circle"],["src","assets/images/svg/psb-icon.svg","alt","psb-icon"],[1,"text-center"],[1,"nav-link","p-0","recent-trans",3,"click"],["src","assets/images/svg/bank-icon.svg","alt","bank-icon"],[1,"col-12","col-md-12","p-0"],["class","panel entry-content tab-pane","id","bank",4,"ngIf"],["class","panel entry-content tab-pane","id","otherbank",4,"ngIf"],[1,"footer-container","sticky-actions"],[1,"footer-inactions","minus-rt-col"],[1,"col-12","col-md-12","col-lg-12","text-center"],[1,"powered-logo"],["src","assets/images/logo/powered-upi-logo.svg","alt","powered-upi-logo"],[1,"popup-bottom","selectAccountPopup"],[1,"col-10"],[1,"col-2"],[1,"ux-button-icon",3,"click"],["src","assets/images/svg/close-b.svg","alt","cross-icon",1,"img-vsmall"],[3,"formGroup"],[1,"row2"],[1,"col-12","p-0"],[1,"list2","mb-4"],[4,"ngFor","ngForOf"],[1,"col-12","text-center"],[1,"ux-button","primary",3,"disabled","click"],[1,"popup-bottom","debitcard-info"],[1,"ux-button-icon","close-btn",3,"click"],["id","debitcard-form",3,"formGroup"],[1,"ux-input"],["for",""],[1,"col-4","col-md-3","pl-0","pr-1"],["for","",1,"custom-text"],[1,"col-8","col-md-9","pl-1","pr-2"],[1,"row3"],["class","col-sm-2 col-2 col-md-2",4,"ngFor","ngForOf"],[1,"col-10","col-md-10"],[1,"col-sm-2","col-2","col-md-2","ml-1"],[1,"ux-input","expiry-input","mb-1"],["numbersOnly","","id","expiry1","type","tel","maxlength","1","placeholder","M","formControlName","expdate1",3,"keyup","focus"],["expiryDateRow",""],[1,"col-sm-2","col-2","col-md-2"],["numbersOnly","","id","expiry2","type","tel","maxlength","1","placeholder","M","formControlName","expdate2",3,"keyup","focus"],[1,"col-sm-1","col-1","col-md-1","pl-0","pr-0"],[1,"custom-text"],["numbersOnly","","id","expiry3","type","tel","maxlength","1","placeholder","Y","formControlName","expdate3",3,"keyup","focus"],["numbersOnly","","id","expiry4","type","tel","maxlength","1","placeholder","Y","formControlName","expdate4",3,"keyup","focus"],[1,"col-12","mt-2"],[1,"small-icons"],["src","assets/images/svg/question.svg","alt","question-icon"],[1,"orderlist2","mar-b"],[1,"ux-button","primary","debit-details",3,"disabled","click"],[1,"popup-bottom","debitCardFail"],["src","./assets/images/svg/information.svg","alt","information-icon"],[1,"row1","mt-2"],[1,"col-6","text-center"],[1,"ux-button","secondary","no","md","close-btn",3,"click"],[1,"ux-button","primary","md",3,"click"],[1,"popup-bottom","errorPopup"],[1,"row1","mt-3"],[1,"col-12","text-center",3,"click"],[1,"ux-button","primary","md"],[1,"popup-bottom","informationPopup"],[1,"ux-button","sm","mx-1","primary","text-center",3,"click"],[1,"popup-bottom","allowSetUpiPinPopup"],[1,"ux-button","secondary","text-center",3,"click"],[1,"ux-button","primary","text-center",3,"click"],[1,"popup-bottom","setDefaultVpaPopup"],[1,"upiId"],[1,"col-12","col-sm-12","col-md-12"],["for","upiId"],["type","text","name","upiId","placeholder","Enter UPI ID/Mobile Number","required","","formControlName","upiId","upidOnly","","limit-to","40",3,"change"],[1,"show-info2"],[1,"info-message"],[1,"vspacer5"],["class","error-message",4,"ngIf"],[1,"error-message"],["id","bank",1,"panel","entry-content","tab-pane"],[1,"unfound-info"],["src","assets/images/svg/bank-info.svg","alt","bank-icon"],["id","otherbank",1,"panel","entry-content","tab-pane"],["type","text","required","",3,"ngModel","placeholder","ngModelChange"],[1,"list2"],[1,"ux-selection","mar-4"],[1,"ux-selection2"],["type","radio","name","radioboxdemo1",3,"click"],[1,"checkmark"],[1,"ux-selection5"],["type","radio","name","account","formControlName","account",3,"value","checked","click"],[1,"ux-input","debit-number","p1","mb-1"],["numbersOnly","","type","tel","maxlength","1","placeholder","\u25cf","pattern","\\d*",3,"id","formControlName","keyup","focus"],["mPINformRow",""]],template:function(e,t){1&e&&(l.ec(0,"div",0),l.ec(1,"div",1),l.ec(2,"div",2),l.ec(3,"div",3),l.ec(4,"div",4),l.ec(5,"div",5),l.ec(6,"div",6),l.ec(7,"div",7),l.ec(8,"div",8),l.ec(9,"div",9),l.ec(10,"div",10),l.Rc(11,_,18,10,"div",11),l.Rc(12,F,7,4,"div",12),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(13,"div",13),l.ec(14,"div",14),l.ec(15,"div",8),l.ec(16,"div",9),l.ec(17,"div",5),l.ec(18,"h5"),l.Sc(19),l.qc(20,"translate"),l.dc(),l.dc(),l.dc(),l.ec(21,"div",9),l.ec(22,"ul",15),l.ec(23,"li",16),l.ec(24,"a",17),l.lc("click",(function(){return t.psbBankFlow()})),l.ec(25,"div",18),l.Zb(26,"img",19),l.dc(),l.ec(27,"div",20),l.ec(28,"em"),l.Sc(29),l.qc(30,"translate"),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(31,"li",16),l.ec(32,"a",21),l.lc("click",(function(){return t.otherBankFlow()})),l.ec(33,"div",18),l.Zb(34,"img",22),l.dc(),l.ec(35,"div",20),l.ec(36,"em"),l.Sc(37),l.qc(38,"translate"),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(39,"div",23),l.Rc(40,O,7,3,"div",24),l.Rc(41,M,9,9,"div",25),l.dc(),l.dc(),l.dc(),l.ec(42,"div",26),l.ec(43,"div",27),l.ec(44,"div",4),l.ec(45,"div",5),l.ec(46,"div",28),l.ec(47,"div",29),l.Zb(48,"img",30),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(49,"div",31),l.ec(50,"div",8),l.ec(51,"div",32),l.ec(52,"h4"),l.Sc(53),l.qc(54,"translate"),l.dc(),l.dc(),l.ec(55,"div",33),l.ec(56,"button",34),l.lc("click",(function(){return t.closePopup("selectAccountPopup")})),l.Zb(57,"img",35),l.dc(),l.dc(),l.dc(),l.ec(58,"form",36),l.ec(59,"div",37),l.ec(60,"div",38),l.ec(61,"ul",39),l.Rc(62,x,12,6,"li",40),l.dc(),l.dc(),l.dc(),l.ec(63,"div",5),l.ec(64,"div",41),l.ec(65,"button",42),l.lc("click",(function(){return t.closePopup("selectAccountPopup")})),l.Sc(66),l.qc(67,"translate"),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(68,"div",43),l.ec(69,"div",8),l.ec(70,"div",32),l.ec(71,"h4"),l.Sc(72),l.qc(73,"translate"),l.dc(),l.dc(),l.ec(74,"div",33),l.ec(75,"button",44),l.lc("click",(function(){return t.showDebitCardFailedPopup()})),l.Zb(76,"img",35),l.dc(),l.dc(),l.dc(),l.ec(77,"form",45),l.ec(78,"div",8),l.ec(79,"div",7),l.ec(80,"div",46),l.ec(81,"label",47),l.Sc(82),l.qc(83,"translate"),l.dc(),l.ec(84,"div",5),l.ec(85,"div",48),l.ec(86,"div",46),l.ec(87,"label",49),l.Sc(88,"XXXX XXXX XX"),l.dc(),l.dc(),l.dc(),l.ec(89,"div",50),l.ec(90,"div",51),l.Rc(91,B,4,2,"div",52),l.qc(92,"slice"),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(93,"div",7),l.ec(94,"div",46),l.ec(95,"label"),l.Sc(96),l.qc(97,"translate"),l.dc(),l.dc(),l.dc(),l.ec(98,"div",53),l.ec(99,"div",51),l.ec(100,"div",54),l.ec(101,"div",55),l.ec(102,"input",56,57),l.lc("keyup",(function(e){return t.keyUpEvent(0,e)}))("focus",(function(){return t.focusEvent(0)})),l.dc(),l.dc(),l.dc(),l.ec(104,"div",58),l.ec(105,"div",55),l.ec(106,"input",59,57),l.lc("keyup",(function(e){return t.keyUpEvent(1,e)}))("focus",(function(){return t.focusEvent(1)})),l.dc(),l.dc(),l.dc(),l.ec(108,"div",60),l.ec(109,"p",61),l.Sc(110,"/"),l.dc(),l.dc(),l.ec(111,"div",58),l.ec(112,"div",55),l.ec(113,"input",62,57),l.lc("keyup",(function(e){return t.keyUpEvent(2,e)}))("focus",(function(){return t.focusEvent(2)})),l.dc(),l.dc(),l.dc(),l.ec(115,"div",58),l.ec(116,"div",55),l.ec(117,"input",63,57),l.lc("keyup",(function(e){return t.keyUpEvent(3,e)}))("focus",(function(){return t.focusEvent(3)})),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(119,"div",64),l.ec(120,"span",65),l.Zb(121,"img",66),l.dc(),l.ec(122,"ol",67),l.ec(123,"li"),l.Sc(124),l.qc(125,"translate"),l.dc(),l.ec(126,"li"),l.Sc(127),l.qc(128,"translate"),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(129,"div",5),l.ec(130,"div",41),l.ec(131,"button",68),l.lc("click",(function(){return t.callAPIAndNpci()})),l.Sc(132),l.qc(133,"translate"),l.dc(),l.dc(),l.ec(134,"div",28),l.ec(135,"div",29),l.Zb(136,"img",30),l.dc(),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(137,"div",69),l.ec(138,"div",8),l.ec(139,"div",7),l.ec(140,"h4",20),l.Zb(141,"img",70),l.Sc(142),l.qc(143,"translate"),l.dc(),l.dc(),l.dc(),l.ec(144,"div",8),l.ec(145,"div",41),l.Sc(146),l.qc(147,"translate"),l.dc(),l.dc(),l.ec(148,"div",71),l.ec(149,"div",72),l.ec(150,"button",73),l.lc("click",(function(){return t.closePopup("debitCardFail")})),l.Sc(151),l.qc(152,"translate"),l.dc(),l.dc(),l.ec(153,"div",72),l.ec(154,"button",74),l.lc("click",(function(){return t.proceedWithVpaCreation()})),l.Sc(155),l.qc(156,"translate"),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(157,"div",75),l.ec(158,"div",8),l.ec(159,"div",32),l.ec(160,"h4"),l.Sc(161),l.qc(162,"translate"),l.dc(),l.dc(),l.ec(163,"div",33),l.ec(164,"button",34),l.lc("click",(function(){return t.closePopup("errorPopup")})),l.Zb(165,"img",35),l.dc(),l.dc(),l.dc(),l.ec(166,"div",8),l.ec(167,"div",7),l.Sc(168),l.dc(),l.dc(),l.ec(169,"div",76),l.ec(170,"div",77),l.lc("click",(function(){return t.closePopup("errorPopup")})),l.ec(171,"button",78),l.Sc(172),l.qc(173,"translate"),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(174,"div",79),l.ec(175,"div",5),l.ec(176,"div",7),l.ec(177,"h4",20),l.Sc(178),l.qc(179,"translate"),l.dc(),l.dc(),l.dc(),l.ec(180,"div",5),l.ec(181,"div",7),l.ec(182,"p"),l.Sc(183),l.qc(184,"translate"),l.dc(),l.ec(185,"p"),l.Sc(186),l.qc(187,"translate"),l.dc(),l.dc(),l.dc(),l.ec(188,"div",5),l.ec(189,"div",41),l.ec(190,"button",80),l.lc("click",(function(){return t.closePopup("informationPopup")})),l.Sc(191),l.qc(192,"translate"),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(193,"div",81),l.ec(194,"div",8),l.ec(195,"div",32),l.ec(196,"h4"),l.Sc(197),l.qc(198,"translate"),l.dc(),l.dc(),l.ec(199,"div",33),l.ec(200,"button",34),l.lc("click",(function(){return t.closePopup("allowSetUpiPinPopup")})),l.Zb(201,"img",35),l.dc(),l.dc(),l.dc(),l.ec(202,"div",5),l.ec(203,"div",7),l.ec(204,"p"),l.Sc(205),l.qc(206,"translate"),l.dc(),l.dc(),l.dc(),l.ec(207,"div",5),l.ec(208,"div",72),l.ec(209,"button",82),l.lc("click",(function(){return t.proceedWithoutPIN()})),l.Sc(210),l.qc(211,"translate"),l.dc(),l.dc(),l.ec(212,"div",72),l.ec(213,"button",83),l.lc("click",(function(){return t.proceedWithPIN()})),l.Sc(214),l.qc(215,"translate"),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(216,"div",84),l.ec(217,"div",8),l.ec(218,"div",32),l.ec(219,"h4"),l.Sc(220),l.qc(221,"translate"),l.dc(),l.dc(),l.ec(222,"div",33),l.ec(223,"button",34),l.lc("click",(function(){return t.closePopup("setDefaultVpaPopup")})),l.Zb(224,"img",35),l.dc(),l.dc(),l.dc(),l.ec(225,"div",5),l.ec(226,"div",7),l.ec(227,"p"),l.Sc(228),l.qc(229,"translate"),l.qc(230,"translate"),l.dc(),l.dc(),l.dc(),l.ec(231,"div",5),l.ec(232,"div",72),l.ec(233,"button",82),l.lc("click",(function(){return t.setDefaultVpa(!1)})),l.Sc(234),l.qc(235,"translate"),l.dc(),l.dc(),l.ec(236,"div",72),l.ec(237,"button",83),l.lc("click",(function(){return t.setDefaultVpa(!0)})),l.Sc(238),l.qc(239,"translate"),l.dc(),l.dc(),l.dc(),l.dc()),2&e&&(l.Mb(11),l.uc("ngIf",!t.linkAccountFlow),l.Mb(1),l.uc("ngIf",t.linkAccountFlow),l.Mb(7),l.Uc(" ",l.rc(20,42,"LINK_BANK_ACCOUNT")," "),l.Mb(10),l.Uc(" ",l.rc(30,44,"PUNJAB_SIND_BANK")," "),l.Mb(8),l.Uc(" ",l.rc(38,46,"OTHER_BANK")," "),l.Mb(3),l.uc("ngIf",!t.isBankAccountAvailable),l.Mb(1),l.uc("ngIf",t.showOtherBankList),l.Mb(12),l.Uc(" ",l.rc(54,48,"SELECT_ACCOUNT")," "),l.Mb(5),l.uc("formGroup",t.selectAccountForm),l.Mb(4),l.uc("ngForOf",t.accountList),l.Mb(3),l.uc("disabled",t.disableSelectAccountSubmitButton),l.Mb(1),l.Uc(" ",l.rc(67,50,"PROCEED")," "),l.Mb(6),l.Uc(" ",l.rc(73,52,"DEBIT_CARD_DETAILS")," "),l.Mb(5),l.uc("formGroup",t.debitCardForm),l.Mb(5),l.Uc(" ",l.rc(83,54,"ENTER_LAST_6_DIGITS_DEBIT_CARD")," "),l.Mb(9),l.uc("ngForOf",l.tc(92,56,t.formInput,0,6)),l.Mb(5),l.Uc(" ",l.rc(97,60,"EXPIRY_DATE_DEBIT_CARD")," "),l.Mb(28),l.Uc(" ",l.rc(125,62,"UPI_PIN_DESC_1")," "),l.Mb(3),l.Uc(" ",l.rc(128,64,"UPI_PIN_DESC_2")," "),l.Mb(4),l.uc("disabled",t.debitCardForm.invalid),l.Mb(1),l.Uc(" ",l.rc(133,66,"PROCEED")," "),l.Mb(10),l.Uc(" ",l.rc(143,68,"INFORMATION")," "),l.Mb(4),l.Uc(" ",l.rc(147,70,"DO_YOU_WANT_TO_PROCEED_WITHOUT_UPI_PIN")," "),l.Mb(5),l.Tc(l.rc(152,72,"NO")),l.Mb(4),l.Tc(l.rc(156,74,"YES")),l.Mb(6),l.Uc(" ",l.rc(162,76,"ERROR")," "),l.Mb(7),l.Uc(" ",t.errorText," "),l.Mb(4),l.Tc(l.rc(173,78,"OK")),l.Mb(6),l.Uc(" ",l.rc(179,80,"INFORMATION")," "),l.Mb(5),l.Uc(" ",l.rc(184,82,"UPI_INFO_DESC_1")," "),l.Mb(3),l.Uc(" ",l.rc(187,84,"UPI_INFO_DESC_2")," "),l.Mb(5),l.Uc(" ",l.rc(192,86,"OK")," "),l.Mb(6),l.Uc(" ",l.rc(198,88,"Set_UPI_PIN")," "),l.Mb(8),l.Uc(" ",l.rc(206,90,"SET_UPI_PIN_MSG")," "),l.Mb(5),l.Uc(" ",l.rc(211,92,"NO")," "),l.Mb(4),l.Uc(" ",l.rc(215,94,"YES")," "),l.Mb(6),l.Uc(" ",l.rc(221,96,"SET_DEFAULT_VPA")," "),l.Mb(8),l.Wc("",l.rc(229,98,"SET_DEFAULT_VPA_MSG_1")," ",t.paymentAddress," ",l.rc(230,100,"SET_DEFAULT_VPA_MSG_2")," "),l.Mb(6),l.Uc(" ",l.rc(235,102,"NO")," "),l.Mb(4),l.Uc(" ",l.rc(239,104,"YES")," "))},directives:[i.t,o.I,o.t,o.k,i.s,o.c,P.d,o.n,o.s,o.i,o.D,E.f,k.a,o.v,o.A,o.z],pipes:[p.a,i.E,D.a],styles:[".upiform[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .upiform[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .upiform[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:5px 50px 5px 8px}.psbmark[_ngcontent-%COMP%]{position:absolute;right:10px;top:38px;font-weight:700;text-transform:lowercase}"]}),e})()}];let q=(()=>{class e{}return e.\u0275mod=l.Wb({type:e}),e.\u0275inj=l.Vb({factory:function(t){return new(t||e)},imports:[[s.g.forChild(Y)],s.g]}),e})();var G=c("AvjH"),V=c("PCNd");let K=(()=>{class e{}return e.\u0275mod=l.Wb({type:e}),e.\u0275inj=l.Vb({factory:function(t){return new(t||e)},imports:[[i.c,q,o.m,o.C,G.a,V.a]]}),e})()},OXpz:function(e,t,c){"use strict";c.d(t,"d",(function(){return o})),c.d(t,"b",(function(){return a})),c.d(t,"a",(function(){return n})),c.d(t,"c",(function(){return r}));var i=c("fXoL"),s=c("3Pt+");let o=(()=>{class e{constructor(e){this.control=e,this.specialKeys=["Backspace","Tab"]}ngOnChanges(e){if(-1===this.specialKeys.indexOf(e.key)&&!/^[0-9]*$/.test(this.control.value)){let e=this.control.value.replace(/[^0-9]/g,"");this.control.control.setValue(e)}}}return e.\u0275fac=function(t){return new(t||e)(i.Yb(s.r))},e.\u0275dir=i.Tb({type:e,selectors:[["","numbersOnly",""]],hostBindings:function(e,t){1&e&&i.lc("input",(function(e){return t.ngOnChanges(e)}))},features:[i.Kb]}),e})(),a=(()=>{class e{constructor(e){this.control=e,this.specialKeys=["Backspace","Tab"]}ngOnChanges(e){if(-1===this.specialKeys.indexOf(e.key)&&this.control.value){let e=this.control.value.replace(/[^.0-9]+/g,"");this.control.control.setValue(e)}}}return e.\u0275fac=function(t){return new(t||e)(i.Yb(s.r))},e.\u0275dir=i.Tb({type:e,selectors:[["","digitOnly",""]],hostBindings:function(e,t){1&e&&i.lc("input",(function(e){return t.ngOnChanges(e)}))},features:[i.Kb]}),e})(),n=(()=>{class e{constructor(e){this.el=e,this.regex=new RegExp(/^\d*\.?\d{0,2}$/g),this.specialKeys=["Backspace","Tab","End","Home","-","ArrowLeft","ArrowRight","Del","Delete"]}onKeyDown(e){if(console.log(this.el.nativeElement.value),-1!==this.specialKeys.indexOf(e.key))return;let t=this.el.nativeElement.value;const c=this.el.nativeElement.selectionStart,i=[t.slice(0,c),"Decimal"==e.key?".":e.key,t.slice(c)].join("");i&&!String(i).match(this.regex)&&e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(i.Yb(i.o))},e.\u0275dir=i.Tb({type:e,selectors:[["","amountOnly",""]],hostBindings:function(e,t){1&e&&i.lc("keydown",(function(e){return t.onKeyDown(e)}))}}),e})(),r=(()=>{class e{constructor(e){this._el=e}onInputChange(e){const t=this._el.nativeElement.value;this._el.nativeElement.value=t.replace(/[^0-9]*/g,""),t!==this._el.nativeElement.value&&e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(i.Yb(i.o))},e.\u0275dir=i.Tb({type:e,selectors:[["input","numericOnly",""]],hostBindings:function(e,t){1&e&&i.lc("input",(function(e){return t.onInputChange(e)}))}}),e})()},TaOT:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var i=c("fXoL"),s=c("fUdP");let o=(()=>{class e{constructor(e){this.customCurrencyPipe=e}markFormGroupTouched(e){Object.values(e.controls).forEach(e=>{e.markAsTouched(),e.controls&&e.controls.forEach(e=>this.markFormGroupTouched(e))})}markFormGroupUntouched(e){Object.values(e.controls).forEach(e=>{e.markAsUntouched(),e.controls&&e.controls.forEach(e=>this.markFormGroupUntouched(e))})}validationMessages(){return{required:"* This field is required",email:"* This email address is invalid",minlength:"* Length is too short",maxlength:"* Length is too long",invalid_characters:e=>{let t=e;return t=t.reduce((e,c,i)=>{let s=e;return s+=c,t.length!==i+1&&(s+=", "),s},""),"These characters are not allowed: "+t}}}validateForm(e,t,c){const i=e;for(const s in t)if(s){t[s]="";const e=i.get(s),o=this.validationMessages();if(e&&!e.valid&&(!c||e.dirty||e.touched))for(const c in e.errors)console.log("======>inside",c),t[s]=c&&"invalid_characters"!==c?t[s]||o[c]:t[s]||o[c](e.errors[c])}return t}formatCurrency(e,t,c){if("0"!=e)if(""!=e){let c=this.customCurrencyPipe.transform(e.trim(),"decimal");" 0.00"==c.trim().replace(/[^.0-9]+/g,"")?t.contains("amount")&&t.get("amount").reset():"0"==c.trim().replace(/[^.0-9]+/g,"")?t.get("amount").reset():(console.log(c),t.patchValue({amount:c}))}else t.get("amount").reset("");else t.contains("amount")&&t.get("amount").reset()}formatTransLimit(e,t){if("0"!=e)if(""!=e){let c=this.customCurrencyPipe.transform(e.trim(),"decimal");" 0.00"==c?t.contains("transactionLimit")&&t.get("transactionLimit").reset():"0"==c.trim()?t.get("transactionLimit").reset():(console.log(c),t.patchValue({transactionLimit:c}))}else t.get("transactionLimit").reset("");else t.contains("transactionLimit")&&t.get("transactionLimit").reset()}formatDynamicCurrency(e,t){$("#"+e).val()&&"\u20b9 0.00"!=$("#"+e).val()?t.patchValue({amount:$("#"+e).val()}):t.get("amount").reset("")}deFormatValue(e,t){t.patchValue({amount:e.replace(/[^0-9.]+/g,"")})}formatAmtCurrency(e,t,c){if("0"!=e)if(""!=e){let i=this.customCurrencyPipe.transform(e.trim(),"decimal");" 0.00"==i?t.contains(c)&&t.get(c).reset():"0"==i.trim()?t.get(c).reset():t.controls[c].patchValue("\u20b9"+i)}else t.get(c).reset("");else t.contains(c)&&t.get(c).reset()}}return e.\u0275fac=function(t){return new(t||e)(i.ic(s.a))},e.\u0275prov=i.Ub({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);