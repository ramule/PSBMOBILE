<div class="main bg-m">
	<!-- .right-main-column-->
	<div class="right-main-column ">
		<div class="right-col-container pad-b full-width">
			<!-- ======== body page content start from here ======== -->
			<div class="body-page-container main-dashborad manage-payee">
				<div class="container-fluid">
					<div class="row">
						<div class="col-12 p-0">
							<div class="breadcrumb" >
								<ul class="lst-breadcrumb">
									<!-- <li> <a >My Accounts</a> </li>
									<li > <a>Operative Accounts</a> </li>
									<li> <a>Link Account</a> </li> -->
									<li *ngFor="let name of dataService.breadcrumblist">
                                        <a (click)="dataService.breadcrumroute(name.routeName)">{{name.currentRoute | translate}}</a>
                                    </li>
								</ul>
							</div>
							<!-- <div class="breadcrumb">
								<ul class="lst-breadcrumb">
                                    <li > <a (click)="goToPage('dashboard')">Dashboard</a> </li>
									<li > <a>Link Account</a> </li>

								</ul>
							</div> -->
						</div>
					</div>
					<!--.row -->
					<div class="vspacer15 customize d-none d-md-block d-lg-block d-xl-block"></div>
					<div class="row no-gutters">
						<div class="col-12">
							<div class="row1">
								<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-9">
									<!-- Greencard2 Start here -->
									<div class="greencard2">
										<div class="row1 hide-m">
											<div class="col-12">
												<h4> {{"LINK_ACCOUNT" | translate}} </h4> </div>
										</div>
										<div class="no-accounts text-center statement-table widget-box5	 mb-0 py-5" *ngIf="dataAvailable"> <img src="assets/images/svg/no-rec-found.svg" class="mb-3">
											<h5 class="mb-5"> {{"NO_ACCOUNT_AVAILABLE_TO_LINK" | translate}} </h5>
											<!-- <button class="ux-button primary submit-btn " (click)="goToPage('/accountOpening')">Open a new account</button> -->
										</div>
										<form [formGroup]="linkAccountForm">
											<div class="row1" *ngIf="linkDelinkList.length != 0">
												<div class="col-sm-12 col-12 col-md-12">
													<div class="widget-box5 mb-3">
														<div class="bg-white1 pad-custom2">
															<ul class="radio-list mt-0 mb-0">
																<li *ngFor="let item of linkDelinkList; let i=index">
																	<!-- *ngIf="item.MobileNo != '' && item.LinkDelingFLG != 'L'" -->
																	<div class="ux-selection us-section-new w-100 ">
																		<label class="ux-selection6  pad-custom1 mb-0">
																			<input type="radio" [value]="item.accountNo" [checked]="false" formControlName="radioboxdemo" (click)="radioBoxClicked(item)"> <span class="checkmark"></span> <span> <img src="assets/images/icons/psb-icon.png" alt="psb-icon"></span> <span class="fs-1"> {{"PUNJAB_SIND_BANK" | translate}} </span>
																			<br/> <span class="fs-2">{{item.sbAccount}}</span>
																			<br/>
																			<br/> <span *ngIf="item.MobileNo != storageMobileNo">{{'THIS_ACCOUNT_REGISTED_WITH_DIFFERENT' | translate}} ******{{item.MobileNo.slice(item.MobileNo.length - 4)}}</span> <span *ngIf="item.MobileNo == storageMobileNo">{{'THIS_ACCOUNT_REGISTED_WITH_EXISTING' | translate}} ******{{item.MobileNo.slice(item.MobileNo.length - 4)}}</span> </label>
																	</div>
																</li>
																<li class="bor-n">
																	<div class="ux-input">
																		<p class="error-message" *ngIf="linkAccountForm.controls['radioboxdemo'].hasError('required') && (linkAccountForm.controls['radioboxdemo'].dirty || linkAccountForm.controls['radioboxdemo'].touched)"> {{"REQUIRED_MSG" | translate}} </p>
																	</div>
																</li>
																<li>
																	<div class="row">
																		<div class="ux-selection mt-3">
																			<label class="ux-selection1">{{"I_ACCEPT" | translate}} <a href="javascript:void(0)" (click)="openPopUp()">{{"TERMS_CONDITIONS" | translate}}</a>
																				<input type="checkbox" name="radioboxdemo1" formControlName="radioboxdemo1" required> <span class="checkmark"></span> </label>
																		</div>
																	</div>
																	<div class="row">
																		<div class="ux-input">
																			<p class="error-message" *ngIf="linkAccountForm.controls['radioboxdemo1'].hasError('required') && (linkAccountForm.controls['radioboxdemo1'].dirty || linkAccountForm.controls['radioboxdemo1'].touched)"> {{"REQUIRED_MSG" | translate}} </p>
																		</div>
																	</div>
																</li>
															</ul>
														</div>
													</div>
												</div>
												<div class="col-12 col-md-12" [ngClass]="{'mt-5': linkDelinkList.length < 2 }">
													<ul class="bottom-footer1">
														<li>
															<div class="btn-div">
																<button class="ux-button secondary sm-mob" type="button" (click)="gotoDashboard()"> {{"CANCEL" | translate}} </button>
															</div>
															<div class="btn-div">
																<!-- <button class="ux-button primary sm-mob" onclick="window.location.href='#'" data-toggle="modal" data-target="#subitConfirmationModal">Submit</button>  -->
																<button class="confirm-btn1 ux-button primary sm-mob"  type="submit" (click)="submit(linkAccountForm.value)"> {{"SUBMIT" | translate}} </button>
															</div>
														</li>
													</ul>
												</div>
											</div>
										</form>
									</div>
									<!-- Greencard2 End here -->
								</div>
								<!-- Right Column Ads Start -->
								<div class="col-12 col-md-12 col-lg-12 col-xl-3 d-none d-xl-block">
									<div class="right-ads">
										<a> <img src="assets/images/banner/my-card-banner.jpg"> </a>
									</div>
									<div class="vspacer30"></div>
									<!-- Offercard Start-->
									<!-- <div class="offers-card">
										<div class="header-block clearfix">
											<h5> {{ 'OFFERS_ON_CARD' | translate }} </h5> </div>
										<div class="panel-body">
											<div class="recentpayment-control">
												<ul>
													<li> <img src="assets/images/banner/offer-banner.png"> </li>
												</ul>
											</div>
										</div>
									</div> -->
									<!-- Offercard Ends-->
								</div>
								<!-- Right Column Ads Ends -->
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--.right-col-container-->
	</div>
	<!--.right-main-column-->
</div>
<!-- main -->
<!-- Confirmation Popup Start -->
<div class="popup-bottom sm-popup confirmation1 confirmationbox-setting">
	<div class="row1">
		<div class="col-12">
			<h4 class="text-center"> {{"CONFIRMATION" | translate}}</h4> </div>
	</div>
	<div class="row1">
		<div class="col-12">
			<p> Linking this account with new mobile number will replace your existing Mobile number </p>
		</div>
	</div>
	<div class="row1 mt-2 ">
		<div class="col-6 text-center">
			<button class="ux-button secondary" (click)="cancel()">{{"CANCEL" | translate}}</button>
		</div>
		<div class="col-6 text-center">
			<!-- <button class="ux-button primary md" onclick="window.location.href = 'freeze-account-authorization.html'">Proceed</button> -->
			<button class="authantication-btn2 ux-button primary sm-mob" (click)="proceed()">{{'PROCEED' | translate}}</button>
		</div>
	</div>
</div>
<!-- Confirmation Popup End -->
<!-- opt-verification Modal Starts-->
<div class="popup-bottom sm-popup opt-verification">
	<form [formGroup]="otpSessionForm">
		<div class="row1">
			<div class="col-12">
				<h4 class="text-center"> {{"OTP_REGISTER_NO" | translate}} </h4> </div>
		</div>
		<div class="row1">
			<div class="modal-body">
				<div class="row1">
					<div class="col-12">
						<div class="text-center"> <img src="assets/images/icons/mobile.svg" alt="mobile-icon"> </div>
						<p> {{"ENTER_SIX_DIGIT_OTP" | translate}} ******{{storageMobileNo.slice(storageMobileNo.length - 4)}}</p>
						<div class="text-center">
							<h6> {{"MOBILE_OTP" | translate}}</h6>
							<div class="col-12">
								<div class="row1">
									<div class="col-12 pl-2 pr-2">
										<div class="row3">
											<div class="col-sm-2 col-2 col-md-2">
												<div class="ux-input password1 mb-1">
													<input id="otppassword1" type="tel" #mOtpRow maxlength="1" placeholder="●" (keyup)="onKeyupEvent(0, $event, 'mobileOtp')" (focus)="onfocusEvent(0, 'mobileOtp')" formControlName="otppassword1"> </div>
											</div>
											<div class="col-sm-2 col-2 col-md-2">
												<div class="ux-input password1 mb-1">
													<input id="otppassword2" type="tel" #mOtpRow maxlength="1" placeholder="●" (keyup)="onKeyupEvent(1, $event, 'mobileOtp')" (focus)="onfocusEvent(1, 'mobileOtp')" formControlName="otppassword2"> </div>
											</div>
											<div class="col-sm-2 col-2 col-md-2">
												<div class="ux-input password1 mb-1">
													<input id="otppassword3" type="tel" #mOtpRow maxlength="1" placeholder="●" (keyup)="onKeyupEvent(2, $event, 'mobileOtp')" (focus)="onfocusEvent(2, 'mobileOtp')" formControlName="otppassword3"> </div>
											</div>
											<div class="col-sm-2 col-2 col-md-2">
												<div class="ux-input password1 mb-1">
													<input id="otppassword4" type="tel" #mOtpRow maxlength="1" placeholder="●" (keyup)="onKeyupEvent(3, $event, 'mobileOtp')" (focus)="onfocusEvent(3, 'mobileOtp')" formControlName="otppassword4"> </div>
											</div>
											<div class="col-sm-2 col-2 col-md-2">
												<div class="ux-input password1  mb-1">
													<input id="otppassword5" type="tel" #mOtpRow maxlength="1" placeholder="●" (keyup)="onKeyupEvent(4, $event, 'mobileOtp')" (focus)="onfocusEvent(4, 'mobileOtp')" formControlName="otppassword5"> </div>
											</div>
											<div class="col-sm-2 col-2 col-md-2">
												<div class="ux-input password1 mb-1">
													<input id="otppassword6" type="tel" #mOtpRow maxlength="1" placeholder="●" (keyup)="onKeyupEvent(5, $event, 'mobileOtp')" (focus)="onfocusEvent(5, 'mobileOtp')" formControlName="otppassword6"> </div>
											</div>
										</div>
										<div class="row1">
											<div class="col-12">
												<div class="ux-input password1 mt-0 mb-0">
													<p class="error-message pt-1">{{invaildotp}}</p>
												</div>
											</div>
										</div>
										<!-- <div class="row3">
                                     <div class="col-6 col-md-6">
                                             <p class="text-left pt-1"> -->
										<!-- {​​​​​​​​{​​​​​​​​ counter | formatTimer }​​​​​​​​} -->
										<!-- <span class=" settimer">00:20</span>
                                             </p> -->
										<!-- </div>
                                     <div class="col-6 col-md-6">
                                         <div class="text-right">
                                            <button class="ux-linkbutton default-underline mt3" (click)="resendOTP()">Resend</button>
                                         </div>
                                     </div>
                                  </div> --></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- modal-body -->
		</div>
		<div class="row1" *ngIf="linkDelinkItem?.MobileNo != storageMobileNo">
			<div class="modal-body">
				<div class="row1">
					<div class="col-12">
						<!-- <div class="text-center">
                            <img src="assets/images/icons/mobile.svg" alt="mobile-icon">
                        </div> -->
						<p *ngIf="linkDelinkItem?.MobileNo != ''">Please enter 6 digit OTP sent on Existing Mobile Number ending with ******{{linkDelinkItem?.MobileNo.slice(linkDelinkItem?.MobileNo.length - 4)}}</p>
						<div class="text-center">
							<h6>Mobile OTP</h6>
							<div class="col-12">
								<div class="row1">
									<div class="col-12 pl-2 pr-2">
										<div class="row3">
											<div class="col-sm-2 col-2 col-md-2">
												<div class="ux-input password1 mb-1">
													<input id="newotppassword1" type="password" #mNewOtpRow maxlength="1" placeholder="●" (keyup)="onKeyupEvent(0, $event, 'mobileNewOtp')" (focus)="onfocusEvent(0, 'mobileNewOtp')" formControlName="newotppassword1"> </div>
											</div>
											<div class="col-sm-2 col-2 col-md-2">
												<div class="ux-input password1 mb-1">
													<input id="newotppassword2" type="password" #mNewOtpRow maxlength="1" placeholder="●" (keyup)="onKeyupEvent(1, $event, 'mobileNewOtp')" (focus)="onfocusEvent(1, 'mobileNewOtp')" formControlName="newotppassword2"> </div>
											</div>
											<div class="col-sm-2 col-2 col-md-2">
												<div class="ux-input password1 mb-1">
													<input id="newotppassword3" type="password" #mNewOtpRow maxlength="1" placeholder="●" (keyup)="onKeyupEvent(2, $event, 'mobileNewOtp')" (focus)="onfocusEvent(2, 'mobileNewOtp')" formControlName="newotppassword3"> </div>
											</div>
											<div class="col-sm-2 col-2 col-md-2">
												<div class="ux-input password1 mb-1">
													<input id="newotppassword4" type="password" #mNewOtpRow maxlength="1" placeholder="●" (keyup)="onKeyupEvent(3, $event, 'mobileNewOtp')" (focus)="onfocusEvent(3, 'mobileNewOtp')" formControlName="newotppassword4"> </div>
											</div>
											<div class="col-sm-2 col-2 col-md-2">
												<div class="ux-input password1  mb-1">
													<input id="newotppassword5" type="password" #mNewOtpRow maxlength="1" placeholder="●" (keyup)="onKeyupEvent(4, $event, 'mobileNewOtp')" (focus)="onfocusEvent(4, 'mobileNewOtp')" formControlName="newotppassword5"> </div>
											</div>
											<div class="col-sm-2 col-2 col-md-2">
												<div class="ux-input password1 mb-1">
													<input id="newotppassword6" type="password" #mNewOtpRow maxlength="1" placeholder="●" (keyup)="onKeyupEvent(5, $event, 'mobileOtp')" (focus)="onfocusEvent(5, 'mobileOtp')" formControlName="newotppassword6"> </div>
											</div>
										</div>
										<div class="row1">
											<div class="col-12">
												<div class="ux-input password1 mt-0 mb-0">
													<p class="error-message pt-1">{{invaildotp}}</p>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- modal-body -->
		</div>
		<div class="row3">
			<div class="col-6 col-md-6">
				<p class="text-left pt-1">
					<!-- {​​​​​​​​{​​​​​​​​ counter | formatTimer }​​​​​​​​} --><span class=" settimer" *ngIf="counter > 0">{{counter| formatTimer }}</span> </p>
			</div>
			<div class="col-6 col-md-6">
				<div class="text-right">
					<button class="ux-linkbutton default-underline mt3" (click)="resendOTP()" [ngClass]="counter > 0 ? 'rsnd-lnk mydisabled' : 'rsnd-lnk resendActive'">{{ 'RESEND' | translate }}</button>
				</div>
			</div>
		</div>
		<div class="row1 mt-2">
			<div class="col-6 text-center">
				<button class="ux-button secondary no md close-btn" (click)="cancel()"> {{"CANCEL" | translate}}</button>
			</div>
			<div class="col-6 text-center">
				<!-- <button class="ux-button primary md" onclick="window.location.href = 'freeze-account-authorization.html'">Proceed</button> -->
				<button class="submit-btn2 ux-button primary md-mob otp-verify-submit" (click)="submitOTP()"> {{"SUBMIT" | translate}}</button>
			</div>
		</div>
	</form>
</div>
<!-- opt-verification Modal Starts-->
<!-- success Popup Start -->
<div class="popup-bottom sm-popup success-acct-link">
	<div class="row1">
		<div class="col-12">
			<h4 class="text-center"> <img src="assets/images/svg/success-circle.svg" alt="success-icon" > {{"SUCCESS" | translate}}</h4> </div>
	</div>
	<div class="row1">
		<div class="col-12">
			<p>   {{"YOUR_ACCOUNT_LINKED_SUCCESSFULLY" | translate}}</p>
		</div>
	</div>
	<div class="row1 mt-2">
		<div class="col-6 text-center">
			<!-- (click)="cancel()" -->
			<button class="ux-button secondary no md close-btn" (click)="cancel()">{{"CANCEL" | translate}}</button>
		</div>
		<div class="col-6 text-center">
			<button class="ux-button primary md" (click)="goToPage('linkAccount')">{{"OK" | translate}}</button>
		</div>
	</div>
</div>
<div class="popup-bottom sm-popup show-no-record">
	<div class="row1">
		<div class="col-12">
			<h4 class="text-center"> <img src="./assets/images/svg/information.svg" alt="information-icon">{{'INFORMATION' | translate}} </h4> </div>
	</div>
	<div class="row1">
		<div class="col-12">
			<p> {{"NO_RECORD_FOUND" | translate}} </p>
		</div>
	</div>
	<div class="row1  mt-2">
		<div class="col-12 text-center" (click)="closePopup('div.popup-bottom.show-no-record')">
			<button class="ux-button primary submit-btn" type="button">OK</button>
		</div>
	</div>
</div>
<!-- success Popup End -->

<div class="popup-bottom sm-popup link-primary-account">
	<div class="row1">
		<div class="col-12">
			<h4 class="text-center"> <img src="./assets/images/svg/information.svg" alt="information-icon">{{'INFORMATION' | translate}} </h4> </div>
	</div>
	<div class="row1">
		<div class="col-12">
			<p> {{"PRIMARY_ACC_UPDATION_FLAG" | translate}} </p>
		</div>
	</div>
	<div class="row1  mt-2">
		<div class="col-12 text-center" (click)="closePopup('div.popup-bottom.link-primary-account')">
			<button class="ux-button primary submit-btn" type="button">OK</button>
		</div>
	</div>
</div>


<!-- Terms & Condition Start -->
<div class="popup-bottom sm-popup terms-condition">
	<div class="row1">
		<div class="col-12">
			<h4 class="text-center"> <img src="assets/images/svg/information.svg" alt="success-icon" > Terms & Condition </h4> </div>
	</div>
	<div class="row1">
		<div class="col-12">
			<ol class="order-list">
				<li> Lorem ipsum dolor sit amet, consectetur adipiscing elit </li>
				<li> Lorem ipsum dolor sit amet, sed do eiusmod tempor incididunt ut labore</li>
				<li> Lorem ipsum dolor sit amet, Imperdiet dui accumsan sit amet nulla</li>
				<li> Lorem ipsum dolor sit amet, Imperdiet dui accumsan sit amet nulla</li>
			</ol>
		</div>
	</div>
	<div class="row1 mt-2">
		<div class="col-12 text-center">
			<!-- (click)="cancel()" -->
			<button class="ux-button secondary no md close-btn" (click)="cancel()">OK</button>
		</div>

	</div>
</div>
<!-- Terms & Condition End -->


<div class="popup-bottom md-popup tpin-popup">
	<div class="row1">
		<div class="col-10">
			<h4 class="text-left">{{"TERMS_CONDITIONS" | translate}}</h4>
		</div>
		<div class="col-2">
			<button class="ux-button-icon close-btn" (click)="closepopup()" >
				<img src="assets/images/svg/close-b.svg" alt="cross-icon" class="img-vsmall">
			</button>
		</div>
	</div>
	<div class="row1">
		<div class="col-12">
			<ol class="orderlist">
				<li> {{"IRREVOCABLEY_AND_UNCONDIONAL" | translate}}</li>
				<li>  {{"PERMIT_BANKING_TRANSACTION" | translate}}</li>
				<li>{{"AGRRE_THAT_BANK_OBLIGATION" | translate}}</li>
				<li>{{"COMPLIES_TO_ALL_THE_TERMS" | translate}}</li>
				<li> {{"AUTHORISED_THE_BANK" | translate}}</li>
			</ol>
		</div>
	</div>
	<div class="row1 mt-2">
		<div class="col-12 col-md-12 text-center">
			<button class="ux-button secondary sm-mob" (click)="closepopup()" >{{"OK" | translate}}</button>
		</div>
	 </div>
</div>

